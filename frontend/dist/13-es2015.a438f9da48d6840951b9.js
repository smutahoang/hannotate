(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{FjJ9:function(t,e,n){"use strict";n.r(e),n.d(e,"PagesCustomerModule",function(){return io});var i=n("ofXK"),o=n("tyNb"),s=n("3Pt+"),a=n("XNiG"),r=n("1G5W"),c=n("LvDl"),l=n("5Lk8");function d(t){return e=>{const n=e.value;if(!n)return{numberWordError:!0};const i=n.split(" "),o=c.size(i);return o<=0||o<t?{numberWordError:!0}:null}}var g=n("fXoL"),h=n("ljqC"),u=n("hy6k"),p=n("rDax"),m=n("+rOU"),b=n("FKr1"),f=n("bTqV"),_=n("IzEk"),C=n("R0Ic"),x=n("u47x"),O=n("0MNC"),P=n("nLfN");function M(t,e){if(1&t){const t=g.Ec();g.Dc(0,"div",1),g.Dc(1,"button",2),g.Nc("click",function(){return g.id(t),g.Rc().action()}),g.td(2),g.Cc(),g.Cc()}if(2&t){const t=g.Rc();g.kc(2),g.ud(t.data.action)}}function k(t,e){}const v=new g.w("MatSnackBarData");class y{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const D=Math.pow(2,31)-1;class w{constructor(t,e){this._overlayRef=e,this._afterDismissed=new a.a,this._afterOpened=new a.a,this._onAction=new a.a,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,D))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let j=(()=>{class t{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(g.xc(w),g.xc(v))},t.\u0275cmp=g.rc({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(g.Dc(0,"span"),g.td(1),g.Cc(),g.rd(2,M,3,1,"div",0)),2&t&&(g.kc(1),g.ud(e.data.message),g.kc(1),g.Yc("ngIf",e.hasAction))},directives:[i.n,f.a],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),t})();const S={snackBarState:Object(C.m)("state",[Object(C.j)("void, hidden",Object(C.k)({transform:"scale(0.8)",opacity:0})),Object(C.j)("visible",Object(C.k)({transform:"scale(1)",opacity:1})),Object(C.l)("* => visible",Object(C.e)("150ms cubic-bezier(0, 0, 0.2, 1)")),Object(C.l)("* => void, * => hidden",Object(C.e)("75ms cubic-bezier(0.4, 0.0, 1, 1)",Object(C.k)({opacity:0})))])};let R=(()=>{class t extends m.a{constructor(t,e,n,i,o){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this._platform=i,this.snackBarConfig=o,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new a.a,this._onExit=new a.a,this._onEnter=new a.a,this._animationState="void",this.attachDomPortal=t=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(t)),this._live="assertive"!==o.politeness||o.announcementMessage?"off"===o.politeness?"off":"polite":"assertive"}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:n}=t;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Object(_.a)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),e=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&e){let n=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(n=document.activeElement),t.removeAttribute("aria-hidden"),e.appendChild(t),null==n||n.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return t.\u0275fac=function(e){return new(e||t)(g.xc(g.G),g.xc(g.q),g.xc(g.j),g.xc(P.a),g.xc(y))},t.\u0275cmp=g.rc({type:t,selectors:[["snack-bar-container"]],viewQuery:function(t,e){if(1&t&&g.nd(m.b,!0),2&t){let t;g.fd(t=g.Oc())&&(e._portalOutlet=t.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,e){1&t&&g.pd("@state.done",function(t){return e.onAnimationEnd(t)}),2&t&&g.qd("@state",e._animationState)},features:[g.hc],decls:3,vars:1,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,e){1&t&&(g.Dc(0,"div",0),g.rd(1,k,0,0,"ng-template",1),g.Cc(),g.yc(2,"div")),2&t&&(g.kc(2),g.lc("aria-live",e._live))},directives:[m.b],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[S.snackBarState]}}),t})(),T=(()=>{class t{}return t.\u0275mod=g.vc({type:t}),t.\u0275inj=g.uc({factory:function(e){return new(e||t)},imports:[[p.f,m.e,i.c,f.b,b.g],b.g]}),t})();const I=new g.w("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new y}});let E=(()=>{class t{constructor(t,e,n,i,o,s){this._overlay=t,this._live=e,this._injector=n,this._breakpointObserver=i,this._parentSnackBar=o,this._defaultConfig=s,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=j,this.snackBarContainerComponent=R,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){const i=Object.assign(Object.assign({},this._defaultConfig),n);return i.data={message:t,action:e},i.announcementMessage===t&&(i.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,i)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){const n=g.x.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:y,useValue:e}]}),i=new m.c(this.snackBarContainerComponent,e.viewContainerRef,n),o=t.attach(i);return o.instance.snackBarConfig=e,o.instance}_attach(t,e){const n=Object.assign(Object.assign(Object.assign({},new y),this._defaultConfig),e),i=this._createOverlay(n),o=this._attachSnackBarContainer(i,n),s=new w(o,i);if(t instanceof g.V){const e=new m.f(t,null,{$implicit:n.data,snackBarRef:s});s.instance=o.attachTemplatePortal(e)}else{const e=this._createInjector(n,s),i=new m.c(t,void 0,e),a=o.attachComponentPortal(i);s.instance=a.instance}return this._breakpointObserver.observe(O.b.HandsetPortrait).pipe(Object(r.a)(i.detachments())).subscribe(t=>{const e=i.overlayElement.classList;t.matches?e.add(this.handsetCssClass):e.remove(this.handsetCssClass)}),n.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(n.announcementMessage,n.politeness)}),this._animateSnackBar(s,n),this._openedSnackBarRef=s,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration))}_createOverlay(t){const e=new p.d;e.direction=t.direction;let n=this._overlay.position().global();const i="rtl"===t.direction,o="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!i||"end"===t.horizontalPosition&&i,s=!o&&"center"!==t.horizontalPosition;return o?n.left("0"):s?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){return g.x.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:w,useValue:e},{provide:v,useValue:t.data}]})}}return t.\u0275fac=function(e){return new(e||t)(g.Kc(p.c),g.Kc(x.h),g.Kc(g.x),g.Kc(O.a),g.Kc(t,12),g.Kc(I))},t.\u0275prov=Object(g.tc)({factory:function(){return new t(Object(g.Kc)(p.c),Object(g.Kc)(x.h),Object(g.Kc)(g.u),Object(g.Kc)(O.a),Object(g.Kc)(t,12),Object(g.Kc)(I))},token:t,providedIn:T}),t})();var L=n("5eHb"),z=n("NFeN"),A=n("TU8p"),N=n("Qu3c");function B(t,e){1&t&&g.yc(0,"div",3)}function Y(t,e){1&t&&g.zc(0)}function F(t,e){if(1&t&&(g.Dc(0,"div"),g.rd(1,Y,1,0,"ng-container",4),g.Cc()),2&t){const t=g.Rc();g.kc(1),g.Yc("ngTemplateOutlet",t.value)}}function $(t,e){if(1&t&&g.yc(0,"div",5),2&t){const t=g.Rc();g.Yc("innerHTML",t.value,g.jd)}}let G=(()=>{class t{constructor(t,e){this.elementRef=t,this.renderer=e,this._show=!1,this.events=new g.t}transitionEnd(t){this.show&&this.events.emit({type:"shown"})}set show(t){t&&this.setPosition(),this._show=this.hostClassShow=t}get show(){return this._show}get placement(){return this.data.options.placement}get autoPlacement(){return this.data.options.autoPlacement}get element(){return this.data.element}get elementPosition(){return this.data.elementPosition}get options(){return this.data.options}get value(){return this.data.value}get tooltipOffset(){return Number(this.data.options.offset)}get isThemeLight(){return"light"===this.options.theme}ngOnInit(){this.setCustomClass(),this.setStyles()}setPosition(){if(this.setHostStyle(this.placement))this.setPlacementClass(this.placement);else{const t=["top","right","bottom","left"];let e;for(const n of t)if(this.setHostStyle(n))return this.setPlacementClass(n),void(e=!0);e||(this.setHostStyle(this.placement,!0),this.setPlacementClass(this.placement))}}setPlacementClass(t){this.renderer.addClass(this.elementRef.nativeElement,"tooltip-"+t)}setHostStyle(t,e=!1){const n=this.element instanceof SVGElement,i=this.elementRef.nativeElement,o=!this.elementPosition.right;let s=n?this.element.getBoundingClientRect().height:this.element.offsetHeight,a=n?this.element.getBoundingClientRect().width:this.element.offsetWidth;const r=i.clientHeight,c=i.clientWidth,l=window.pageYOffset;let d,g;if(o&&(s=0,a=0),"top"===t&&(d=this.elementPosition.top+l-(r+this.tooltipOffset)),"bottom"===t&&(d=this.elementPosition.top+l+s+this.tooltipOffset),"top"!==t&&"bottom"!==t||(g=this.elementPosition.left+a/2-c/2),"left"===t&&(g=this.elementPosition.left-c-this.tooltipOffset),"right"===t&&(g=this.elementPosition.left+a+this.tooltipOffset),"left"!==t&&"right"!==t||(d=this.elementPosition.top+l+s/2-i.clientHeight/2),this.autoPlacement&&!e){const t=d+r,e=g,n=g+c,i=window.innerHeight+l,o=document.body.clientWidth;if(d<0||t>i||e<0||n>o)return!1}return this.hostStyleTop=d+"px",this.hostStyleLeft=g+"px",!0}setZIndex(){0!==this.options.zIndex&&(this.hostStyleZIndex=this.options.zIndex)}setPointerEvents(){this.options.pointerEvents&&(this.hostStylePointerEvents=this.options.pointerEvents)}setCustomClass(){this.options.tooltipClass&&this.options.tooltipClass.split(" ").forEach(t=>{this.renderer.addClass(this.elementRef.nativeElement,t)})}setAnimationDuration(){Number(this.options.animationDuration)!=this.options.animationDurationDefault&&(this.hostStyleTransition="opacity "+this.options.animationDuration+"ms")}setStyles(){this.setZIndex(),this.setPointerEvents(),this.setAnimationDuration(),this.hostClassShadow=this.options.shadow,this.hostClassLight=this.isThemeLight,this.hostStyleMaxWidth=this.options.maxWidth+"px",this.hostStyleWidth=this.options.width?this.options.width+"px":""}}return t.\u0275fac=function(e){return new(e||t)(g.xc(g.q),g.xc(g.M))},t.\u0275cmp=g.rc({type:t,selectors:[["tooltip"]],hostAttrs:[1,"tooltip"],hostVars:20,hostBindings:function(t,e){1&t&&g.Nc("transitionend",function(t){return e.transitionEnd(t)}),2&t&&(g.od("top",e.hostStyleTop)("left",e.hostStyleLeft)("z-index",e.hostStyleZIndex)("pointer-events",e.hostStylePointerEvents)("transition",e.hostStyleTransition)("max-width",e.hostStyleMaxWidth)("width",e.hostStyleWidth),g.pc("tooltip-show",e.hostClassShow)("tooltip-shadow",e.hostClassShadow)("tooltip-light",e.hostClassLight))},inputs:{show:"show",data:"data"},decls:4,vars:3,consts:[["class","tooltip-arrow",4,"ngIf"],[4,"ngIf","ngIfElse"],["htmlOrStringTemplate",""],[1,"tooltip-arrow"],[4,"ngTemplateOutlet"],[3,"innerHTML"]],template:function(t,e){if(1&t&&(g.rd(0,B,1,0,"div",0),g.rd(1,F,2,1,"div",1),g.rd(2,$,1,1,"ng-template",null,2,g.sd)),2&t){const t=g.gd(3);g.Yc("ngIf",e.isThemeLight),g.kc(1),g.Yc("ngIf","template"===e.options.contentType)("ngIfElse",t)}},directives:[i.n,i.s],styles:['[_nghost-%COMP%]{background-color:#000;border-radius:6px;color:#fff;display:block;left:0;max-width:200px;opacity:0;padding:5px 8px;pointer-events:none;position:absolute;text-align:center;top:0;transition:opacity .3s;z-index:1000}.tooltip-show[_nghost-%COMP%]{opacity:1}.tooltip-shadow[_nghost-%COMP%]{box-shadow:0 7px 15px -5px rgba(0,0,0,.4)}.tooltip-light.tooltip-shadow[_nghost-%COMP%]{box-shadow:0 5px 15px -5px rgba(0,0,0,.4)}.tooltip[_nghost-%COMP%]:after{border-style:solid;content:"";position:absolute}.tooltip-top[_nghost-%COMP%]:after{border-color:#000 transparent transparent;border-width:5px;left:50%;margin-left:-5px;top:100%}.tooltip-bottom[_nghost-%COMP%]:after{border-color:transparent transparent #000;border-width:5px;bottom:100%;left:50%;margin-left:-5px}.tooltip-left[_nghost-%COMP%]:after{border-color:transparent transparent transparent #000;border-width:5px;left:100%;margin-top:-5px;top:50%}.tooltip-right[_nghost-%COMP%]:after{border-color:transparent #000 transparent transparent;border-width:5px;margin-top:-5px;right:100%;top:50%}.tooltip-light[_nghost-%COMP%]:after{display:none}.tooltip-light[_nghost-%COMP%]{background-color:#fff;border:1px solid rgba(0,0,0,.06);color:#000}.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.07);height:10px;position:absolute;transform:rotate(135deg);width:10px}.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{background-color:#fff;content:"";display:block;height:10px;position:absolute;width:10px}.tooltip-top.tooltip-light[_nghost-%COMP%]{margin-top:-2px}.tooltip-top.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{background:linear-gradient(to bottom left,rgba(0,0,0,.07) 50%,transparent 0);left:50%;margin-left:-5px;margin-top:-4px;top:100%}.tooltip-top.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{right:1px;top:1px}.tooltip-bottom.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{background:linear-gradient(to top right,rgba(0,0,0,.1) 50%,transparent 0);bottom:100%;left:50%;margin-bottom:-4px;margin-left:-5px}.tooltip-bottom.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{right:-1px;top:-1px}.tooltip-left.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{background:linear-gradient(to bottom right,rgba(0,0,0,.07) 50%,transparent 0);left:100%;margin-left:-4px;margin-top:-5px;top:50%}.tooltip-left.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{right:-1px;top:1px}.tooltip-right.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{background:linear-gradient(to top left,rgba(0,0,0,.07) 50%,transparent 0);margin-right:-4px;margin-top:-5px;right:100%;top:50%}.tooltip-right.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{right:1px;top:-1px}']}),t})();const J=new g.w("TooltipOptions"),V={placement:"top",autoPlacement:!0,contentType:"string",showDelay:0,hideDelay:300,hideDelayMobile:0,hideDelayTouchscreen:0,zIndex:0,animationDuration:300,animationDurationDefault:300,trigger:"hover",tooltipClass:"",display:!0,displayMobile:!0,displayTouchscreen:!0,shadow:!0,theme:"dark",offset:8,maxWidth:"",id:!1,hideDelayAfterClick:2e3},q={delay:"showDelay","show-delay":"showDelay","hide-delay":"hideDelay","hide-delay-mobile":"hideDelayTouchscreen",hideDelayMobile:"hideDelayTouchscreen","z-index":"zIndex","animation-duration":"animationDuration","animation-duration-default":"animationDurationDefault","tooltip-class":"tooltipClass","display-mobile":"displayTouchscreen",displayMobile:"displayTouchscreen","max-width":"maxWidth"};let H=(()=>{class t{constructor(t,e,n,i,o){this.initOptions=t,this.elementRef=e,this.componentFactoryResolver=n,this.appRef=i,this.injector=o,this._showDelay=0,this._hideDelay=300,this._options={},this.events=new g.t}set options(t){t&&V&&(this._options=t)}get options(){return this._options}get isTooltipDestroyed(){return this.componentRef&&this.componentRef.hostView.destroyed}get destroyDelay(){return this._destroyDelay?this._destroyDelay:Number(this.getHideDelay())+Number(this.options.animationDuration)}set destroyDelay(t){this._destroyDelay=t}get tooltipPosition(){return this.options.position?this.options.position:this.elementPosition}onMouseEnter(){0!=this.isDisplayOnHover&&this.show()}onMouseLeave(){"hover"===this.options.trigger&&this.destroyTooltip()}onClick(){0!=this.isDisplayOnClick&&(this.show(),this.hideAfterClickTimeoutId=window.setTimeout(()=>{this.destroyTooltip()},this.options.hideDelayAfterClick))}ngOnInit(){}ngOnChanges(t){this.initOptions=this.renameProperties(this.initOptions);let e=this.getProperties(t);e=this.renameProperties(e),this.applyOptionsDefault(V,e)}ngOnDestroy(){this.destroyTooltip({fast:!0}),this.componentSubscribe&&this.componentSubscribe.unsubscribe()}getShowDelay(){return this.options.showDelay}getHideDelay(){return this.isTouchScreen?this.options.hideDelayTouchscreen:this.options.hideDelay}getProperties(t){let e={},n={},i={};for(var o in t)"options"!==o&&"tooltipValue"!==o&&(e[o]=t[o].currentValue),"options"===o&&(n=t[o].currentValue);return i=Object.assign({},n,e),i}renameProperties(t){for(var e in t)q[e]&&(t[q[e]]=t[e],delete t[e]);return t}getElementPosition(){this.elementPosition=this.elementRef.nativeElement.getBoundingClientRect()}createTooltip(){this.clearTimeouts(),this.getElementPosition(),this.createTimeoutId=window.setTimeout(()=>{this.appendComponentToBody(G)},this.getShowDelay()),this.showTimeoutId=window.setTimeout(()=>{this.showTooltipElem()},this.getShowDelay())}destroyTooltip(t={fast:!1}){this.clearTimeouts(),0==this.isTooltipDestroyed&&(this.hideTimeoutId=window.setTimeout(()=>{this.hideTooltip()},t.fast?0:this.getHideDelay()),this.destroyTimeoutId=window.setTimeout(()=>{this.componentRef&&!this.isTooltipDestroyed&&(this.appRef.detachView(this.componentRef.hostView),this.componentRef.destroy(),this.events.emit({type:"hidden",position:this.tooltipPosition}))},t.fast?0:this.destroyDelay))}showTooltipElem(){this.clearTimeouts(),this.componentRef.instance.show=!0,this.events.emit({type:"show",position:this.tooltipPosition})}hideTooltip(){this.componentRef&&!this.isTooltipDestroyed&&(this.componentRef.instance.show=!1,this.events.emit({type:"hide",position:this.tooltipPosition}))}appendComponentToBody(t,e={}){this.componentRef=this.componentFactoryResolver.resolveComponentFactory(t).create(this.injector),this.componentRef.instance.data={value:this.tooltipValue,element:this.elementRef.nativeElement,elementPosition:this.tooltipPosition,options:this.options},this.appRef.attachView(this.componentRef.hostView),document.body.appendChild(this.componentRef.hostView.rootNodes[0]),this.componentSubscribe=this.componentRef.instance.events.subscribe(t=>{this.handleEvents(t)})}clearTimeouts(){this.createTimeoutId&&clearTimeout(this.createTimeoutId),this.showTimeoutId&&clearTimeout(this.showTimeoutId),this.hideTimeoutId&&clearTimeout(this.hideTimeoutId),this.destroyTimeoutId&&clearTimeout(this.destroyTimeoutId)}get isDisplayOnHover(){return 0!=this.options.display&&(0!=this.options.displayTouchscreen||!this.isTouchScreen)&&"hover"===this.options.trigger}get isDisplayOnClick(){return 0!=this.options.display&&(0!=this.options.displayTouchscreen||!this.isTouchScreen)&&"click"==this.options.trigger}get isTouchScreen(){var t,e=" -webkit- -moz- -o- -ms- ".split(" ");return"ontouchstart"in window||(t=["(",e.join("touch-enabled),("),"heartz",")"].join(""),window.matchMedia(t).matches)}applyOptionsDefault(t,e){this.options=Object.assign({},t,this.initOptions||{},e)}handleEvents(t){"shown"===t.type&&this.events.emit({type:"shown",position:this.tooltipPosition})}show(){!this.componentRef||this.isTooltipDestroyed?this.createTooltip():this.isTooltipDestroyed||this.showTooltipElem()}hide(){this.destroyTooltip()}}return t.\u0275fac=function(e){return new(e||t)(g.xc(J,8),g.xc(g.q),g.xc(g.n),g.xc(g.g),g.xc(g.x))},t.\u0275dir=g.sc({type:t,selectors:[["","tooltip",""]],hostBindings:function(t,e){1&t&&g.Nc("focusin",function(){return e.onMouseEnter()})("mouseenter",function(){return e.onMouseEnter()})("focusout",function(){return e.onMouseLeave()})("mouseleave",function(){return e.onMouseLeave()})("click",function(){return e.onClick()})},inputs:{options:"options",tooltipValue:["tooltip","tooltipValue"],placement:"placement",autoPlacement:"autoPlacement",contentType:["content-type","contentType"],hideDelayMobile:["hide-delay-mobile","hideDelayMobile"],hideDelayTouchscreen:"hideDelayTouchscreen",zIndex:["z-index","zIndex"],animationDuration:["animation-duration","animationDuration"],trigger:"trigger",tooltipClass:["tooltip-class","tooltipClass"],display:"display",displayMobile:["display-mobile","displayMobile"],displayTouchscreen:"displayTouchscreen",shadow:"shadow",theme:"theme",offset:"offset",width:"width",maxWidth:["max-width","maxWidth"],id:"id",showDelay:["show-delay","showDelay"],hideDelay:["hide-delay","hideDelay"],hideDelayAfterClick:"hideDelayAfterClick",pointerEvents:"pointerEvents",position:"position"},outputs:{events:"events"},exportAs:["tooltip"],features:[g.ic]}),t})(),U=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:J,useValue:e}]}}}return t.\u0275mod=g.vc({type:t}),t.\u0275inj=g.uc({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})();function K(t,e){if(1&t&&(g.Bc(0),g.Dc(1,"ul"),g.Dc(2,"li"),g.td(3),g.Cc(),g.Cc(),g.Ac()),2&t){const t=g.Rc(2);g.kc(3),g.ud(t.errorMessage)}}function W(t,e){if(1&t&&(g.Bc(0),g.Dc(1,"li"),g.td(2),g.Cc(),g.Ac()),2&t){const t=e.$implicit;g.kc(2),g.ud(t)}}function Z(t,e){if(1&t&&(g.Dc(0,"ul"),g.rd(1,W,3,1,"ng-container",6),g.Cc()),2&t){const t=g.Rc(2);g.kc(1),g.Yc("ngForOf",t.errorsMessage)}}function X(t,e){if(1&t&&(g.Dc(0,"div",3),g.rd(1,K,4,1,"ng-container",4),g.rd(2,Z,2,1,"ng-template",null,5,g.sd),g.Cc()),2&t){const t=g.gd(3),e=g.Rc();g.kc(1),g.Yc("ngIf",e.errorsMessage&&0===e.errorsMessage.length)("ngIfElse",t)}}let Q=(()=>{class t{constructor(t){this.cdf=t,this.errorMessage="",this.errorsMessage=[],this.isShowMessage=!0,this.showFullMessage=!1,this.timer=2e3,this.isLoading=!0,this.hiddenMessage=!1,this.options={placement:"top"}}ngOnInit(){const t=setTimeout(()=>{this.isLoading=!1,this.cdf.markForCheck(),this.autoHiddenMessage(),clearTimeout(t)},this.timer)}autoHiddenMessage(){if(!this.autoHidden)return;const t=setTimeout(()=>{this.isShowMessage=!1,clearTimeout(t),this.cdf.markForCheck()},this.autoHidden)}}return t.\u0275fac=function(e){return new(e||t)(g.xc(g.j))},t.\u0275cmp=g.rc({type:t,selectors:[["app-errors-message"]],inputs:{errorMessage:"errorMessage",errorsMessage:"errorsMessage",isShowMessage:"isShowMessage",showFullMessage:"showFullMessage",autoHidden:"autoHidden",timer:"timer"},decls:4,vars:8,consts:[["content-type","template","tooltip-class","error-message-tooltip",1,"error-wrapper","bg-danger",3,"tooltip","options"],[1,"spinner-light","message-number"],["templateError",""],[1,"d-block"],[4,"ngIf","ngIfElse"],["errors",""],[4,"ngFor","ngForOf"]],template:function(t,e){if(1&t&&(g.Dc(0,"div",0),g.yc(1,"span",1),g.Cc(),g.rd(2,X,4,2,"ng-template",null,2,g.sd)),2&t){const t=g.gd(3);g.Yc("tooltip",t)("options",e.options),g.kc(1),g.pc("spinner",e.isLoading)("messages",!e.isLoading),g.lc("err",e.errorsMessage&&0!=e.errorsMessage.length?e.errorsMessage.length:e.errorMessage?"1":"")("message",e.isShowMessage?e.errorMessage:"")}},directives:[H,i.n,i.m],styles:["[_nghost-%COMP%]{display:block;position:absolute;right:10px;bottom:10px}[_nghost-%COMP%]   .error-wrapper[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;cursor:pointer}[_nghost-%COMP%]   .error-wrapper[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:20px;height:20px;display:block}[_nghost-%COMP%]   .error-wrapper[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]:before{width:12px;height:12px;margin-top:0;top:4px;left:4px}[_nghost-%COMP%]   .error-wrapper[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .error-wrapper[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]:before{content:attr(err);font-size:12px;font-weight:700;color:#fff;display:flex;align-items:center;justify-content:center;margin:auto;position:relative;top:1px}[_nghost-%COMP%]   .error-wrapper[_ngcontent-%COMP%]   .messages[_ngcontent-%COMP%]:after{content:attr(message);position:absolute;white-space:nowrap;top:50%;overflow:hidden;text-overflow:ellipsis;right:100%;margin-right:10px;max-width:300px;color:#f64e60}  .error-message-tooltip{background:var(--danger)!important;color:#fff!important}  .error-message-tooltip ul{margin:0;padding-left:15px}  .error-message-tooltip ul li{text-align:left}  .error-message-tooltip:after{border-color:transparent!important}"]}),t})();var tt=n("sYmb");function et(t,e){if(1&t&&(g.Bc(0),g.Dc(1,"span"),g.td(2),g.Cc(),g.Ac()),2&t){const t=g.Rc();g.kc(1),g.pc("text-danger","Rejected"===(null==t.jobDetail?null:t.jobDetail.status))("text-success","Accepted"===(null==t.jobDetail?null:t.jobDetail.status)),g.kc(1),g.vd("[",null==t.jobDetail?null:t.jobDetail.status,"]")}}function nt(t,e){if(1&t){const t=g.Ec();g.Dc(0,"button",35),g.Nc("click",function(){return g.id(t),g.Rc().submitResultJob(!0)}),g.td(1," Submit "),g.Cc()}}function it(t,e){if(1&t){const t=g.Ec();g.Dc(0,"button",36),g.Nc("click",function(){return g.id(t),g.Rc().submitResultJob(!1)}),g.td(1," Cancel submit "),g.Cc()}if(2&t){const t=g.Rc();g.pc("disabled","Accepted"===(null==t.jobDetail?null:t.jobDetail.status))}}function ot(t,e){if(1&t&&g.yc(0,"img",37),2&t){const t=g.Rc();g.Yc("src",null==t.task?null:t.task.content,g.kd)}}function st(t,e){1&t&&g.yc(0,"app-errors-message",38),2&t&&g.Yc("errorMessage","Must not be less than 10 words.")}const at=function(t){return{"width.%":t}};let rt=(()=>{class t{constructor(t,e,n,i,o,r,c){this.stagingService=t,this.jobService=e,this.changeRef=n,this.router=i,this._snackBar=o,this.dialogService=r,this.toastService=c,this.destroy$=new a.a,this.task=0,this.text=new s.g("",[s.x.required,d(10)]),this.total=0,this.self=this,this.taskSummary=null,this.currentIndex=null,this.currentTask=null,this.isSubmit=!1,this.jobDetail=null,this.initialed=!1,this.isDone=!1,this.isLoad=!1}ngOnInit(){this.taskSummary=this.jobService.getProgressTask;const t=this.jobService.getLstTask;this.stagingService.getImageTask().pipe(Object(r.a)(this.destroy$)).subscribe(e=>{if(this.isLoad=!0,this.timeOut&&clearTimeout(this.timeOut),this.timeOut=setTimeout(()=>{this.isLoad=!1,this.changeRef.markForCheck()},2e3),!e)return;if(this.currentTask=null,this.task=c.get(e,"task"),!this.task)return void this.router.navigate(["./annotator"]);this.job=c.get(e,"job"),this.initialed||(this.initialed=!0,this.jobDetail=c.get(e,"jobDetail")),this.text.reset("");const n=c.get(this.jobDetail,"status");"Reviewing"===n||"Accepted"===n?(this.isSubmit=!0,this.text.disable()):(this.isSubmit=!1,this.text.enable()),this.currentIndex=t.findIndex(t=>c.get(t,"id")===c.get(this.task,"id")),this.getMissionTaskResult()})}getMissionTaskResult(){const t=c.get(this.task,"id");(t||0===t)&&this.jobService.getSubmissionTaskResult(t).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{t&&(this.currentTask=t[0],this.text.setValue(c.get(t[0],"text")),this.changeRef.markForCheck())})}save(){const t=this.text.value;t&&(this.text.disabled||this.jobService.saveSubmissionTaskResult(c.get(this.task,"id"),{payload:[{text:t}]}).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{this.taskSummary=this.jobService.updateProgressTask(this.task),this.stagingService.updateJobListState(!0),this.getTaskList(this.job),this.changeRef.markForCheck()}))}taskChange(t){this.stagingService.setTaskChange({task:this.task,next:t})}convert(...t){const e=this.task;return e&&0!==c.size(e)?this.task.map(t=>t.edited).length/this.total*100:0}submitResultJob(t){if(!this.jobDetail.tasks.every(t=>c.get(t,"edited")))return void this.toastService.error("Please complete all task","Errors",{positionClass:"toast-bottom-right"});const e=c.get(this.job,"assignment_id",null);e&&this.jobService.submitJobResult(e,t).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{this.text.disable(),this._snackBar.open("Update successful !!!","Close",{duration:2e3,horizontalPosition:"end",verticalPosition:"bottom"}),this.getTaskList(this.job)})}getTaskList(t){this.subscription&&this.subscription.unsubscribe(),this.subscription=this.jobService.getTaskList(c.get(t,"assignment_id")).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{t&&(this.jobDetail=t,this.isDone=this.jobDetail.tasks.every(t=>c.get(t,"edited")),this.changeRef.markForCheck())},()=>{this.jobDetail=null})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}openChartAnalysis(){this.dialogService.openDialogRanking(c.get(this.job,"id"),this.job).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{})}}return t.\u0275fac=function(e){return new(e||t)(g.xc(h.a),g.xc(u.a),g.xc(g.j),g.xc(o.h),g.xc(E),g.xc(l.a),g.xc(L.b))},t.\u0275cmp=g.rc({type:t,selectors:[["app-image-annotator"]],features:[g.jc([l.a])],decls:60,vars:26,consts:[[1,"card-header","p-4","align-items-center","justify-items-end"],[1,"card-title","py-2","mb-0"],[1,"card-label"],[4,"ngIf"],[1,"ranking-icon",3,"click"],[1,"card-action","ml-auto","d-flex","align-items-center"],["mat-icon-button","","matBadgeColor","warn","matTooltipClass","tooltip-comment",1,"button","mr-6",3,"matBadge","matTooltip"],["mat-stroked-button","","color","primary",3,"click",4,"ngIf"],["mat-stroked-button","","color","warn",3,"disabled","click",4,"ngIf"],["id","message-pane",1,"column","col-10","col-sm-11","col-xs-11","m-auto","is-7","is-offset-1","message","hero","is-fullheight"],[1,"modal"],[1,"modal-background"],[1,"modal-card"],[1,"modal-card-head"],[1,"modal-card-title"],["aria-label","close",1,"delete"],[1,"modal-card-body","modal-card-body-footer","content",2,"line-height","150%"],[1,"columns","d-flex","algin-items-center","w-100","mb-3"],[1,"column","mr-4","col-3","m","p-0","d-flex","align-items-center"],[1,"progress","w-100"],["role","progressbar","aria-valuenow","0","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",3,"ngStyle"],[1,"column","font-size-16"],[1,"ml10"],[1,"card","px-3"],[1,"image","mt-3","px-0"],["alt","img","class","col-12",3,"src",4,"ngIf"],[1,"form-group","col-12","m-auto","my-3","py-3","px-0"],["type","text","placeholder","Description",1,"form-control","textarea","new-todo",3,"formControl","blur"],[3,"errorMessage",4,"ngIf"],[1,"level","mt30"],[1,"button","level-left",3,"click"],[1,"icon"],[1,"fas","fa-chevron-left"],[1,"button","level-right",3,"click"],[1,"fas","fa-chevron-right"],["mat-stroked-button","","color","primary",3,"click"],["mat-stroked-button","","color","warn",3,"click"],["alt","img",1,"col-12",3,"src"],[3,"errorMessage"]],template:function(t,e){1&t&&(g.Dc(0,"div",0),g.Dc(1,"div",1),g.Dc(2,"h3",2),g.td(3),g.rd(4,et,3,5,"ng-container",3),g.Dc(5,"mat-icon",4),g.Nc("click",function(){return e.openChartAnalysis()}),g.td(6,"analytics"),g.Cc(),g.Cc(),g.Dc(7,"span"),g.td(8),g.Cc(),g.Cc(),g.Dc(9,"div",5),g.Dc(10,"button",6),g.Dc(11,"mat-icon"),g.td(12,"chat_bubble_outline"),g.Cc(),g.Cc(),g.rd(13,nt,2,0,"button",7),g.rd(14,it,2,2,"button",8),g.Cc(),g.Cc(),g.Dc(15,"div",9),g.Dc(16,"div",10),g.yc(17,"div",11),g.Dc(18,"div",12),g.Dc(19,"header",13),g.Dc(20,"p",14),g.td(21,"Annotation Guideline"),g.Cc(),g.yc(22,"button",15),g.Cc(),g.Dc(23,"section",16),g.Dc(24,"p"),g.td(25,"You can see annotation guideline here."),g.Cc(),g.Cc(),g.Cc(),g.Cc(),g.Dc(26,"div",17),g.Dc(27,"div",18),g.Dc(28,"div",19),g.yc(29,"div",20),g.Cc(),g.Cc(),g.Dc(30,"div",21),g.Dc(31,"span",22),g.Dc(32,"strong"),g.td(33),g.Cc(),g.Cc(),g.td(34,"/"),g.Dc(35,"span"),g.td(36),g.Cc(),g.Cc(),g.Cc(),g.Dc(37,"div",23),g.Dc(38,"div",24),g.Dc(39,"figure"),g.rd(40,ot,1,1,"img",25),g.Dc(41,"figcaption"),g.td(42),g.Cc(),g.Cc(),g.Cc(),g.Dc(43,"div",26),g.Dc(44,"textarea",27),g.Nc("blur",function(){return e.save()}),g.td(45,"      "),g.Cc(),g.rd(46,st,1,1,"app-errors-message",28),g.Cc(),g.Cc(),g.Dc(47,"div",29),g.Dc(48,"a",30),g.Nc("click",function(){return e.taskChange(!1)}),g.Dc(49,"span",31),g.yc(50,"i",32),g.Cc(),g.Dc(51,"span"),g.td(52),g.Sc(53,"translate"),g.Cc(),g.Cc(),g.Dc(54,"a",33),g.Nc("click",function(){return e.taskChange(!0)}),g.Dc(55,"span"),g.td(56),g.Sc(57,"translate"),g.Cc(),g.Dc(58,"span",31),g.yc(59,"i",34),g.Cc(),g.Cc(),g.Cc(),g.Cc()),2&t&&(g.kc(3),g.vd("",null==e.job?null:e.job.name," "),g.kc(1),g.Yc("ngIf","Accepted"===(null==e.jobDetail?null:e.jobDetail.status)||"Rejected"===(null==e.jobDetail?null:e.jobDetail.status)),g.kc(4),g.ud(null==e.job?null:e.job.description),g.kc(2),g.Yc("matBadge",null!=e.jobDetail&&e.jobDetail.comment?1:0)("matTooltip",null==e.jobDetail?null:e.jobDetail.comment),g.kc(3),g.Yc("ngIf","Reviewing"!==(null==e.jobDetail?null:e.jobDetail.status)&&"Accepted"!==(null==e.jobDetail?null:e.jobDetail.status)&&!e.isSubmit),g.kc(1),g.Yc("ngIf","Reviewing"===(null==e.jobDetail?null:e.jobDetail.status)||"Accepted"===(null==e.jobDetail?null:e.jobDetail.status)||e.isSubmit),g.kc(15),g.Yc("ngStyle",g.cd(24,at,null==e.taskSummary?null:e.taskSummary.percent)),g.kc(4),g.ud(null==e.taskSummary?null:e.taskSummary.lstTaskEdited),g.kc(3),g.ud(null==e.taskSummary?null:e.taskSummary.total),g.kc(4),g.Yc("ngIf",null==e.task?null:e.task.content),g.kc(2),g.ud(null==e.currentTask?null:e.currentTask.meta_data),g.kc(2),g.Yc("formControl",e.text),g.kc(2),g.Yc("ngIf",null==e.text?null:e.text.errors),g.kc(2),g.pc("disabled",0===e.currentIndex||e.isLoad),g.kc(4),g.ud(g.Tc(53,20,"common.prev")),g.kc(2),g.pc("disabled",e.currentIndex===(null==e.taskSummary?null:e.taskSummary.total)-1||e.isLoad),g.kc(2),g.ud(g.Tc(57,22,"common.next")))},directives:[i.n,z.a,f.a,A.a,N.a,i.o,s.c,s.q,s.h,Q],pipes:[tt.d],styles:["[_nghost-%COMP%]   app-errors-message[_ngcontent-%COMP%]{bottom:20px}.mt30[_ngcontent-%COMP%]{margin-top:30px!important}span[_ngcontent-%COMP%]{font-style:inherit;font-weight:inherit}.image[_ngcontent-%COMP%]{height:400px;display:flex;align-items:center;justify-content:center}.image[_ngcontent-%COMP%], .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;text-align:center}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;max-height:100%;max-width:100%;-o-object-fit:contain;object-fit:contain;margin:auto}.textarea[_ngcontent-%COMP%]:not([rows]){max-height:600px;min-height:120px}.input.is-hovered[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]:hover, .textarea.is-hovered[_ngcontent-%COMP%], .textarea[_ngcontent-%COMP%]:hover{border-color:#b5b5b5}.edit[_ngcontent-%COMP%], .new-todo[_ngcontent-%COMP%]{position:relative;margin:0;width:100%;font-size:16pt;font-family:inherit;font-weight:inherit;line-height:1.4em;color:inherit;padding:6px;border:1px solid #999;box-shadow:inset 0 -1px 5px 0 rgba(0,0,0,.2);box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.textarea[_ngcontent-%COMP%]{display:block;max-width:100%;min-width:100%;padding:.625em;resize:vertical}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{word-break:break-all;padding:1.5rem 60px 1.5rem 1.5rem;display:block;line-height:1.2;transition:color .4s}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .destroy[_ngcontent-%COMP%]{display:none;position:absolute;top:0;right:10px;bottom:0;margin:auto 0}.form-control[_ngcontent-%COMP%]{border-color:#999!important}figure[_ngcontent-%COMP%]{width:100%;height:100%}.form-group[_ngcontent-%COMP%]{margin-top:10px!important}figcaption[_ngcontent-%COMP%]{padding:2px}",'.message[_ngcontent-%COMP%], .messages[_ngcontent-%COMP%]{padding:40px 20px}.pg[_ngcontent-%COMP%]{display:inline-block;top:10px}.card-header[_ngcontent-%COMP%]{background-color:none;align-items:stretch;box-shadow:0 1px 2px rgba(10,10,10,.1);display:flex}.card-header-title[_ngcontent-%COMP%]{align-items:center;color:#363636;display:flex;flex-grow:1;font-weight:700}img[_ngcontent-%COMP%]{height:500px;width:auto;-o-object-fit:contain;object-fit:contain}.level[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.level-left[_ngcontent-%COMP%]{align-items:center;justify-content:flex-start}.button[_ngcontent-%COMP%]{background-color:#fff;border-color:#dbdbdb;border-width:1px;color:#363636;cursor:pointer;justify-content:center;padding:calc(.375em - 1px) .75em;text-align:center;white-space:nowrap}.level-right[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end}.level-left[_ngcontent-%COMP%], .level-right[_ngcontent-%COMP%]{flex-basis:auto;flex-grow:0;flex-shrink:0}.button[_ngcontent-%COMP%], .file-cta[_ngcontent-%COMP%], .file-name[_ngcontent-%COMP%], .input[_ngcontent-%COMP%], .pagination-ellipsis[_ngcontent-%COMP%], .pagination-link[_ngcontent-%COMP%], .pagination-next[_ngcontent-%COMP%], .pagination-previous[_ngcontent-%COMP%], .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .textarea[_ngcontent-%COMP%]{-moz-appearance:none;-webkit-appearance:none;align-items:center;border:1px solid transparent;border-radius:4px;box-shadow:none;display:inline-flex;font-size:16px;height:2.25em;justify-content:flex-start;line-height:1.5;padding:calc(.375em - 1px) calc(.625em - 1px);position:relative;vertical-align:top}.textarea[_ngcontent-%COMP%]{padding:2rem 2.25rem}.button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:first-child:not(:last-child){margin-left:calc(-.375em - 1px);margin-right:.1875em}.button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-large[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-medium[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-small[_ngcontent-%COMP%]{height:1.5em;width:1.5em}.icon[_ngcontent-%COMP%]{align-items:center;display:inline-flex;justify-content:center;height:1.5rem;width:1.5rem}span[_ngcontent-%COMP%]{font-style:inherit;font-weight:inherit}.tag[_ngcontent-%COMP%]:not(body)   .delete[_ngcontent-%COMP%]{margin-left:.25rem;margin-right:-.375rem}.is-small.delete[_ngcontent-%COMP%], .is-small.modal-close[_ngcontent-%COMP%]{height:16px;max-height:16px;max-width:16px;min-height:16px;min-width:16px;width:16px}.delete[_ngcontent-%COMP%], .modal-close[_ngcontent-%COMP%]{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(10,10,10,.2);border:none;border-radius:290486px;cursor:pointer;display:inline-block;flex-grow:0;flex-shrink:0;font-size:0;height:20px;max-height:20px;max-width:20px;min-height:20px;min-width:20px;outline:0;position:relative;vertical-align:top;width:20px}.delete[_ngcontent-%COMP%]:before, .modal-close[_ngcontent-%COMP%]:before{height:2px;width:50%}.delete[_ngcontent-%COMP%]:after, .modal-close[_ngcontent-%COMP%]:after{height:50%;width:2px}.delete[_ngcontent-%COMP%]:after, .delete[_ngcontent-%COMP%]:before, .modal-close[_ngcontent-%COMP%]:after, .modal-close[_ngcontent-%COMP%]:before{background-color:#fff;content:"";display:block;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%) rotate(45deg);transform-origin:center center}.mt30[_ngcontent-%COMP%]{margin-top:30px!important}field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%]:last-child{margin-bottom:-.75rem}.field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%]{flex-wrap:wrap}.field.is-grouped[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:last-child, .field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.75rem}.field.is-grouped[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:not(:last-child){margin-bottom:0;margin-right:.75rem}.field.is-grouped[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]{flex-shrink:0}.control[_ngcontent-%COMP%]{font-size:16px;position:relative;text-align:left}.tags[_ngcontent-%COMP%]:last-child{margin-bottom:-.5rem}.tags[_ngcontent-%COMP%]{align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-start}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{margin-right:0}.tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.tag[_ngcontent-%COMP%]:not(body).is-medium{font-size:16px}.tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{margin-bottom:.5rem}.tag[_ngcontent-%COMP%]:not(body){align-items:center;background-color:#f5f5f5;border-radius:4px;color:#4a4a4a;display:inline-flex;font-size:.75rem;justify-content:center;line-height:1.5;padding-left:.75em;padding-right:.75em;white-space:normal;height:auto}a[_ngcontent-%COMP%]{color:#3273dc;cursor:pointer;text-decoration:none}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0}.card-content[_ngcontent-%COMP%]{background-color:none;padding:2rem 2.25rem}  .tooltip-comment{font-size:16px;background-color:#fff;color:#000!important;min-width:200px;padding:16px;box-shadow:0 2px 3px rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.1)}[_nghost-%COMP%]   .has-errors[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .has-errors[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid #f64e60}@media screen and (max-width:1024px){#message-pane[_ngcontent-%COMP%]{padding:16px 0;max-width:90%}[_nghost-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 50px);overflow:auto}}']}),t})();var ct=n("7o2P");function lt(t,e){if(1&t&&(g.Bc(0),g.Dc(1,"span"),g.td(2),g.Cc(),g.Ac()),2&t){const t=g.Rc();g.kc(1),g.pc("text-danger","Rejected"===(null==t.jobDetail?null:t.jobDetail.status))("text-success","Accepted"===(null==t.jobDetail?null:t.jobDetail.status)),g.kc(1),g.vd("[",null==t.jobDetail?null:t.jobDetail.status,"]")}}function dt(t,e){if(1&t){const t=g.Ec();g.Dc(0,"button",39),g.Nc("click",function(){return g.id(t),g.Rc().submitResultJob(!0)}),g.td(1," Submit "),g.Cc()}}function gt(t,e){if(1&t){const t=g.Ec();g.Dc(0,"button",40),g.Nc("click",function(){return g.id(t),g.Rc().submitResultJob(!1)}),g.td(1," Cancel submit "),g.Cc()}if(2&t){const t=g.Rc();g.pc("disabled","Accepted"===(null==t.jobDetail?null:t.jobDetail.status))}}const ht=function(t){return{color:"rgb(255, 255, 255)","background-color":t}};function ut(t,e){if(1&t){const t=g.Ec();g.Bc(0),g.Dc(1,"button",41),g.Nc("click",function(n){g.id(t);const i=e.$implicit,o=e.index,s=g.Rc();return n.stopPropagation(),s.addLabel(i,o)}),g.Dc(2,"div",42),g.Dc(3,"a",43),g.td(4),g.Cc(),g.Dc(5,"span",44),g.td(6),g.Cc(),g.Cc(),g.Cc(),g.Ac()}if(2&t){const t=e.$implicit;g.kc(1),g.pc("disabled",null==t?null:t.selected),g.kc(2),g.Yc("ngStyle",g.cd(5,ht,null==t?null:t.background)),g.kc(1),g.vd(" ",null==t?null:t.name," "),g.kc(2),g.ud(null==t?null:t.name[0])}}function pt(t,e){if(1&t){const t=g.Ec();g.Bc(0),g.Dc(1,"div",46),g.Dc(2,"a",43),g.td(3),g.Cc(),g.Dc(4,"button",47),g.Nc("click",function(){g.id(t);const n=e.index;return g.Rc(2).removeLabel(n)}),g.td(5,"x"),g.Cc(),g.Cc(),g.Ac()}if(2&t){const t=e.$implicit;g.kc(2),g.Yc("ngStyle",g.cd(2,ht,null==t?null:t.background)),g.kc(1),g.vd(" ",null==t?null:t.name," ")}}function mt(t,e){if(1&t&&(g.Dc(0,"div",45),g.rd(1,pt,6,4,"ng-container",27),g.Cc()),2&t){const t=g.Rc();g.kc(1),g.Yc("ngForOf",t.selectedLabel)}}function bt(t,e){if(1&t&&(g.Bc(0),g.Dc(1,"li",48),g.Dc(2,"div",49),g.Dc(3,"label"),g.td(4),g.Cc(),g.Dc(5,"label"),g.td(6),g.Cc(),g.Cc(),g.Cc(),g.Ac()),2&t){const t=e.$implicit,n=e.index;g.kc(4),g.vd("Text ",n+1,""),g.kc(2),g.ud(t)}}const ft=function(t){return{"width.%":t}};let _t=(()=>{class t{constructor(t,e,n,i,o,r,c,l){this.stagingService=t,this.jobService=e,this.changeRef=n,this.router=i,this._snackBar=o,this.dialogService=r,this.commonService=c,this.toastService=l,this.destroy$=new a.a,this.formGroup=new s.j({}),this.taskSummary=null,this.isSubmit=!1,this.jobDetail=null,this.initialed=!1,this.isDone=!1,this.isLoad=!1,this.subscriptions=[],this.selectedLabel=[],this.labels=[]}ngOnInit(){this.taskSummary=this.jobService.getProgressTask;const t=this.jobService.getLstTask;this.stagingService.getNaturalLanguageInference().pipe(Object(r.a)(this.destroy$)).subscribe(e=>{if(this.isLoad=!0,this.formGroup=new s.j({}),this.selectedLabel=[],this.destroySubscription(),this.timeOut&&clearTimeout(this.timeOut),this.timeOut=setTimeout(()=>{this.isLoad=!1,this.changeRef.markForCheck()},2e3),!e)return;if(this.task=c.get(e,"task"),!this.task)return void this.router.navigate(["./annotator"]);const n=c.get(this.task,"content");n&&(this.paragraph=n.split("|")),this.job=c.get(e,"job"),this.labels=this.commonService.convertLabels(c.get(this.job,"labels")),this.initialed||(this.initialed=!0,this.jobDetail=c.get(e,"jobDetail"),this.isDone=this.jobDetail.tasks.every(t=>c.get(t,"edited")));const i=c.get(this.jobDetail,"status");"Reviewing"===i||"Accepted"===i?(this.isSubmit=!0,this.formGroup.disable()):(this.isSubmit=!1,this.formGroup.enable()),this.formGroup.reset(""),this.currentIndex=t.findIndex(t=>c.get(t,"id")===c.get(this.task,"id")),this.getMissionTaskResult()})}getMissionTaskResult(){const t=c.get(this.task,"id");(t||0===t)&&this.jobService.getSubmissionTaskResult(t).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{c.size(t)&&(this.labels.forEach(e=>{e&&t.find(t=>c.get(e,"name")===c.get(t,"label"))&&(e.selected=!0,this.selectedLabel.push(e))}),this.changeRef.markForCheck())})}save(){if(this.formGroup.disabled)return;const t=this.selectedLabel.map(t=>({label:null==t?void 0:t.name}));this.jobService.saveSubmissionTaskResult(c.get(this.task,"id"),{payload:t}).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{this.taskSummary=this.jobService.updateProgressTask(this.task),this.stagingService.updateJobListState(!0),this.getTaskList(this.job),this.changeRef.markForCheck()})}taskChange(t){this.stagingService.setTaskChange({task:this.task,next:t})}submitResultJob(t){if(!this.jobDetail.tasks.every(t=>c.get(t,"edited")))return void this.toastService.error("Please complete all task","Errors",{positionClass:"toast-bottom-right"});this.isSubmit=t;const e=c.get(this.job,"assignment_id",null);e&&this.jobService.submitJobResult(e,t).pipe(Object(r.a)(this.destroy$)).subscribe(e=>{t?this.formGroup.disable():this.formGroup.enable(),this._snackBar.open("Update successful !!!","Close",{duration:2e3,horizontalPosition:"end",verticalPosition:"bottom"}),this.getTaskList(this.job)})}getTaskList(t){this.subscription&&this.subscription.unsubscribe(),this.subscription=this.jobService.getTaskList(c.get(t,"assignment_id")).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{t&&(this.jobDetail=t,this.isDone=this.jobDetail.tasks.every(t=>c.get(t,"edited")),this.changeRef.markForCheck())},()=>{this.jobDetail=null})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}openChartAnalysis(){this.dialogService.openDialogRanking(c.get(this.job,"id"),this.job).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{})}destroySubscription(){c.size(this.subscriptions)&&this.subscriptions.forEach(t=>{t.unsubscribe()})}addLabel(t,e){this.labels[e].selected=!0,this.selectedLabel.push(t),console.log(this.selectedLabel,"save"),this.save(),this.changeRef.markForCheck()}removeLabel(t){const e=this.selectedLabel[t],n=this.labels.findIndex(t=>(null==t?void 0:t.name)===(null==e?void 0:e.name));this.selectedLabel=this.selectedLabel.filter((e,n)=>t!==n),-1!==n&&(this.labels[n].selected=!1,this.save(),this.changeRef.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(g.xc(h.a),g.xc(u.a),g.xc(g.j),g.xc(o.h),g.xc(E),g.xc(l.a),g.xc(ct.a),g.xc(L.b))},t.\u0275cmp=g.rc({type:t,selectors:[["app-natural-language-inference"]],features:[g.jc([l.a])],decls:61,vars:26,consts:[[1,"card-header","p-4","d-flex","align-items-center","justify-items-end"],[1,"card-title","py-2","mb-0"],[1,"card-label"],[4,"ngIf"],[1,"ranking-icon",3,"click"],[1,"card-action","ml-auto","d-flex","align-items-center"],["mat-icon-button","","matBadgeColor","warn","matTooltipClass","tooltip-comment",1,"button","mr-6",3,"matBadge","matTooltip"],["mat-stroked-button","","color","primary",3,"click",4,"ngIf"],["mat-stroked-button","","color","warn",3,"disabled","click",4,"ngIf"],["id","message-pane",1,"column","col-10","col-sm-11","col-xs-11","m-auto","is-7","is-offset-1","message","hero","is-fullheight"],[1,"modal"],[1,"modal-background"],[1,"modal-card"],[1,"modal-card-head"],[1,"modal-card-title"],["aria-label","close",1,"delete"],[1,"modal-card-body","modal-card-body-footer","content",2,"line-height","150%"],[1,"columns","d-flex","algin-items-center","w-100","mb-3"],[1,"column","mr-4","col-3","m","p-0","d-flex","align-items-center"],[1,"progress","w-100"],["role","progressbar","aria-valuenow","0","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",3,"ngStyle"],[1,"column","font-size-16"],[1,"ml10"],[1,"card"],[1,"card-header"],[1,"card-header-title","has-background-royalblue"],[1,"field","is-grouped","is-grouped-multiline"],[4,"ngFor","ngForOf"],[1,"card-content"],["class","card-content-header border-bottom pb-3 d-flex align-items-start mr-2",4,"ngIf"],[1,"todoapp","mt-0"],[1,"main",3,"formGroup"],[1,"todo-list"],[1,"level","mt30"],[1,"button","level-left",3,"click"],[1,"icon"],[1,"fas","fa-chevron-left"],[1,"button","level-right",3,"click"],[1,"fas","fa-chevron-right"],["mat-stroked-button","","color","primary",3,"click"],["mat-stroked-button","","color","warn",3,"click"],[1,"control",3,"click"],[1,"tags","has-addons"],[1,"tag","is-medium","mr-0",3,"ngStyle"],[1,"tag","is-medium"],[1,"card-content-header","border-bottom","pb-3","d-flex","align-items-start","mr-2"],[1,"tags","has-addons","mr-2","align-items-baseline"],[1,"border-0","tag","is-medium","box-sizing-border-box",3,"click"],[1,"todo"],[1,"view","d-flex"]],template:function(t,e){1&t&&(g.Dc(0,"div",0),g.Dc(1,"div",1),g.Dc(2,"h3",2),g.td(3),g.rd(4,lt,3,5,"ng-container",3),g.Dc(5,"mat-icon",4),g.Nc("click",function(){return e.openChartAnalysis()}),g.td(6,"analytics"),g.Cc(),g.Cc(),g.Dc(7,"span"),g.td(8),g.Cc(),g.Cc(),g.Dc(9,"div",5),g.Dc(10,"button",6),g.Dc(11,"mat-icon"),g.td(12,"chat_bubble_outline"),g.Cc(),g.Cc(),g.rd(13,dt,2,0,"button",7),g.rd(14,gt,2,2,"button",8),g.Cc(),g.Cc(),g.Dc(15,"div",9),g.Dc(16,"div",10),g.yc(17,"div",11),g.Dc(18,"div",12),g.Dc(19,"header",13),g.Dc(20,"p",14),g.td(21,"Annotation Guideline"),g.Cc(),g.yc(22,"button",15),g.Cc(),g.Dc(23,"section",16),g.Dc(24,"p"),g.td(25,"You can see annotation guideline here."),g.Cc(),g.Cc(),g.Cc(),g.Cc(),g.Dc(26,"div",17),g.Dc(27,"div",18),g.Dc(28,"div",19),g.yc(29,"div",20),g.Cc(),g.Cc(),g.Dc(30,"div",21),g.Dc(31,"span",22),g.Dc(32,"strong"),g.td(33),g.Cc(),g.Cc(),g.td(34,"/"),g.Dc(35,"span"),g.td(36),g.Cc(),g.Cc(),g.Cc(),g.Dc(37,"div",23),g.Dc(38,"header",24),g.Dc(39,"div",25),g.Dc(40,"div",26),g.rd(41,ut,7,7,"ng-container",27),g.Cc(),g.Cc(),g.Cc(),g.Dc(42,"div",28),g.rd(43,mt,2,1,"div",29),g.Cc(),g.Cc(),g.Dc(44,"section",30),g.Dc(45,"section",31),g.Dc(46,"ul",32),g.rd(47,bt,7,2,"ng-container",27),g.Cc(),g.Cc(),g.Cc(),g.Dc(48,"div",33),g.Dc(49,"a",34),g.Nc("click",function(){return e.taskChange(!1)}),g.Dc(50,"span",35),g.yc(51,"i",36),g.Cc(),g.Dc(52,"span"),g.td(53),g.Sc(54,"translate"),g.Cc(),g.Cc(),g.Dc(55,"a",37),g.Nc("click",function(){return e.taskChange(!0)}),g.Dc(56,"span"),g.td(57),g.Sc(58,"translate"),g.Cc(),g.Dc(59,"span",35),g.yc(60,"i",38),g.Cc(),g.Cc(),g.Cc(),g.Cc()),2&t&&(g.kc(3),g.vd("",null==e.job?null:e.job.name," "),g.kc(1),g.Yc("ngIf","Accepted"===(null==e.jobDetail?null:e.jobDetail.status)||"Rejected"===(null==e.jobDetail?null:e.jobDetail.status)),g.kc(4),g.ud(null==e.job?null:e.job.description),g.kc(2),g.Yc("matBadge",null!=e.jobDetail&&e.jobDetail.comment?1:0)("matTooltip",null==e.jobDetail?null:e.jobDetail.comment),g.kc(3),g.Yc("ngIf","Reviewing"!==(null==e.jobDetail?null:e.jobDetail.status)&&"Accepted"!==(null==e.jobDetail?null:e.jobDetail.status)&&!e.isSubmit),g.kc(1),g.Yc("ngIf","Reviewing"===(null==e.jobDetail?null:e.jobDetail.status)||"Accepted"===(null==e.jobDetail?null:e.jobDetail.status)||e.isSubmit),g.kc(15),g.Yc("ngStyle",g.cd(24,ft,null==e.taskSummary?null:e.taskSummary.percent)),g.kc(4),g.ud(null==e.taskSummary?null:e.taskSummary.lstTaskEdited),g.kc(3),g.ud(null==e.taskSummary?null:e.taskSummary.total),g.kc(5),g.Yc("ngForOf",e.labels),g.kc(2),g.Yc("ngIf",e.selectedLabel),g.kc(2),g.Yc("formGroup",e.formGroup),g.kc(2),g.Yc("ngForOf",e.paragraph),g.kc(2),g.pc("disabled",0===e.currentIndex||e.isLoad),g.kc(4),g.ud(g.Tc(54,20,"common.prev")),g.kc(2),g.pc("disabled",e.currentIndex===(null==e.taskSummary?null:e.taskSummary.total)-1||e.isLoad),g.kc(2),g.ud(g.Tc(58,22,"common.next")))},directives:[i.n,z.a,f.a,A.a,N.a,i.o,i.m,s.r,s.k],pipes:[tt.d],styles:["[_nghost-%COMP%]   .mat-checkbox-group[_ngcontent-%COMP%]{padding:1.5rem 60px 1.5rem 1.5rem}[_nghost-%COMP%]   .mat-checkbox-group[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{align-self:center}[_nghost-%COMP%]   .button[_ngcontent-%COMP%]{background-color:#fff;border-color:#dbdbdb;border-width:1px;color:#363636;cursor:pointer;justify-content:center;padding:calc(.375em - 1px) .75em;text-align:center;white-space:nowrap}[_nghost-%COMP%]   .button[_ngcontent-%COMP%], [_nghost-%COMP%]   .file-cta[_ngcontent-%COMP%], [_nghost-%COMP%]   .file-name[_ngcontent-%COMP%], [_nghost-%COMP%]   .input[_ngcontent-%COMP%], [_nghost-%COMP%]   .pagination-ellipsis[_ngcontent-%COMP%], [_nghost-%COMP%]   .pagination-link[_ngcontent-%COMP%], [_nghost-%COMP%]   .pagination-next[_ngcontent-%COMP%], [_nghost-%COMP%]   .pagination-previous[_ngcontent-%COMP%], [_nghost-%COMP%]   .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], [_nghost-%COMP%]   .textarea[_ngcontent-%COMP%]{-moz-appearance:none;-webkit-appearance:none;align-items:center;border:1px solid transparent;border-radius:4px;box-shadow:none;display:inline-flex;font-size:16px;height:2.25em;justify-content:flex-start;line-height:1.5;padding:calc(.375em - 1px) calc(.625em - 1px);position:relative;vertical-align:top}[_nghost-%COMP%]   .button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:first-child:not(:last-child){margin-left:calc(-.375em - 1px);margin-right:.1875em}[_nghost-%COMP%]   .button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .button[_ngcontent-%COMP%]   .icon.is-large[_ngcontent-%COMP%], [_nghost-%COMP%]   .button[_ngcontent-%COMP%]   .icon.is-medium[_ngcontent-%COMP%], [_nghost-%COMP%]   .button[_ngcontent-%COMP%]   .icon.is-small[_ngcontent-%COMP%]{height:1.5em;width:1.5em}[_nghost-%COMP%]   .field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%]:last-child{margin-bottom:-.75rem}[_nghost-%COMP%]   .field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%]{flex-wrap:wrap}[_nghost-%COMP%]   .field.is-grouped[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}[_nghost-%COMP%]   .field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:last-child, [_nghost-%COMP%]   .field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.75rem}[_nghost-%COMP%]   .field.is-grouped[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:not(:last-child){margin-bottom:0;margin-right:.75rem}[_nghost-%COMP%]   .field.is-grouped[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]{flex-shrink:0}[_nghost-%COMP%]   .control[_ngcontent-%COMP%]{font-size:16px;position:relative;text-align:left}[_nghost-%COMP%]   .tags[_ngcontent-%COMP%]:last-child{margin-bottom:-.5rem}[_nghost-%COMP%]   .tags[_ngcontent-%COMP%]{align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-start}[_nghost-%COMP%]   .tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}[_nghost-%COMP%]   .tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{margin-right:0}[_nghost-%COMP%]   .tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}[_nghost-%COMP%]   .tag[_ngcontent-%COMP%]:not(body).is-medium{font-size:16px}[_nghost-%COMP%]   .tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{margin-bottom:.5rem}[_nghost-%COMP%]   .tag[_ngcontent-%COMP%]:not(body){align-items:center;background-color:#f5f5f5;border-radius:4px;color:#4a4a4a;display:inline-flex;font-size:.75rem;height:2em;justify-content:center;line-height:1.5;padding-left:.75em;padding-right:.75em;white-space:nowrap}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{color:#3273dc;cursor:pointer;text-decoration:none}[_nghost-%COMP%]   .tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0}[_nghost-%COMP%]   button.control[_ngcontent-%COMP%]{border:none;outline:none;background:transparent}[_nghost-%COMP%]   #message-pane[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:0;border-radius:0}[_nghost-%COMP%]   #message-pane[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:#4169e1!important}[_nghost-%COMP%]   #message-pane[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{border-radius:0}.card-content[_ngcontent-%COMP%]{background-color:none;padding:2rem 2.25rem}.content[_ngcontent-%COMP%]{font-size:16pt;line-height:250%}span[_ngcontent-%COMP%]{font-style:inherit;font-weight:inherit}.edit[_ngcontent-%COMP%], .new-todo[_ngcontent-%COMP%]{position:relative;margin:0;width:100%;font-size:16pt;font-family:inherit;font-weight:inherit;line-height:1.4em;color:inherit;padding:6px;border:1px solid #999;box-shadow:inset 0 -1px 5px 0 rgba(0,0,0,.2);box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.todoapp[_ngcontent-%COMP%]{background:#fff;margin:30px 0 0;position:relative;box-shadow:0 2px 3px rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.1)}.todo-list[_ngcontent-%COMP%]{margin:0;padding:0}.todo-list[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;font-size:16pt;border-bottom:1px solid #ededed}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{word-break:break-word;padding:1.5rem 60px 1.5rem 1.5rem;display:block;line-height:1.2;transition:color .4s}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .destroy[_ngcontent-%COMP%]{display:none;position:absolute;top:0;right:10px;bottom:0;margin:auto 0}.new-todo[_ngcontent-%COMP%]{padding:1.5rem;border:none;background:rgba(0,0,0,.003);box-shadow:inset 0 -2px 1px rgba(0,0,0,.03)}.has-background-royalblue[_ngcontent-%COMP%]{background-color:#4169e1!important;color:#fff}.todo[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;display:flex!important;align-items:center;justify-content:flex-start}.todo[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:first-child{min-width:20%;background:#4169e1;color:#fff}.label-option[_ngcontent-%COMP%]{min-width:22%}",'.message[_ngcontent-%COMP%], .messages[_ngcontent-%COMP%]{padding:40px 20px}.pg[_ngcontent-%COMP%]{display:inline-block;top:10px}.card-header[_ngcontent-%COMP%]{background-color:none;align-items:stretch;box-shadow:0 1px 2px rgba(10,10,10,.1);display:flex}.card-header-title[_ngcontent-%COMP%]{align-items:center;color:#363636;display:flex;flex-grow:1;font-weight:700}img[_ngcontent-%COMP%]{height:500px;width:auto;-o-object-fit:contain;object-fit:contain}.level[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.level-left[_ngcontent-%COMP%]{align-items:center;justify-content:flex-start}.button[_ngcontent-%COMP%]{background-color:#fff;border-color:#dbdbdb;border-width:1px;color:#363636;cursor:pointer;justify-content:center;padding:calc(.375em - 1px) .75em;text-align:center;white-space:nowrap}.level-right[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end}.level-left[_ngcontent-%COMP%], .level-right[_ngcontent-%COMP%]{flex-basis:auto;flex-grow:0;flex-shrink:0}.button[_ngcontent-%COMP%], .file-cta[_ngcontent-%COMP%], .file-name[_ngcontent-%COMP%], .input[_ngcontent-%COMP%], .pagination-ellipsis[_ngcontent-%COMP%], .pagination-link[_ngcontent-%COMP%], .pagination-next[_ngcontent-%COMP%], .pagination-previous[_ngcontent-%COMP%], .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .textarea[_ngcontent-%COMP%]{-moz-appearance:none;-webkit-appearance:none;align-items:center;border:1px solid transparent;border-radius:4px;box-shadow:none;display:inline-flex;font-size:16px;height:2.25em;justify-content:flex-start;line-height:1.5;padding:calc(.375em - 1px) calc(.625em - 1px);position:relative;vertical-align:top}.textarea[_ngcontent-%COMP%]{padding:2rem 2.25rem}.button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:first-child:not(:last-child){margin-left:calc(-.375em - 1px);margin-right:.1875em}.button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-large[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-medium[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-small[_ngcontent-%COMP%]{height:1.5em;width:1.5em}.icon[_ngcontent-%COMP%]{align-items:center;display:inline-flex;justify-content:center;height:1.5rem;width:1.5rem}span[_ngcontent-%COMP%]{font-style:inherit;font-weight:inherit}.tag[_ngcontent-%COMP%]:not(body)   .delete[_ngcontent-%COMP%]{margin-left:.25rem;margin-right:-.375rem}.is-small.delete[_ngcontent-%COMP%], .is-small.modal-close[_ngcontent-%COMP%]{height:16px;max-height:16px;max-width:16px;min-height:16px;min-width:16px;width:16px}.delete[_ngcontent-%COMP%], .modal-close[_ngcontent-%COMP%]{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(10,10,10,.2);border:none;border-radius:290486px;cursor:pointer;display:inline-block;flex-grow:0;flex-shrink:0;font-size:0;height:20px;max-height:20px;max-width:20px;min-height:20px;min-width:20px;outline:0;position:relative;vertical-align:top;width:20px}.delete[_ngcontent-%COMP%]:before, .modal-close[_ngcontent-%COMP%]:before{height:2px;width:50%}.delete[_ngcontent-%COMP%]:after, .modal-close[_ngcontent-%COMP%]:after{height:50%;width:2px}.delete[_ngcontent-%COMP%]:after, .delete[_ngcontent-%COMP%]:before, .modal-close[_ngcontent-%COMP%]:after, .modal-close[_ngcontent-%COMP%]:before{background-color:#fff;content:"";display:block;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%) rotate(45deg);transform-origin:center center}.mt30[_ngcontent-%COMP%]{margin-top:30px!important}field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%]:last-child{margin-bottom:-.75rem}.field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%]{flex-wrap:wrap}.field.is-grouped[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:last-child, .field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.75rem}.field.is-grouped[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:not(:last-child){margin-bottom:0;margin-right:.75rem}.field.is-grouped[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]{flex-shrink:0}.control[_ngcontent-%COMP%]{font-size:16px;position:relative;text-align:left}.tags[_ngcontent-%COMP%]:last-child{margin-bottom:-.5rem}.tags[_ngcontent-%COMP%]{align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-start}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{margin-right:0}.tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.tag[_ngcontent-%COMP%]:not(body).is-medium{font-size:16px}.tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{margin-bottom:.5rem}.tag[_ngcontent-%COMP%]:not(body){align-items:center;background-color:#f5f5f5;border-radius:4px;color:#4a4a4a;display:inline-flex;font-size:.75rem;justify-content:center;line-height:1.5;padding-left:.75em;padding-right:.75em;white-space:normal;height:auto}a[_ngcontent-%COMP%]{color:#3273dc;cursor:pointer;text-decoration:none}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0}.card-content[_ngcontent-%COMP%]{background-color:none;padding:2rem 2.25rem}  .tooltip-comment{font-size:16px;background-color:#fff;color:#000!important;min-width:200px;padding:16px;box-shadow:0 2px 3px rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.1)}[_nghost-%COMP%]   .has-errors[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .has-errors[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid #f64e60}@media screen and (max-width:1024px){#message-pane[_ngcontent-%COMP%]{padding:16px 0;max-width:90%}[_nghost-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 50px);overflow:auto}}']}),t})();var Ct=n("8LU1"),xt=n("R1ws"),Ot=n("0EQZ");const Pt=["input"],Mt=function(){return{enterDuration:150}},kt=["*"],vt=new g.w("mat-radio-default-options",{providedIn:"root",factory:function(){return{color:"accent"}}});let yt=0;const Dt={provide:s.o,useExisting:Object(g.eb)(()=>Rt),multi:!0};class wt{constructor(t,e){this.source=t,this.value=e}}const jt=new g.w("MatRadioGroup");let St=(()=>{class t{constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+yt++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new g.t}get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(Ct.c)(t),this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=Object(Ct.c)(t),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(t=>{t.checked=this.value===t.value,t.checked&&(this._selected=t)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new wt(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(g.xc(g.j))},t.\u0275dir=g.sc({type:t,inputs:{name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"}}),t})(),Rt=(()=>{class t extends St{}return t.\u0275fac=function(e){return Tt(e||t)},t.\u0275dir=g.sc({type:t,selectors:[["mat-radio-group"]],contentQueries:function(t,e,n){if(1&t&&g.qc(n,zt,!0),2&t){let t;g.fd(t=g.Oc())&&(e._radios=t)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[g.jc([Dt,{provide:jt,useExisting:t}]),g.hc]}),t})();const Tt=g.Fc(Rt);class It{constructor(t){this._elementRef=t}}const Et=Object(b.q)(Object(b.u)(It));let Lt=(()=>{class t extends Et{constructor(t,e,n,i,o,s,a,r){super(e),this._changeDetector=n,this._focusMonitor=i,this._radioDispatcher=o,this._animationMode=s,this._providerOverride=a,this._uniqueId="mat-radio-"+ ++yt,this.id=this._uniqueId,this.change=new g.t,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,r&&(this.tabIndex=Object(Ct.f)(r,0)),this._removeUniqueSelectionListener=o.listen((t,e)=>{t!==this.id&&e===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(t){const e=Object(Ct.c)(t);this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(Object(Ct.c)(t))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=Object(Ct.c)(t)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return(this.id||this._uniqueId)+"-input"}focus(t){this._focusMonitor.focusVia(this._inputElement,"keyboard",t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.name=this.radioGroup.name)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new wt(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputChange(t){t.stopPropagation();const e=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),e&&this.radioGroup._emitChangeEvent())}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(g.xc(St),g.xc(g.q),g.xc(g.j),g.xc(x.e),g.xc(Ot.d),g.xc(String),g.xc(void 0),g.xc(String))},t.\u0275dir=g.sc({type:t,viewQuery:function(t,e){if(1&t&&g.xd(Pt,!0),2&t){let t;g.fd(t=g.Oc())&&(e._inputElement=t.first)}},inputs:{id:"id",checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{change:"change"},features:[g.hc]}),t})(),zt=(()=>{class t extends Lt{constructor(t,e,n,i,o,s,a,r){super(t,e,n,i,o,s,a,r)}}return t.\u0275fac=function(e){return new(e||t)(g.xc(jt,8),g.xc(g.q),g.xc(g.j),g.xc(x.e),g.xc(Ot.d),g.xc(xt.a,8),g.xc(vt,8),g.Lc("tabindex"))},t.\u0275cmp=g.rc({type:t,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(t,e){1&t&&g.Nc("focus",function(){return e._inputElement.nativeElement.focus()}),2&t&&(g.lc("tabindex",-1)("id",e.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),g.pc("mat-radio-checked",e.checked)("mat-radio-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-primary","primary"===e.color)("mat-accent","accent"===e.color)("mat-warn","warn"===e.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[g.hc],ngContentSelectors:kt,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input","cdk-visually-hidden",3,"id","checked","disabled","tabIndex","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(t,e){if(1&t&&(g.Xc(),g.Dc(0,"label",0,1),g.Dc(2,"span",2),g.yc(3,"span",3),g.yc(4,"span",4),g.Dc(5,"input",5,6),g.Nc("change",function(t){return e._onInputChange(t)})("click",function(t){return e._onInputClick(t)}),g.Cc(),g.Dc(7,"span",7),g.yc(8,"span",8),g.Cc(),g.Cc(),g.Dc(9,"span",9),g.Dc(10,"span",10),g.td(11,"\xa0"),g.Cc(),g.Wc(12),g.Cc(),g.Cc()),2&t){const t=g.gd(1);g.lc("for",e.inputId),g.kc(5),g.Yc("id",e.inputId)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex)("required",e.required),g.lc("name",e.name)("value",e.value)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby)("aria-describedby",e.ariaDescribedby),g.kc(2),g.Yc("matRippleTrigger",t)("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",g.bd(18,Mt)),g.kc(2),g.pc("mat-radio-label-before","before"==e.labelPosition)}},directives:[b.k],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:transform ease 280ms,background-color ease 280ms;width:20px;transform:scale(0.001)}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5)}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}.mat-radio-label-content{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{bottom:0;left:50%}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),t})(),At=(()=>{class t{}return t.\u0275mod=g.vc({type:t}),t.\u0275inj=g.uc({factory:function(e){return new(e||t)},imports:[[b.l,b.g],b.g]}),t})();function Nt(t,e){if(1&t&&(g.Bc(0),g.Dc(1,"span"),g.td(2),g.Cc(),g.Ac()),2&t){const t=g.Rc();g.kc(1),g.pc("text-danger","Rejected"===(null==t.jobDetail?null:t.jobDetail.status))("text-success","Accepted"===(null==t.jobDetail?null:t.jobDetail.status)),g.kc(1),g.vd("[",null==t.jobDetail?null:t.jobDetail.status,"]")}}function Bt(t,e){if(1&t){const t=g.Ec();g.Dc(0,"button",38),g.Nc("click",function(){return g.id(t),g.Rc().submitResultJob(!0)}),g.td(1," Submit "),g.Cc()}}function Yt(t,e){if(1&t){const t=g.Ec();g.Dc(0,"button",39),g.Nc("click",function(){return g.id(t),g.Rc().submitResultJob(!1)}),g.td(1," Cancel submit "),g.Cc()}if(2&t){const t=g.Rc();g.pc("disabled","Accepted"===(null==t.jobDetail?null:t.jobDetail.status))}}function Ft(t,e){if(1&t){const t=g.Ec();g.Bc(0),g.Dc(1,"mat-radio-button",40),g.Nc("click",function(){g.id(t);const n=e.$implicit;return g.Rc().save(null==n?null:n.name)}),g.td(2),g.Cc(),g.Ac()}if(2&t){const t=e.$implicit;g.kc(1),g.Yc("value",null==t?null:t.name),g.kc(1),g.ud(null==t?null:t.name)}}const $t=function(t){return{"width.%":t}};let Gt=(()=>{class t{constructor(t,e,n,i,o,r,c){this.stagingService=t,this.jobService=e,this.changeRef=n,this.router=i,this._snackBar=o,this.dialogService=r,this.toastService=c,this.destroy$=new a.a,this.formGroup=new s.j({label:new s.g("")}),this.taskSummary=null,this.isSubmit=!1,this.jobDetail=null,this.initialed=!1,this.isDone=!1,this.isLoad=!1}ngOnInit(){this.taskSummary=this.jobService.getProgressTask;const t=this.jobService.getLstTask;this.stagingService.getRichNaturalLanguageInference().pipe(Object(r.a)(this.destroy$)).subscribe(e=>{if(this.isLoad=!0,this.timeOut&&clearTimeout(this.timeOut),this.timeOut=setTimeout(()=>{this.isLoad=!1,this.changeRef.markForCheck()},2e3),!e)return;if(this.task=c.get(e,"task"),!this.task)return void this.router.navigate(["./annotator"]);const n=c.get(this.task,"content");n&&(this.paragraph=n.split("|"),this.article=JSON.parse(this.paragraph[0]),this.content=this.paragraph[1]),this.job=c.get(e,"job"),this.initialed||(this.initialed=!0,this.jobDetail=c.get(e,"jobDetail"),this.isDone=this.jobDetail.tasks.every(t=>c.get(t,"edited")));const i=c.get(this.jobDetail,"status");"Reviewing"===i||"Accepted"===i?(this.isSubmit=!0,this.formGroup.disable()):(this.isSubmit=!1,this.formGroup.enable()),this.formGroup.reset(""),this.currentIndex=t.findIndex(t=>c.get(t,"id")===c.get(this.task,"id")),this.getMissionTaskResult()})}getMissionTaskResult(){const t=c.get(this.task,"id");(t||0===t)&&this.jobService.getSubmissionTaskResult(t).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{t&&this.formGroup.controls.label.setValue(t[0].label)})}save(t){this.formGroup.disabled||this.jobService.saveSubmissionTaskResult(c.get(this.task,"id"),{payload:[{label:t}]}).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{this.taskSummary=this.jobService.updateProgressTask(this.task),this.stagingService.updateJobListState(!0),this.getTaskList(this.job),this.changeRef.markForCheck()})}taskChange(t){this.stagingService.setTaskChange({task:this.task,next:t})}submitResultJob(t){if(!this.jobDetail.tasks.every(t=>c.get(t,"edited")))return void this.toastService.error("Please complete all task","Errors",{positionClass:"toast-bottom-right"});this.isSubmit=t;const e=c.get(this.job,"assignment_id",null);e&&this.jobService.submitJobResult(e,t).pipe(Object(r.a)(this.destroy$)).subscribe(e=>{t?this.formGroup.disable():this.formGroup.enable(),this._snackBar.open("Update successful !!!","Close",{duration:2e3,horizontalPosition:"end",verticalPosition:"bottom"}),this.getTaskList(this.job)})}getTaskList(t){this.subscription&&this.subscription.unsubscribe(),this.subscription=this.jobService.getTaskList(c.get(t,"assignment_id")).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{t&&(this.jobDetail=t,this.isDone=this.jobDetail.tasks.every(t=>c.get(t,"edited")),this.changeRef.markForCheck())},()=>{this.jobDetail=null})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}openChartAnalysis(){this.dialogService.openDialogRanking(c.get(this.job,"id"),this.job).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{})}}return t.\u0275fac=function(e){return new(e||t)(g.xc(h.a),g.xc(u.a),g.xc(g.j),g.xc(o.h),g.xc(E),g.xc(l.a),g.xc(L.b))},t.\u0275cmp=g.rc({type:t,selectors:[["app-natural-language-inference2"]],features:[g.jc([l.a])],decls:76,vars:28,consts:[[1,"card-header","p-4","d-flex","align-items-center","justify-items-end"],[1,"card-title","py-2","mb-0"],[1,"card-label"],[4,"ngIf"],[1,"ranking-icon",3,"click"],[1,"card-action","ml-auto","d-flex","align-items-center"],["mat-icon-button","","matBadgeColor","warn","matTooltipClass","tooltip-comment",1,"button","mr-6",3,"matBadge","matTooltip"],["mat-stroked-button","","color","primary",3,"click",4,"ngIf"],["mat-stroked-button","","color","warn",3,"disabled","click",4,"ngIf"],["id","message-pane",1,"column","col-10","col-sm-11","col-xs-11","m-auto","is-7","is-offset-1","message","hero","is-fullheight"],[1,"modal"],[1,"modal-background"],[1,"modal-card"],[1,"modal-card-head"],[1,"modal-card-title"],["aria-label","close",1,"delete"],[1,"modal-card-body","modal-card-body-footer","content",2,"line-height","150%"],[1,"columns","d-flex","algin-items-center","w-100","mb-3"],[1,"column","mr-4","col-3","m","p-0","d-flex","align-items-center"],[1,"progress","w-100"],["role","progressbar","aria-valuenow","0","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",3,"ngStyle"],[1,"column","font-size-16"],[1,"ml10"],[1,"todoapp"],[1,"main",3,"formGroup"],[1,"todo-list"],[1,"todo"],[1,"view","d-flex"],[1,"d-flex","flex-column","align-items-start"],[1,"bg-warning"],["aria-label","Select an option","formControlName","label",1,"d-flex","align-items-center"],[4,"ngFor","ngForOf"],[1,"level","mt30"],[1,"button","level-left",3,"click"],[1,"icon"],[1,"fas","fa-chevron-left"],[1,"button","level-right",3,"click"],[1,"fas","fa-chevron-right"],["mat-stroked-button","","color","primary",3,"click"],["mat-stroked-button","","color","warn",3,"click"],["color","primary",1,"mr-4",3,"value","click"]],template:function(t,e){1&t&&(g.Dc(0,"div",0),g.Dc(1,"div",1),g.Dc(2,"h3",2),g.td(3),g.rd(4,Nt,3,5,"ng-container",3),g.Dc(5,"mat-icon",4),g.Nc("click",function(){return e.openChartAnalysis()}),g.td(6,"analytics"),g.Cc(),g.Cc(),g.Dc(7,"span"),g.td(8),g.Cc(),g.Cc(),g.Dc(9,"div",5),g.Dc(10,"button",6),g.Dc(11,"mat-icon"),g.td(12,"chat_bubble_outline"),g.Cc(),g.Cc(),g.rd(13,Bt,2,0,"button",7),g.rd(14,Yt,2,2,"button",8),g.Cc(),g.Cc(),g.Dc(15,"div",9),g.Dc(16,"div",10),g.yc(17,"div",11),g.Dc(18,"div",12),g.Dc(19,"header",13),g.Dc(20,"p",14),g.td(21,"Annotation Guideline"),g.Cc(),g.yc(22,"button",15),g.Cc(),g.Dc(23,"section",16),g.Dc(24,"p"),g.td(25,"You can see annotation guideline here."),g.Cc(),g.Cc(),g.Cc(),g.Cc(),g.Dc(26,"div",17),g.Dc(27,"div",18),g.Dc(28,"div",19),g.yc(29,"div",20),g.Cc(),g.Cc(),g.Dc(30,"div",21),g.Dc(31,"span",22),g.Dc(32,"strong"),g.td(33),g.Cc(),g.Cc(),g.td(34,"/"),g.Dc(35,"span"),g.td(36),g.Cc(),g.Cc(),g.Cc(),g.Dc(37,"section",23),g.Dc(38,"section",24),g.Dc(39,"ul",25),g.Dc(40,"li",26),g.Dc(41,"div",27),g.Dc(42,"label"),g.td(43,"Statement"),g.Cc(),g.Dc(44,"label"),g.td(45),g.Cc(),g.Cc(),g.Cc(),g.Dc(46,"li",26),g.Dc(47,"div",27),g.Dc(48,"label"),g.td(49,"Article"),g.Cc(),g.Dc(50,"label",28),g.Dc(51,"p"),g.Dc(52,"a"),g.td(53),g.Cc(),g.Cc(),g.yc(54,"br"),g.Dc(55,"p"),g.td(56),g.Cc(),g.Cc(),g.Cc(),g.Cc(),g.Dc(57,"li",26),g.Dc(58,"div",27),g.Dc(59,"label",29),g.td(60,"Label:"),g.Cc(),g.Dc(61,"mat-radio-group",30),g.rd(62,Ft,3,2,"ng-container",31),g.Cc(),g.Cc(),g.Cc(),g.Cc(),g.Cc(),g.Cc(),g.Dc(63,"div",32),g.Dc(64,"a",33),g.Nc("click",function(){return e.taskChange(!1)}),g.Dc(65,"span",34),g.yc(66,"i",35),g.Cc(),g.Dc(67,"span"),g.td(68),g.Sc(69,"translate"),g.Cc(),g.Cc(),g.Dc(70,"a",36),g.Nc("click",function(){return e.taskChange(!0)}),g.Dc(71,"span"),g.td(72),g.Sc(73,"translate"),g.Cc(),g.Dc(74,"span",34),g.yc(75,"i",37),g.Cc(),g.Cc(),g.Cc(),g.Cc()),2&t&&(g.kc(3),g.vd("",null==e.job?null:e.job.name," "),g.kc(1),g.Yc("ngIf","Accepted"===(null==e.jobDetail?null:e.jobDetail.status)||"Rejected"===(null==e.jobDetail?null:e.jobDetail.status)),g.kc(4),g.ud(null==e.job?null:e.job.description),g.kc(2),g.Yc("matBadge",null!=e.jobDetail&&e.jobDetail.comment?1:0)("matTooltip",null==e.jobDetail?null:e.jobDetail.comment),g.kc(3),g.Yc("ngIf","Reviewing"!==(null==e.jobDetail?null:e.jobDetail.status)&&"Accepted"!==(null==e.jobDetail?null:e.jobDetail.status)&&!e.isSubmit),g.kc(1),g.Yc("ngIf","Reviewing"===(null==e.jobDetail?null:e.jobDetail.status)||"Accepted"===(null==e.jobDetail?null:e.jobDetail.status)||e.isSubmit),g.kc(15),g.Yc("ngStyle",g.cd(26,$t,null==e.taskSummary?null:e.taskSummary.percent)),g.kc(4),g.ud(null==e.taskSummary?null:e.taskSummary.lstTaskEdited),g.kc(3),g.ud(null==e.taskSummary?null:e.taskSummary.total),g.kc(2),g.Yc("formGroup",e.formGroup),g.kc(7),g.ud(e.content),g.kc(7),g.lc("href",null==e.article?null:e.article.url,g.kd),g.kc(1),g.ud(null==e.article?null:e.article.title),g.kc(3),g.ud(null==e.article?null:e.article.lead),g.kc(6),g.Yc("ngForOf",null==e.job?null:e.job.labels),g.kc(2),g.pc("disabled",0===e.currentIndex||e.isLoad),g.kc(4),g.ud(g.Tc(69,22,"common.prev")),g.kc(2),g.pc("disabled",e.currentIndex===(null==e.taskSummary?null:e.taskSummary.total)-1||e.isLoad),g.kc(2),g.ud(g.Tc(73,24,"common.next")))},directives:[i.n,z.a,f.a,A.a,N.a,i.o,s.r,s.k,Rt,s.q,s.i,i.m,zt],pipes:[tt.d],styles:[".card-content[_ngcontent-%COMP%]{background-color:none;padding:2rem 2.25rem}.content[_ngcontent-%COMP%]{font-size:16pt;line-height:250%}span[_ngcontent-%COMP%]{font-style:inherit;font-weight:inherit}.input.is-hovered[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]:hover, .textarea.is-hovered[_ngcontent-%COMP%], .textarea[_ngcontent-%COMP%]:hover{border-color:#b5b5b5}.input[_ngcontent-%COMP%], .textarea[_ngcontent-%COMP%]{background-color:#fff;border-color:#dbdbdb;color:#363636;box-shadow:inset 0 1px 2px rgba(10,10,10,.1);max-width:100%;width:100%}.todoapp[_ngcontent-%COMP%]{background:#fff;margin:30px 0 0;position:relative;box-shadow:0 2px 3px rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.1)}.todoapp[_ngcontent-%COMP%]   .view[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:first-child{word-break:normal}article[_ngcontent-%COMP%], aside[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], header[_ngcontent-%COMP%], hgroup[_ngcontent-%COMP%], section[_ngcontent-%COMP%]{display:block}.todo-list[_ngcontent-%COMP%]{margin:0;padding:0}.todo-list[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}blockquote[_ngcontent-%COMP%], body[_ngcontent-%COMP%], dd[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], dt[_ngcontent-%COMP%], fieldset[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], hr[_ngcontent-%COMP%], html[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], legend[_ngcontent-%COMP%], li[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;font-size:16pt;border-bottom:1px solid #ededed}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{display:none}.textarea[_ngcontent-%COMP%]:not([rows]){max-height:600px;min-height:120px}.edit[_ngcontent-%COMP%], .new-todo[_ngcontent-%COMP%]{position:relative;margin:0;width:100%;font-size:16pt;font-family:inherit;font-weight:inherit;line-height:1.4em;color:inherit;padding:6px;border:1px solid #999;box-shadow:inset 0 -1px 5px 0 rgba(0,0,0,.2);box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.textarea[_ngcontent-%COMP%]{display:block;max-width:100%;min-width:100%;padding:.625em;resize:vertical}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{word-break:break-word;padding:1.5rem 60px 1.5rem 1.5rem;display:block;line-height:1.2;transition:color .4s}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .destroy[_ngcontent-%COMP%]{display:none;position:absolute;top:0;right:10px;bottom:0;margin:auto 0}.new-todo[_ngcontent-%COMP%]{padding:1.5rem;border:none;background:rgba(0,0,0,.003);box-shadow:inset 0 -2px 1px rgba(0,0,0,.03)}.has-background-royalblue[_ngcontent-%COMP%]{background-color:#4169e1!important;color:#fff}.todo[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;display:flex!important;align-items:center;justify-content:flex-start}.todo[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:first-child{min-width:20%;background:#4169e1;color:#fff}.label-option[_ngcontent-%COMP%]{min-width:22%}mat-radio-group[_ngcontent-%COMP%]{padding:1.5rem 60px 1.5rem 1.5rem}@media screen and (max-width:800px){[_nghost-%COMP%]{width:100vw}.todo-list[_ngcontent-%COMP%]   .todo[_ngcontent-%COMP%]   .view[_ngcontent-%COMP%], .todo-list[_ngcontent-%COMP%]   .todo[_ngcontent-%COMP%]     .mat-radio-group{flex-direction:column}.todo-list[_ngcontent-%COMP%]   .todo[_ngcontent-%COMP%]     .mat-radio-button{align-self:flex-start}}",'.message[_ngcontent-%COMP%], .messages[_ngcontent-%COMP%]{padding:40px 20px}.pg[_ngcontent-%COMP%]{display:inline-block;top:10px}.card-header[_ngcontent-%COMP%]{background-color:none;align-items:stretch;box-shadow:0 1px 2px rgba(10,10,10,.1);display:flex}.card-header-title[_ngcontent-%COMP%]{align-items:center;color:#363636;display:flex;flex-grow:1;font-weight:700}img[_ngcontent-%COMP%]{height:500px;width:auto;-o-object-fit:contain;object-fit:contain}.level[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.level-left[_ngcontent-%COMP%]{align-items:center;justify-content:flex-start}.button[_ngcontent-%COMP%]{background-color:#fff;border-color:#dbdbdb;border-width:1px;color:#363636;cursor:pointer;justify-content:center;padding:calc(.375em - 1px) .75em;text-align:center;white-space:nowrap}.level-right[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end}.level-left[_ngcontent-%COMP%], .level-right[_ngcontent-%COMP%]{flex-basis:auto;flex-grow:0;flex-shrink:0}.button[_ngcontent-%COMP%], .file-cta[_ngcontent-%COMP%], .file-name[_ngcontent-%COMP%], .input[_ngcontent-%COMP%], .pagination-ellipsis[_ngcontent-%COMP%], .pagination-link[_ngcontent-%COMP%], .pagination-next[_ngcontent-%COMP%], .pagination-previous[_ngcontent-%COMP%], .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .textarea[_ngcontent-%COMP%]{-moz-appearance:none;-webkit-appearance:none;align-items:center;border:1px solid transparent;border-radius:4px;box-shadow:none;display:inline-flex;font-size:16px;height:2.25em;justify-content:flex-start;line-height:1.5;padding:calc(.375em - 1px) calc(.625em - 1px);position:relative;vertical-align:top}.textarea[_ngcontent-%COMP%]{padding:2rem 2.25rem}.button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:first-child:not(:last-child){margin-left:calc(-.375em - 1px);margin-right:.1875em}.button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-large[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-medium[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-small[_ngcontent-%COMP%]{height:1.5em;width:1.5em}.icon[_ngcontent-%COMP%]{align-items:center;display:inline-flex;justify-content:center;height:1.5rem;width:1.5rem}span[_ngcontent-%COMP%]{font-style:inherit;font-weight:inherit}.tag[_ngcontent-%COMP%]:not(body)   .delete[_ngcontent-%COMP%]{margin-left:.25rem;margin-right:-.375rem}.is-small.delete[_ngcontent-%COMP%], .is-small.modal-close[_ngcontent-%COMP%]{height:16px;max-height:16px;max-width:16px;min-height:16px;min-width:16px;width:16px}.delete[_ngcontent-%COMP%], .modal-close[_ngcontent-%COMP%]{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(10,10,10,.2);border:none;border-radius:290486px;cursor:pointer;display:inline-block;flex-grow:0;flex-shrink:0;font-size:0;height:20px;max-height:20px;max-width:20px;min-height:20px;min-width:20px;outline:0;position:relative;vertical-align:top;width:20px}.delete[_ngcontent-%COMP%]:before, .modal-close[_ngcontent-%COMP%]:before{height:2px;width:50%}.delete[_ngcontent-%COMP%]:after, .modal-close[_ngcontent-%COMP%]:after{height:50%;width:2px}.delete[_ngcontent-%COMP%]:after, .delete[_ngcontent-%COMP%]:before, .modal-close[_ngcontent-%COMP%]:after, .modal-close[_ngcontent-%COMP%]:before{background-color:#fff;content:"";display:block;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%) rotate(45deg);transform-origin:center center}.mt30[_ngcontent-%COMP%]{margin-top:30px!important}field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%]:last-child{margin-bottom:-.75rem}.field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%]{flex-wrap:wrap}.field.is-grouped[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:last-child, .field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.75rem}.field.is-grouped[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:not(:last-child){margin-bottom:0;margin-right:.75rem}.field.is-grouped[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]{flex-shrink:0}.control[_ngcontent-%COMP%]{font-size:16px;position:relative;text-align:left}.tags[_ngcontent-%COMP%]:last-child{margin-bottom:-.5rem}.tags[_ngcontent-%COMP%]{align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-start}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{margin-right:0}.tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.tag[_ngcontent-%COMP%]:not(body).is-medium{font-size:16px}.tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{margin-bottom:.5rem}.tag[_ngcontent-%COMP%]:not(body){align-items:center;background-color:#f5f5f5;border-radius:4px;color:#4a4a4a;display:inline-flex;font-size:.75rem;justify-content:center;line-height:1.5;padding-left:.75em;padding-right:.75em;white-space:normal;height:auto}a[_ngcontent-%COMP%]{color:#3273dc;cursor:pointer;text-decoration:none}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0}.card-content[_ngcontent-%COMP%]{background-color:none;padding:2rem 2.25rem}  .tooltip-comment{font-size:16px;background-color:#fff;color:#000!important;min-width:200px;padding:16px;box-shadow:0 2px 3px rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.1)}[_nghost-%COMP%]   .has-errors[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .has-errors[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid #f64e60}@media screen and (max-width:1024px){#message-pane[_ngcontent-%COMP%]{padding:16px 0;max-width:90%}[_nghost-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 50px);overflow:auto}}']}),t})();function Jt(t,e){if(1&t&&(g.Bc(0),g.Dc(1,"span"),g.td(2),g.Cc(),g.Ac()),2&t){const t=g.Rc();g.kc(1),g.pc("text-danger","Rejected"===(null==t.jobDetail?null:t.jobDetail.status))("text-success","Accepted"===(null==t.jobDetail?null:t.jobDetail.status)),g.kc(1),g.vd("[",null==t.jobDetail?null:t.jobDetail.status,"]")}}function Vt(t,e){if(1&t){const t=g.Ec();g.Dc(0,"button",35),g.Nc("click",function(){return g.id(t),g.Rc().submitResultJob(!0)}),g.td(1," Submit "),g.Cc()}}function qt(t,e){if(1&t){const t=g.Ec();g.Dc(0,"button",36),g.Nc("click",function(){return g.id(t),g.Rc().submitResultJob(!1)}),g.td(1," Cancel submit "),g.Cc()}if(2&t){const t=g.Rc();g.pc("disabled","Accepted"===(null==t.jobDetail?null:t.jobDetail.status))}}function Ht(t,e){1&t&&g.yc(0,"app-errors-message",41),2&t&&g.Yc("errorMessage","Must not be less than 10 words.")}const Ut=function(t){return{background:t}};function Kt(t,e){if(1&t){const t=g.Ec();g.Bc(0),g.Dc(1,"div",37),g.Dc(2,"label",38),g.td(3),g.Cc(),g.Dc(4,"textarea",39),g.Nc("blur",function(){return g.id(t),g.Rc().save()}),g.Cc(),g.rd(5,Ht,1,1,"app-errors-message",40),g.Cc(),g.Ac()}if(2&t){const t=e.$implicit,n=e.index,i=g.Rc();g.kc(2),g.Yc("ngStyle",g.cd(5,Ut,i.lstColors[n])),g.kc(1),g.ud(null==t?null:t.name),g.kc(1),g.Yc("formControlName",null==t?null:t.name)("id","text"+n),g.kc(1),g.Yc("ngIf",null==i.formGroup.controls[null==t?null:t.name]?null:i.formGroup.controls[null==t?null:t.name].errors)}}const Wt=function(t){return{"width.%":t}};let Zt=(()=>{class t{constructor(t,e,n,i,o,r,c){this.stagingService=t,this.jobService=e,this.changeRef=n,this.router=i,this._snackBar=o,this.dialogService=r,this.toastService=c,this.destroy$=new a.a,this.formGroup=new s.j({}),this.taskSummary=null,this.isSubmit=!1,this.jobDetail=null,this.initialed=!1,this.isDone=!1,this.lstColors=["orange","#3c9","#93f","#333","#f33","#93f"],this.isLoad=!1}ngOnInit(){this.taskSummary=this.jobService.getProgressTask;const t=this.jobService.getLstTask;this.stagingService.getSentenceRewriting().pipe(Object(r.a)(this.destroy$)).subscribe(e=>{if(this.isLoad=!0,this.timeOut&&clearTimeout(this.timeOut),this.timeOut=setTimeout(()=>{this.isLoad=!1,this.changeRef.markForCheck()},2e3),!e)return;if(this.formGroup?this.formGroup.reset(""):this.formGroup=new s.j({}),this.task=c.get(e,"task"),!this.task)return void this.router.navigate(["./annotator"]);this.job=c.get(e,"job"),this.initialed||(this.initialed=!0,this.jobDetail=c.get(e,"jobDetail"),this.isDone=this.jobDetail.tasks.every(t=>c.get(t,"edited"))),this.buildForm();const n=c.get(this.jobDetail,"status");"Reviewing"===n||"Accepted"===n?(this.isSubmit=!0,this.formGroup.disable()):(this.isSubmit=!1,this.formGroup.enable()),this.currentIndex=t.findIndex(t=>c.get(t,"id")===c.get(this.task,"id")),this.getMissionTaskResult()})}getMissionTaskResult(){const t=c.get(this.task,"id");(t||0===t)&&this.jobService.getSubmissionTaskResult(t).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{t&&(t.forEach(t=>{this.formGroup.controls[t.label].setValue(t.text)}),this.changeRef.markForCheck())})}save(){if(!this.formGroup.value)return;if(this.formGroup.disabled)return;const t={payload:[]};this.job.labels.forEach((e,n)=>{const i=c.get(this.formGroup.controls[e.name],"value","");if(!i)return;const o={};o.label=c.get(e,"name"),o.text=i,t.payload.push(o)}),this.jobService.saveSubmissionTaskResult(c.get(this.task,"id"),t).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{this.taskSummary=this.jobService.updateProgressTask(this.task),this.stagingService.updateJobListState(!0),this.getTaskList(this.job),this.changeRef.markForCheck()})}taskChange(t){this.stagingService.setTaskChange({task:this.task,next:t})}buildForm(){this.job&&this.job.labels&&c.size(this.job.labels)>0&&this.job.labels.forEach(t=>{this.formGroup.addControl(t.name,new s.g("",[s.x.required,d(10)]))})}submitResultJob(t){if(!this.jobDetail.tasks.every(t=>c.get(t,"edited")))return void this.toastService.error("Please complete all task","Errors",{positionClass:"toast-bottom-right"});this.isSubmit=t;const e=c.get(this.job,"assignment_id",null);e&&this.jobService.submitJobResult(e,t).pipe(Object(r.a)(this.destroy$)).subscribe(e=>{t?this.formGroup.disable():this.formGroup.enable(),this._snackBar.open("Update successful !!!","Close",{duration:2e3,horizontalPosition:"end",verticalPosition:"bottom"}),this.getTaskList(this.job)})}getTaskList(t){this.subscription&&this.subscription.unsubscribe(),this.subscription=this.jobService.getTaskList(c.get(t,"assignment_id")).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{t&&(this.jobDetail=t,this.isDone=this.jobDetail.tasks.every(t=>c.get(t,"edited")),this.changeRef.markForCheck())},()=>{this.jobDetail=null})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}openChartAnalysis(){this.dialogService.openDialogRanking(c.get(this.job,"id"),this.job).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{})}}return t.\u0275fac=function(e){return new(e||t)(g.xc(h.a),g.xc(u.a),g.xc(g.j),g.xc(o.h),g.xc(E),g.xc(l.a),g.xc(L.b))},t.\u0275cmp=g.rc({type:t,selectors:[["app-sentence-rewriting"]],features:[g.jc([l.a])],decls:60,vars:26,consts:[[1,"card-header","p-4"],[1,"card-title","py-2","mb-0"],[1,"card-label"],[4,"ngIf"],[1,"ranking-icon",3,"click"],[1,"card-action","ml-auto","d-flex","align-items-center"],["mat-icon-button","","matBadgeColor","warn","matTooltipClass","tooltip-comment",1,"button","mr-6",3,"matBadge","matTooltip"],["mat-stroked-button","","color","primary",3,"click",4,"ngIf"],["mat-stroked-button","","color","warn",3,"disabled","click",4,"ngIf"],["id","message-pane",1,"column","col-10","col-sm-11","col-xs-11","m-auto","is-7","is-offset-1","message","hero","is-fullheight"],[1,"modal"],[1,"modal-background"],[1,"modal-card"],[1,"modal-card-head"],[1,"modal-card-title"],["aria-label","close",1,"delete"],[1,"modal-card-body","modal-card-body-footer","content",2,"line-height","150%"],[1,"columns","d-flex","algin-items-center","w-100","mb-3"],[1,"column","mr-4","col-3","m","p-0","d-flex","align-items-center"],[1,"progress","w-100"],["role","progressbar","aria-valuenow","0","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",3,"ngStyle"],[1,"column","font-size-16"],[1,"ml10"],[1,"card","has-text-weight-bold","has-text-white","has-background-royalblue"],[1,"card-content"],[1,"content"],[1,"suggestion"],[1,"todoapp",3,"formGroup"],[4,"ngFor","ngForOf"],[1,"level","mt30"],[1,"button","level-left",3,"click"],[1,"icon"],[1,"fas","fa-chevron-left"],[1,"button","level-right",3,"click"],[1,"fas","fa-chevron-right"],["mat-stroked-button","","color","primary",3,"click"],["mat-stroked-button","","color","warn",3,"click"],[1,"todo","position-relative"],["for","text",3,"ngStyle"],["type","text","placeholder","Typing here ...",1,"new-todo",3,"formControlName","id","blur"],[3,"errorMessage",4,"ngIf"],[3,"errorMessage"]],template:function(t,e){1&t&&(g.Dc(0,"div",0),g.Dc(1,"div",1),g.Dc(2,"h3",2),g.td(3),g.rd(4,Jt,3,5,"ng-container",3),g.Dc(5,"mat-icon",4),g.Nc("click",function(){return e.openChartAnalysis()}),g.td(6,"analytics"),g.Cc(),g.Cc(),g.Dc(7,"span"),g.td(8),g.Cc(),g.Cc(),g.Dc(9,"div",5),g.Dc(10,"button",6),g.Dc(11,"mat-icon"),g.td(12,"chat_bubble_outline"),g.Cc(),g.Cc(),g.rd(13,Vt,2,0,"button",7),g.rd(14,qt,2,2,"button",8),g.Cc(),g.Cc(),g.Dc(15,"div",9),g.Dc(16,"div",10),g.yc(17,"div",11),g.Dc(18,"div",12),g.Dc(19,"header",13),g.Dc(20,"p",14),g.td(21,"Annotation Guideline"),g.Cc(),g.yc(22,"button",15),g.Cc(),g.Dc(23,"section",16),g.Dc(24,"p"),g.td(25,"You can see annotation guideline here."),g.Cc(),g.Cc(),g.Cc(),g.Cc(),g.Dc(26,"div",17),g.Dc(27,"div",18),g.Dc(28,"div",19),g.yc(29,"div",20),g.Cc(),g.Cc(),g.Dc(30,"div",21),g.Dc(31,"span",22),g.Dc(32,"strong"),g.td(33),g.Cc(),g.Cc(),g.td(34,"/"),g.Dc(35,"span"),g.td(36),g.Cc(),g.Cc(),g.Cc(),g.Dc(37,"div",23),g.Dc(38,"div",24),g.Dc(39,"div",25),g.td(40),g.Cc(),g.Cc(),g.Cc(),g.Dc(41,"div",26),g.Dc(42,"strong"),g.td(43,"Suggestion:"),g.Cc(),g.td(44),g.Cc(),g.Dc(45,"section",27),g.rd(46,Kt,6,7,"ng-container",28),g.Cc(),g.Dc(47,"div",29),g.Dc(48,"a",30),g.Nc("click",function(){return e.taskChange(!1)}),g.Dc(49,"span",31),g.yc(50,"i",32),g.Cc(),g.Dc(51,"span"),g.td(52),g.Sc(53,"translate"),g.Cc(),g.Cc(),g.Dc(54,"a",33),g.Nc("click",function(){return e.taskChange(!0)}),g.Dc(55,"span"),g.td(56),g.Sc(57,"translate"),g.Cc(),g.Dc(58,"span",31),g.yc(59,"i",34),g.Cc(),g.Cc(),g.Cc(),g.Cc()),2&t&&(g.kc(3),g.vd("",null==e.job?null:e.job.name," "),g.kc(1),g.Yc("ngIf","Accepted"===(null==e.jobDetail?null:e.jobDetail.status)||"Rejected"===(null==e.jobDetail?null:e.jobDetail.status)),g.kc(4),g.ud(null==e.job?null:e.job.description),g.kc(2),g.Yc("matBadge",null!=e.jobDetail&&e.jobDetail.comment?1:0)("matTooltip",null==e.jobDetail?null:e.jobDetail.comment),g.kc(3),g.Yc("ngIf","Reviewing"!==(null==e.jobDetail?null:e.jobDetail.status)&&"Accepted"!==(null==e.jobDetail?null:e.jobDetail.status)&&!e.isSubmit),g.kc(1),g.Yc("ngIf","Reviewing"===(null==e.jobDetail?null:e.jobDetail.status)||"Accepted"===(null==e.jobDetail?null:e.jobDetail.status)||e.isSubmit),g.kc(15),g.Yc("ngStyle",g.cd(24,Wt,null==e.taskSummary?null:e.taskSummary.percent)),g.kc(4),g.ud(null==e.taskSummary?null:e.taskSummary.lstTaskEdited),g.kc(3),g.ud(null==e.taskSummary?null:e.taskSummary.total),g.kc(4),g.vd(" ",null==e.task?null:e.task.content," "),g.kc(4),g.vd(" ",null==e.task?null:e.task.meta_data," "),g.kc(1),g.Yc("formGroup",e.formGroup),g.kc(1),g.Yc("ngForOf",null==e.job?null:e.job.labels),g.kc(2),g.pc("disabled",0===e.currentIndex||e.isLoad),g.kc(4),g.ud(g.Tc(53,20,"common.prev")),g.kc(2),g.pc("disabled",e.currentIndex===(null==e.taskSummary?null:e.taskSummary.total)-1||e.isLoad),g.kc(2),g.ud(g.Tc(57,22,"common.next")))},directives:[i.n,z.a,f.a,A.a,N.a,i.o,s.r,s.k,i.m,s.c,s.q,s.i,Q],pipes:[tt.d],styles:["[_nghost-%COMP%]   .card[_ngcontent-%COMP%]{border-bottom-right-radius:0;border-bottom-left-radius:0}[_nghost-%COMP%]   .suggestion[_ngcontent-%COMP%]{width:100%;border-bottom:1px solid #d6d8df;border-left:1px solid #d6d8df;border-right:1px solid #d6d8df;padding:2rem 2.25rem;font-style:italic;font-size:16px}.input.is-hovered[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]:hover, .textarea.is-hovered[_ngcontent-%COMP%], .textarea[_ngcontent-%COMP%]:hover{border-color:#b5b5b5}.edit[_ngcontent-%COMP%], .new-todo[_ngcontent-%COMP%]{outline:none}.edit[_ngcontent-%COMP%], .new-todo[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{font-size:16pt;font-family:inherit;font-weight:inherit;line-height:1.4em}label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-items:center;padding:0 20px;color:#fff;margin-bottom:0;min-width:20%;max-width:20%}.todoapp[_ngcontent-%COMP%]{background:#fff;margin:30px 0 0;position:relative;box-shadow:0 2px 3px rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.1)}article[_ngcontent-%COMP%], aside[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], header[_ngcontent-%COMP%], hgroup[_ngcontent-%COMP%], section[_ngcontent-%COMP%]{display:block}.todo-list[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;font-size:16pt;border-bottom:1px solid #ededed}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{display:none}.textarea[_ngcontent-%COMP%]:not([rows]){max-height:600px;min-height:120px}.edit[_ngcontent-%COMP%], .new-todo[_ngcontent-%COMP%]{position:relative;margin:0;width:100%;font-size:16pt;font-family:inherit;font-weight:inherit;line-height:1.4em;color:inherit;padding:6px;border:1px solid #999;box-shadow:inset 0 -1px 5px 0 rgba(0,0,0,.2);box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.textarea[_ngcontent-%COMP%]{display:block;max-width:100%;min-width:100%;padding:.625em;resize:vertical}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{word-break:break-all;padding:1.5rem 60px 1.5rem 1.5rem;display:block;line-height:1.2;transition:color .4s}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .destroy[_ngcontent-%COMP%]{display:none;position:absolute;top:0;right:10px;bottom:0;margin:auto 0}.new-todo[_ngcontent-%COMP%]{padding:1.5rem;border:none;background:rgba(0,0,0,.003);box-shadow:inset 0 -2px 1px rgba(0,0,0,.03)}.has-background-royalblue[_ngcontent-%COMP%]{background-color:#4169e1!important;color:#fff}.todo[_ngcontent-%COMP%]{display:flex;margin-bottom:1px}.content[_ngcontent-%COMP%]{font-size:16pt;line-height:250%}@media screen and (max-width:800px){.todoapp[_ngcontent-%COMP%]{background:transparent;box-shadow:none}.todoapp[_ngcontent-%COMP%]   .todo[_ngcontent-%COMP%]{flex-direction:column;box-shadow:0 2px 3px rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.1);margin-bottom:8px}.todoapp[_ngcontent-%COMP%]   .todo[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:first-child{width:100%;max-width:100%;padding:20px}.todoapp[_ngcontent-%COMP%]   .todo[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{min-height:90px;padding-top:0;background:#fff}}",'.message[_ngcontent-%COMP%], .messages[_ngcontent-%COMP%]{padding:40px 20px}.pg[_ngcontent-%COMP%]{display:inline-block;top:10px}.card-header[_ngcontent-%COMP%]{background-color:none;align-items:stretch;box-shadow:0 1px 2px rgba(10,10,10,.1);display:flex}.card-header-title[_ngcontent-%COMP%]{align-items:center;color:#363636;display:flex;flex-grow:1;font-weight:700}img[_ngcontent-%COMP%]{height:500px;width:auto;-o-object-fit:contain;object-fit:contain}.level[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.level-left[_ngcontent-%COMP%]{align-items:center;justify-content:flex-start}.button[_ngcontent-%COMP%]{background-color:#fff;border-color:#dbdbdb;border-width:1px;color:#363636;cursor:pointer;justify-content:center;padding:calc(.375em - 1px) .75em;text-align:center;white-space:nowrap}.level-right[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end}.level-left[_ngcontent-%COMP%], .level-right[_ngcontent-%COMP%]{flex-basis:auto;flex-grow:0;flex-shrink:0}.button[_ngcontent-%COMP%], .file-cta[_ngcontent-%COMP%], .file-name[_ngcontent-%COMP%], .input[_ngcontent-%COMP%], .pagination-ellipsis[_ngcontent-%COMP%], .pagination-link[_ngcontent-%COMP%], .pagination-next[_ngcontent-%COMP%], .pagination-previous[_ngcontent-%COMP%], .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .textarea[_ngcontent-%COMP%]{-moz-appearance:none;-webkit-appearance:none;align-items:center;border:1px solid transparent;border-radius:4px;box-shadow:none;display:inline-flex;font-size:16px;height:2.25em;justify-content:flex-start;line-height:1.5;padding:calc(.375em - 1px) calc(.625em - 1px);position:relative;vertical-align:top}.textarea[_ngcontent-%COMP%]{padding:2rem 2.25rem}.button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:first-child:not(:last-child){margin-left:calc(-.375em - 1px);margin-right:.1875em}.button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-large[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-medium[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-small[_ngcontent-%COMP%]{height:1.5em;width:1.5em}.icon[_ngcontent-%COMP%]{align-items:center;display:inline-flex;justify-content:center;height:1.5rem;width:1.5rem}span[_ngcontent-%COMP%]{font-style:inherit;font-weight:inherit}.tag[_ngcontent-%COMP%]:not(body)   .delete[_ngcontent-%COMP%]{margin-left:.25rem;margin-right:-.375rem}.is-small.delete[_ngcontent-%COMP%], .is-small.modal-close[_ngcontent-%COMP%]{height:16px;max-height:16px;max-width:16px;min-height:16px;min-width:16px;width:16px}.delete[_ngcontent-%COMP%], .modal-close[_ngcontent-%COMP%]{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(10,10,10,.2);border:none;border-radius:290486px;cursor:pointer;display:inline-block;flex-grow:0;flex-shrink:0;font-size:0;height:20px;max-height:20px;max-width:20px;min-height:20px;min-width:20px;outline:0;position:relative;vertical-align:top;width:20px}.delete[_ngcontent-%COMP%]:before, .modal-close[_ngcontent-%COMP%]:before{height:2px;width:50%}.delete[_ngcontent-%COMP%]:after, .modal-close[_ngcontent-%COMP%]:after{height:50%;width:2px}.delete[_ngcontent-%COMP%]:after, .delete[_ngcontent-%COMP%]:before, .modal-close[_ngcontent-%COMP%]:after, .modal-close[_ngcontent-%COMP%]:before{background-color:#fff;content:"";display:block;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%) rotate(45deg);transform-origin:center center}.mt30[_ngcontent-%COMP%]{margin-top:30px!important}field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%]:last-child{margin-bottom:-.75rem}.field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%]{flex-wrap:wrap}.field.is-grouped[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:last-child, .field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.75rem}.field.is-grouped[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:not(:last-child){margin-bottom:0;margin-right:.75rem}.field.is-grouped[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]{flex-shrink:0}.control[_ngcontent-%COMP%]{font-size:16px;position:relative;text-align:left}.tags[_ngcontent-%COMP%]:last-child{margin-bottom:-.5rem}.tags[_ngcontent-%COMP%]{align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-start}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{margin-right:0}.tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.tag[_ngcontent-%COMP%]:not(body).is-medium{font-size:16px}.tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{margin-bottom:.5rem}.tag[_ngcontent-%COMP%]:not(body){align-items:center;background-color:#f5f5f5;border-radius:4px;color:#4a4a4a;display:inline-flex;font-size:.75rem;justify-content:center;line-height:1.5;padding-left:.75em;padding-right:.75em;white-space:normal;height:auto}a[_ngcontent-%COMP%]{color:#3273dc;cursor:pointer;text-decoration:none}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0}.card-content[_ngcontent-%COMP%]{background-color:none;padding:2rem 2.25rem}  .tooltip-comment{font-size:16px;background-color:#fff;color:#000!important;min-width:200px;padding:16px;box-shadow:0 2px 3px rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.1)}[_nghost-%COMP%]   .has-errors[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .has-errors[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid #f64e60}@media screen and (max-width:1024px){#message-pane[_ngcontent-%COMP%]{padding:16px 0;max-width:90%}[_nghost-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 50px);overflow:auto}}']}),t})();const Xt=["text"];function Qt(t,e){if(1&t&&(g.Bc(0),g.Dc(1,"span"),g.td(2),g.Cc(),g.Ac()),2&t){const t=g.Rc();g.kc(1),g.pc("text-danger","Rejected"===(null==t.jobDetail?null:t.jobDetail.status))("text-success","Accepted"===(null==t.jobDetail?null:t.jobDetail.status)),g.kc(1),g.vd("[",null==t.jobDetail?null:t.jobDetail.status,"]")}}function te(t,e){if(1&t){const t=g.Ec();g.Dc(0,"button",37),g.Nc("click",function(){return g.id(t),g.Rc().submitResultJob(!0)}),g.td(1," Submit "),g.Cc()}}function ee(t,e){if(1&t){const t=g.Ec();g.Dc(0,"button",38),g.Nc("click",function(){return g.id(t),g.Rc().submitResultJob(!1)}),g.td(1," Cancel submit "),g.Cc()}if(2&t){const t=g.Rc();g.pc("disabled","Accepted"===(null==t.jobDetail?null:t.jobDetail.status))}}const ne=function(t){return{color:"rgb(255, 255, 255)","background-color":t}};function ie(t,e){if(1&t){const t=g.Ec();g.Bc(0),g.Dc(1,"button",39),g.Nc("click",function(n){g.id(t);const i=e.$implicit,o=e.index,s=g.Rc();return n.stopPropagation(),s.addLabel(i,o)}),g.Dc(2,"div",40),g.Dc(3,"a",41),g.td(4),g.Cc(),g.Dc(5,"span",42),g.td(6),g.Cc(),g.Cc(),g.Cc(),g.Ac()}if(2&t){const t=e.$implicit;g.kc(1),g.pc("disabled",null==t?null:t.selected),g.kc(2),g.Yc("ngStyle",g.cd(5,ne,null==t?null:t.background)),g.kc(1),g.vd(" ",null==t?null:t.name," "),g.kc(2),g.ud(null==t?null:t.name[0])}}function oe(t,e){if(1&t){const t=g.Ec();g.Bc(0),g.Dc(1,"div",44),g.Dc(2,"a",41),g.td(3),g.Cc(),g.Dc(4,"button",45),g.Nc("click",function(){g.id(t);const n=e.index;return g.Rc(2).removeLabel(n)}),g.td(5,"x"),g.Cc(),g.Cc(),g.Ac()}if(2&t){const t=e.$implicit;g.kc(2),g.Yc("ngStyle",g.cd(2,ne,null==t?null:t.background)),g.kc(1),g.vd(" ",null==t?null:t.name," ")}}function se(t,e){if(1&t&&(g.Dc(0,"div",43),g.rd(1,oe,6,4,"ng-container",27),g.Cc()),2&t){const t=g.Rc();g.kc(1),g.Yc("ngForOf",t.selectedLabel)}}const ae=function(t){return{"width.%":t}};let re=(()=>{class t{constructor(t,e,n,i,o,s,r,c){this.stagingService=t,this.jobService=e,this.changeRef=n,this.router=i,this._snackBar=o,this.dialogService=s,this.commonService=r,this.toastService=c,this.destroy$=new a.a,this.start=0,this.end=0,this.init=!1,this.list=[],this.labels=[],this.chunksData=[],this.lstColors=["#209cee","#fc0","#333","#3c9","#f33","#93f"],this.taskSummary=null,this.isSubmit=!1,this.jobDetail=null,this.initialed=!1,this.isDone=!1,this.isLoad=!1,this.selectedLabel=[]}ngOnInit(){this.taskSummary=this.jobService.getProgressTask;const t=this.jobService.getLstTask;this.stagingService.getSentimentAnalysis().pipe(Object(r.a)(this.destroy$)).subscribe(e=>{this.isLoad=!0,this.selectedLabel=[],this.timeOut&&clearTimeout(this.timeOut),this.timeOut=setTimeout(()=>{this.isLoad=!1,this.changeRef.markForCheck()},2e3),e&&(this.task=c.get(e,"task"),this.task?(this.job=c.get(e,"job"),this.labels=this.commonService.convertLabels(c.get(this.job,"labels")),this.initialed||(this.initialed=!0,this.jobDetail=c.get(e,"jobDetail"),this.isDone=this.jobDetail.tasks.every(t=>c.get(t,"edited"))),this.currentIndex=t.findIndex(t=>c.get(t,"id")===c.get(this.task,"id")),this.getMissionTaskResult(),this.changeRef.markForCheck()):this.router.navigate(["./annotator"]))})}getMissionTaskResult(){const t=c.get(this.task,"id");(t||0===t)&&this.jobService.getSubmissionTaskResult(t).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{t&&(this.labels.forEach(e=>{e&&t.find(t=>c.get(e,"name")===c.get(t,"label"))&&(e.selected=!0,this.selectedLabel.push(e))}),this.changeRef.markForCheck())},()=>{})}save(t){const e=c.get(this.task,"id");if(!e)return;const n={};n.payload=t.map(t=>({label:t})),this.jobService.saveSubmissionTaskResult(e,n).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{this.taskSummary=this.jobService.updateProgressTask(this.task),this.stagingService.updateJobListState(!0)})}taskChange(t){this.stagingService.setTaskChange({task:this.task,next:t})}submitResultJob(t){if(!this.jobDetail.tasks.every(t=>c.get(t,"edited")))return void this.toastService.error("Please complete all task","Errors",{positionClass:"toast-bottom-right"});this.isSubmit=t;const e=c.get(this.job,"assignment_id",null);e&&this.jobService.submitJobResult(e,t).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{this.getTaskList(this.job),this.stagingService.updateJobListState(!0),this._snackBar.open("Update successful !!!","Close",{duration:2e3,horizontalPosition:"end",verticalPosition:"bottom"})})}getTaskList(t){this.subscription&&this.subscription.unsubscribe(),this.subscription=this.jobService.getTaskList(c.get(t,"assignment_id")).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{t&&(this.jobDetail=t,this.isDone=this.jobDetail.tasks.every(t=>c.get(t,"edited")),this.changeRef.markForCheck())},()=>{this.jobDetail=null})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}openChartAnalysis(){this.dialogService.openDialogRanking(c.get(this.job,"id"),this.job).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{})}addLabel(t,e){this.labels[e].selected=!0,this.selectedLabel.push(t),this.save(this.selectedLabel.map(t=>null==t?void 0:t.name))}removeLabel(t){this.labels[t].selected=!1,this.selectedLabel=this.selectedLabel.filter((e,n)=>t!==n),this.save(this.selectedLabel.map(t=>null==t?void 0:t.name))}}return t.\u0275fac=function(e){return new(e||t)(g.xc(h.a),g.xc(u.a),g.xc(g.j),g.xc(o.h),g.xc(E),g.xc(l.a),g.xc(ct.a),g.xc(L.b))},t.\u0275cmp=g.rc({type:t,selectors:[["app-sentiment-analysis"]],viewQuery:function(t,e){if(1&t&&g.xd(Xt,!0),2&t){let t;g.fd(t=g.Oc())&&(e.text=t.first)}},features:[g.jc([l.a])],decls:59,vars:25,consts:[[1,"card-header","p-4",2,"background-color","#fff !important"],[1,"card-title","py-2","mb-0"],[1,"card-label"],[4,"ngIf"],[1,"ranking-icon",3,"click"],[1,"card-action","ml-auto","d-flex","align-items-center"],["mat-icon-button","","matBadgeColor","warn","matTooltipClass","tooltip-comment",1,"button","mr-6",3,"matBadge","matTooltip"],["mat-stroked-button","","color","primary",3,"click",4,"ngIf"],["mat-stroked-button","","color","warn",3,"disabled","click",4,"ngIf"],["id","message-pane",1,"column","col-10","col-sm-11","col-xs-11","m-auto","is-7","is-offset-1","message","hero","is-fullheight"],[1,"modal"],[1,"modal-background"],[1,"modal-card"],[1,"modal-card-head"],[1,"modal-card-title"],["aria-label","close",1,"delete"],[1,"modal-card-body","modal-card-body-footer","content",2,"line-height","150%"],[1,"columns","d-flex","algin-items-center","w-100","mb-3"],[1,"column","mr-4","col-3","m","p-0","d-flex","align-items-center"],[1,"progress","w-100"],["role","progressbar","aria-valuenow","0","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",3,"ngStyle"],[1,"column","font-size-16"],[1,"ml10"],[1,"card"],[1,"card-header"],[1,"card-header-title","has-background-royalblue"],[1,"field","is-grouped","is-grouped-multiline"],[4,"ngFor","ngForOf"],[1,"card-content"],["class","card-content-header border-bottom pb-3 d-flex align-items-start mr-2",4,"ngIf"],[1,"content"],[1,"level","mt30"],[1,"button","level-left",3,"click"],[1,"icon"],[1,"fas","fa-chevron-left"],[1,"button","level-right",3,"click"],[1,"fas","fa-chevron-right"],["mat-stroked-button","","color","primary",3,"click"],["mat-stroked-button","","color","warn",3,"click"],[1,"control",3,"click"],[1,"tags","has-addons"],[1,"tag","is-medium","mr-0",3,"ngStyle"],[1,"tag","is-medium"],[1,"card-content-header","border-bottom","pb-3","d-flex","align-items-start","mr-2"],[1,"tags","has-addons","mr-2","align-items-baseline"],[1,"border-0","tag","is-medium","box-sizing-border-box",3,"click"]],template:function(t,e){1&t&&(g.Dc(0,"div",0),g.Dc(1,"div",1),g.Dc(2,"h3",2),g.td(3),g.rd(4,Qt,3,5,"ng-container",3),g.Dc(5,"mat-icon",4),g.Nc("click",function(){return e.openChartAnalysis()}),g.td(6,"analytics"),g.Cc(),g.Cc(),g.Dc(7,"span"),g.td(8),g.Cc(),g.Cc(),g.Dc(9,"div",5),g.Dc(10,"button",6),g.Dc(11,"mat-icon"),g.td(12,"chat_bubble_outline"),g.Cc(),g.Cc(),g.rd(13,te,2,0,"button",7),g.rd(14,ee,2,2,"button",8),g.Cc(),g.Cc(),g.Dc(15,"div",9),g.Dc(16,"div",10),g.yc(17,"div",11),g.Dc(18,"div",12),g.Dc(19,"header",13),g.Dc(20,"p",14),g.td(21,"Annotation Guideline"),g.Cc(),g.yc(22,"button",15),g.Cc(),g.Dc(23,"section",16),g.Dc(24,"p"),g.td(25,"You can see annotation guideline here."),g.Cc(),g.Cc(),g.Cc(),g.Cc(),g.Dc(26,"div",17),g.Dc(27,"div",18),g.Dc(28,"div",19),g.yc(29,"div",20),g.Cc(),g.Cc(),g.Dc(30,"div",21),g.Dc(31,"span",22),g.Dc(32,"strong"),g.td(33),g.Cc(),g.Cc(),g.td(34,"/"),g.Dc(35,"span"),g.td(36),g.Cc(),g.Cc(),g.Cc(),g.Dc(37,"div",23),g.Dc(38,"header",24),g.Dc(39,"div",25),g.Dc(40,"div",26),g.rd(41,ie,7,7,"ng-container",27),g.Cc(),g.Cc(),g.Cc(),g.Dc(42,"div",28),g.rd(43,se,2,1,"div",29),g.Dc(44,"div",30),g.td(45),g.Cc(),g.Cc(),g.Cc(),g.Dc(46,"div",31),g.Dc(47,"a",32),g.Nc("click",function(){return e.taskChange(!1)}),g.Dc(48,"span",33),g.yc(49,"i",34),g.Cc(),g.Dc(50,"span"),g.td(51),g.Sc(52,"translate"),g.Cc(),g.Cc(),g.Dc(53,"a",35),g.Nc("click",function(){return e.taskChange(!0)}),g.Dc(54,"span"),g.td(55),g.Sc(56,"translate"),g.Cc(),g.Dc(57,"span",33),g.yc(58,"i",36),g.Cc(),g.Cc(),g.Cc(),g.Cc()),2&t&&(g.kc(3),g.vd("",null==e.job?null:e.job.name," "),g.kc(1),g.Yc("ngIf","Accepted"===(null==e.jobDetail?null:e.jobDetail.status)||"Rejected"===(null==e.jobDetail?null:e.jobDetail.status)),g.kc(4),g.ud(null==e.job?null:e.job.description),g.kc(2),g.Yc("matBadge",null!=e.jobDetail&&e.jobDetail.comment?1:0)("matTooltip",null==e.jobDetail?null:e.jobDetail.comment),g.kc(3),g.Yc("ngIf","Reviewing"!==(null==e.jobDetail?null:e.jobDetail.status)&&"Accepted"!==(null==e.jobDetail?null:e.jobDetail.status)&&!e.isSubmit),g.kc(1),g.Yc("ngIf","Reviewing"===(null==e.jobDetail?null:e.jobDetail.status)||"Accepted"===(null==e.jobDetail?null:e.jobDetail.status)),g.kc(15),g.Yc("ngStyle",g.cd(23,ae,null==e.taskSummary?null:e.taskSummary.percent)),g.kc(4),g.ud(null==e.taskSummary?null:e.taskSummary.lstTaskEdited),g.kc(3),g.ud(null==e.taskSummary?null:e.taskSummary.total),g.kc(5),g.Yc("ngForOf",e.labels),g.kc(2),g.Yc("ngIf",e.selectedLabel),g.kc(2),g.vd(" ",null==e.task?null:e.task.content," "),g.kc(2),g.pc("disabled",0===e.currentIndex||e.isLoad),g.kc(4),g.ud(g.Tc(52,19,"common.prev")),g.kc(2),g.pc("disabled",e.currentIndex===(null==e.taskSummary?null:e.taskSummary.total)-1||e.isLoad),g.kc(2),g.ud(g.Tc(56,21,"common.next")))},directives:[i.n,z.a,f.a,A.a,N.a,i.o,i.m],pipes:[tt.d],styles:['[_nghost-%COMP%]   .disabled[_ngcontent-%COMP%]{filter:grayscale(1)}[_nghost-%COMP%]   .box-sizing-border-box[_ngcontent-%COMP%]{box-sizing:border-box}.field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%]:last-child{margin-bottom:-.75rem}.field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%]{flex-wrap:wrap}.field.is-grouped[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:last-child, .field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.75rem}.field.is-grouped[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:not(:last-child){margin-bottom:0;margin-right:.75rem}.field.is-grouped[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]{flex-shrink:0}.control[_ngcontent-%COMP%]{font-size:16px;position:relative;text-align:left}.tags[_ngcontent-%COMP%]:last-child{margin-bottom:-.5rem}.tags[_ngcontent-%COMP%]{align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-start}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{margin-right:0}.tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.tag[_ngcontent-%COMP%]:not(body).is-medium{font-size:16px}.tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{margin-bottom:.5rem}.tag[_ngcontent-%COMP%]:not(body){align-items:center;background-color:#f5f5f5;border-radius:4px;color:#4a4a4a;display:inline-flex;font-size:.75rem;height:2em;justify-content:center;line-height:1.5;padding-left:.75em;padding-right:.75em;white-space:nowrap}a[_ngcontent-%COMP%]{color:#3273dc;cursor:pointer;text-decoration:none}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0}.card-content[_ngcontent-%COMP%]{background-color:none;padding:2rem 2.25rem}.mt30[_ngcontent-%COMP%]{margin-top:30px!important}.tag[_ngcontent-%COMP%]:not(body)   .delete[_ngcontent-%COMP%]{margin-left:.25rem;margin-right:-.375rem}.is-small.delete[_ngcontent-%COMP%], .is-small.modal-close[_ngcontent-%COMP%]{height:16px;max-height:16px;max-width:16px;min-height:16px;min-width:16px;width:16px}.delete[_ngcontent-%COMP%], .modal-close[_ngcontent-%COMP%]{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(10,10,10,.2);border:none;border-radius:290486px;cursor:pointer;display:inline-block;flex-grow:0;flex-shrink:0;font-size:0;height:20px;max-height:20px;max-width:20px;min-height:20px;min-width:20px;outline:0;position:relative;vertical-align:top;width:20px}.delete[_ngcontent-%COMP%]:before, .modal-close[_ngcontent-%COMP%]:before{height:2px;width:50%}.delete[_ngcontent-%COMP%]:after, .modal-close[_ngcontent-%COMP%]:after{height:50%;width:2px}.delete[_ngcontent-%COMP%]:after, .delete[_ngcontent-%COMP%]:before, .modal-close[_ngcontent-%COMP%]:after, .modal-close[_ngcontent-%COMP%]:before{background-color:#fff;content:"";display:block;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%) rotate(45deg);transform-origin:center center}.content[_ngcontent-%COMP%]{font-size:16pt;line-height:250%}.level[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.level-left[_ngcontent-%COMP%]{align-items:center;justify-content:flex-start}.button[_ngcontent-%COMP%]{background-color:#fff;border-color:#dbdbdb;border-width:1px;color:#363636;cursor:pointer;justify-content:center;padding:calc(.375em - 1px) .75em;text-align:center;white-space:nowrap}.level-right[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end}.level-left[_ngcontent-%COMP%], .level-right[_ngcontent-%COMP%]{flex-basis:auto;flex-grow:0;flex-shrink:0}.button[_ngcontent-%COMP%], .file-cta[_ngcontent-%COMP%], .file-name[_ngcontent-%COMP%], .input[_ngcontent-%COMP%], .pagination-ellipsis[_ngcontent-%COMP%], .pagination-link[_ngcontent-%COMP%], .pagination-next[_ngcontent-%COMP%], .pagination-previous[_ngcontent-%COMP%], .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .textarea[_ngcontent-%COMP%]{-moz-appearance:none;-webkit-appearance:none;align-items:center;border:1px solid transparent;border-radius:4px;box-shadow:none;display:inline-flex;font-size:16px;height:2.25em;justify-content:flex-start;line-height:1.5;padding:calc(.375em - 1px) calc(.625em - 1px);position:relative;vertical-align:top}.button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:first-child:not(:last-child){margin-left:calc(-.375em - 1px);margin-right:.1875em}.button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-large[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-medium[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-small[_ngcontent-%COMP%]{height:1.5em;width:1.5em}.icon[_ngcontent-%COMP%]{align-items:center;display:inline-flex;justify-content:center;height:1.5rem;width:1.5rem}span[_ngcontent-%COMP%]{font-style:inherit;font-weight:inherit}button.control[_ngcontent-%COMP%]{outline:none}.delete-small[_ngcontent-%COMP%], button.control[_ngcontent-%COMP%]{border:none;background:transparent}.delete-small[_ngcontent-%COMP%]{height:20px;width:20px;display:inline-flex;justify-content:center;align-items:center}.delete-small[_ngcontent-%COMP%]:after{content:"x";color:inherit}.content[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{font-size:16pt;height:1.5em;padding-left:.5em;padding-right:.5em}.card-header[_ngcontent-%COMP%]{background:#4169e1!important}','.message[_ngcontent-%COMP%], .messages[_ngcontent-%COMP%]{padding:40px 20px}.pg[_ngcontent-%COMP%]{display:inline-block;top:10px}.card-header[_ngcontent-%COMP%]{background-color:none;align-items:stretch;box-shadow:0 1px 2px rgba(10,10,10,.1);display:flex}.card-header-title[_ngcontent-%COMP%]{align-items:center;color:#363636;display:flex;flex-grow:1;font-weight:700}img[_ngcontent-%COMP%]{height:500px;width:auto;-o-object-fit:contain;object-fit:contain}.level[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.level-left[_ngcontent-%COMP%]{align-items:center;justify-content:flex-start}.button[_ngcontent-%COMP%]{background-color:#fff;border-color:#dbdbdb;border-width:1px;color:#363636;cursor:pointer;justify-content:center;padding:calc(.375em - 1px) .75em;text-align:center;white-space:nowrap}.level-right[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end}.level-left[_ngcontent-%COMP%], .level-right[_ngcontent-%COMP%]{flex-basis:auto;flex-grow:0;flex-shrink:0}.button[_ngcontent-%COMP%], .file-cta[_ngcontent-%COMP%], .file-name[_ngcontent-%COMP%], .input[_ngcontent-%COMP%], .pagination-ellipsis[_ngcontent-%COMP%], .pagination-link[_ngcontent-%COMP%], .pagination-next[_ngcontent-%COMP%], .pagination-previous[_ngcontent-%COMP%], .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .textarea[_ngcontent-%COMP%]{-moz-appearance:none;-webkit-appearance:none;align-items:center;border:1px solid transparent;border-radius:4px;box-shadow:none;display:inline-flex;font-size:16px;height:2.25em;justify-content:flex-start;line-height:1.5;padding:calc(.375em - 1px) calc(.625em - 1px);position:relative;vertical-align:top}.textarea[_ngcontent-%COMP%]{padding:2rem 2.25rem}.button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:first-child:not(:last-child){margin-left:calc(-.375em - 1px);margin-right:.1875em}.button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-large[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-medium[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-small[_ngcontent-%COMP%]{height:1.5em;width:1.5em}.icon[_ngcontent-%COMP%]{align-items:center;display:inline-flex;justify-content:center;height:1.5rem;width:1.5rem}span[_ngcontent-%COMP%]{font-style:inherit;font-weight:inherit}.tag[_ngcontent-%COMP%]:not(body)   .delete[_ngcontent-%COMP%]{margin-left:.25rem;margin-right:-.375rem}.is-small.delete[_ngcontent-%COMP%], .is-small.modal-close[_ngcontent-%COMP%]{height:16px;max-height:16px;max-width:16px;min-height:16px;min-width:16px;width:16px}.delete[_ngcontent-%COMP%], .modal-close[_ngcontent-%COMP%]{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(10,10,10,.2);border:none;border-radius:290486px;cursor:pointer;display:inline-block;flex-grow:0;flex-shrink:0;font-size:0;height:20px;max-height:20px;max-width:20px;min-height:20px;min-width:20px;outline:0;position:relative;vertical-align:top;width:20px}.delete[_ngcontent-%COMP%]:before, .modal-close[_ngcontent-%COMP%]:before{height:2px;width:50%}.delete[_ngcontent-%COMP%]:after, .modal-close[_ngcontent-%COMP%]:after{height:50%;width:2px}.delete[_ngcontent-%COMP%]:after, .delete[_ngcontent-%COMP%]:before, .modal-close[_ngcontent-%COMP%]:after, .modal-close[_ngcontent-%COMP%]:before{background-color:#fff;content:"";display:block;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%) rotate(45deg);transform-origin:center center}.mt30[_ngcontent-%COMP%]{margin-top:30px!important}field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%]:last-child{margin-bottom:-.75rem}.field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%]{flex-wrap:wrap}.field.is-grouped[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:last-child, .field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.75rem}.field.is-grouped[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:not(:last-child){margin-bottom:0;margin-right:.75rem}.field.is-grouped[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]{flex-shrink:0}.control[_ngcontent-%COMP%]{font-size:16px;position:relative;text-align:left}.tags[_ngcontent-%COMP%]:last-child{margin-bottom:-.5rem}.tags[_ngcontent-%COMP%]{align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-start}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{margin-right:0}.tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.tag[_ngcontent-%COMP%]:not(body).is-medium{font-size:16px}.tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{margin-bottom:.5rem}.tag[_ngcontent-%COMP%]:not(body){align-items:center;background-color:#f5f5f5;border-radius:4px;color:#4a4a4a;display:inline-flex;font-size:.75rem;justify-content:center;line-height:1.5;padding-left:.75em;padding-right:.75em;white-space:normal;height:auto}a[_ngcontent-%COMP%]{color:#3273dc;cursor:pointer;text-decoration:none}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0}.card-content[_ngcontent-%COMP%]{background-color:none;padding:2rem 2.25rem}  .tooltip-comment{font-size:16px;background-color:#fff;color:#000!important;min-width:200px;padding:16px;box-shadow:0 2px 3px rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.1)}[_nghost-%COMP%]   .has-errors[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .has-errors[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid #f64e60}@media screen and (max-width:1024px){#message-pane[_ngcontent-%COMP%]{padding:16px 0;max-width:90%}[_nghost-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 50px);overflow:auto}}']}),t})();const ce=["text"];function le(t,e){if(1&t&&(g.Bc(0),g.Dc(1,"span"),g.td(2),g.Cc(),g.Ac()),2&t){const t=g.Rc();g.kc(1),g.pc("text-danger","Rejected"===(null==t.jobDetail?null:t.jobDetail.status))("text-success","Accepted"===(null==t.jobDetail?null:t.jobDetail.status)),g.kc(1),g.vd("[",null==t.jobDetail?null:t.jobDetail.status,"]")}}function de(t,e){if(1&t){const t=g.Ec();g.Dc(0,"button",39),g.Nc("click",function(){return g.id(t),g.Rc().submitResultJob(!0)}),g.td(1," Submit "),g.Cc()}}function ge(t,e){if(1&t){const t=g.Ec();g.Dc(0,"button",40),g.Nc("click",function(){return g.id(t),g.Rc().submitResultJob(!1)}),g.td(1," Cancel submit "),g.Cc()}if(2&t){const t=g.Rc();g.pc("disabled","Accepted"===(null==t.jobDetail?null:t.jobDetail.status))}}const he=function(t){return{color:"rgb(255, 255, 255)","background-color":t}};function ue(t,e){if(1&t){const t=g.Ec();g.Bc(0),g.Dc(1,"button",41),g.Nc("click",function(n){g.id(t);const i=e.$implicit,o=g.Rc();return n.stopPropagation(),o.assignLabel(null==i?null:i.name)}),g.Dc(2,"div",42),g.Dc(3,"a",43),g.td(4),g.Cc(),g.Dc(5,"span",44),g.td(6),g.Cc(),g.Cc(),g.Cc(),g.Ac()}if(2&t){const t=e.$implicit;g.kc(3),g.Yc("ngStyle",g.cd(3,he,null==t?null:t.background)),g.kc(1),g.vd(" ",null==t?null:t.name," "),g.kc(2),g.ud(null==t?null:t.name[0])}}function pe(t,e){1&t&&g.zc(0)}const me=function(t){return{data:t}};function be(t,e){if(1&t&&(g.Bc(0),g.rd(1,pe,1,0,"ng-container",45),g.Ac()),2&t){const t=e.$implicit;g.Rc();const n=g.gd(61);g.kc(1),g.Yc("ngTemplateOutlet",n)("ngTemplateOutletContext",g.cd(2,me,t))}}function fe(t,e){1&t&&g.yc(0,"app-errors-message",46),2&t&&g.Yc("errorMessage","Selection invalid")}function _e(t,e){if(1&t){const t=g.Ec();g.Bc(0),g.Dc(1,"button",48),g.Nc("click",function(){g.id(t);const e=g.Rc().data;return g.Rc().delete(e)}),g.Cc(),g.Ac()}}const Ce=function(t,e){return{background:t,color:e}};function xe(t,e){if(1&t&&(g.Dc(0,"span",47),g.td(1),g.rd(2,_e,2,0,"ng-container",3),g.Cc()),2&t){const t=e.data;g.pc("tag",null==t?null:t.hasDelete),g.Yc("ngStyle",g.dd(5,Ce,null==t?null:t.background,null==t?null:t.color)),g.kc(1),g.ud(null==t?null:t.text),g.kc(1),g.Yc("ngIf",(null==t?null:t.text)&&(null==t?null:t.hasDelete))}}const Oe=function(t){return{"width.%":t}};let Pe=(()=>{class t{constructor(t,e,n,i,o,s,r){this.stagingService=t,this.jobService=e,this.changeRef=n,this.router=i,this._snackBar=o,this.dialogService=s,this.toastService=r,this.destroy$=new a.a,this.start=0,this.end=0,this.init=!1,this.list=[],this.labels=[],this.chunksData=[],this.lstColors=["#209cee","#fc0","#333","#3c9","#f33","#93f"],this.taskSummary=null,this.isSubmit=!1,this.jobDetail=null,this.initialed=!1,this.isDone=!1,this.isLoad=!1,this.hasErrors=!1}ngOnInit(){this.taskSummary=this.jobService.getProgressTask;const t=this.jobService.getLstTask;this.stagingService.getNameEntityTask().pipe(Object(r.a)(this.destroy$)).subscribe(e=>{if(this.isLoad=!0,this.timeOut&&clearTimeout(this.timeOut),this.timeOut=setTimeout(()=>{this.isLoad=!1,this.changeRef.markForCheck()},2e3),!e)return;const n=c.get(e,"job");c.get(n,"assignment_id")!==c.get(this.job,"assignment_id")&&(this.initialed=!1),this.list=[],this.start=0,this.end=0,this.chunksData=[],this.task=c.get(e,"task"),this.task?(this.job=c.get(e,"job"),this.labels=this.convertLabels(c.get(this.job,"labels")),this.initialed||(this.initialed=!0,this.jobDetail=c.get(e,"jobDetail"),this.isDone=this.jobDetail.tasks.every(t=>c.get(t,"edited"))),this.currentIndex=t.findIndex(t=>c.get(t,"id")===c.get(this.task,"id")),this.getMissionTaskResult(),this.changeRef.markForCheck()):this.router.navigate(["./annotator"])}),document.onselectionchange=()=>{let t;if(window.getSelection?t=window.getSelection():document.getSelection&&(t=document.getSelection()),t.rangeCount<=0)return;const e=t.getRangeAt(0),n=e.cloneRange();n.selectNodeContents(this.text.nativeElement),n.setEnd(e.startContainer,e.startOffset),this.start=[...n.toString()].length,this.end=this.start+[...e.toString()].length,this.hasErrors=!1}}getSpanInfor(){let t;if(window.getSelection?t=window.getSelection():document.getSelection&&(t=document.getSelection()),t.rangeCount<=0)return;const e=t.getRangeAt(0),n=e.cloneRange();n.selectNodeContents(this.text.nativeElement),n.setEnd(e.startContainer,e.startOffset),this.start=[...n.toString()].length,this.end=this.start+[...e.toString()].length}getMissionTaskResult(){const t=c.get(this.task,"id");(t||0===t)&&this.jobService.getSubmissionTaskResult(t).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{t?(t.forEach(t=>{const e={};e.start=Number(c.get(t,"start")),e.end=Number(c.get(t,"end")),e.labelName=c.get(t,"label"),e.id=c.uniqueId(),this.list.push(e)}),this.list=this.sortedEntities(),this.chunks(!0)):this.chunks(!0)},()=>{this.chunks(!0)})}validateSpan(){if(void 0===this.start||void 0===this.end)return!1;if(this.start===this.end)return!1;for(const t of this.list)return!(t.start<=this.start&&this.start<t.end)&&!(t.start<this.end&&this.end<=t.end)&&!(this.start<t.start&&t.end<this.end)&&this.chunkValidator();return!0}assignLabel(t){this.hasErrors=!this.validateSpan(),this.validateSpan()&&(this.list.push({start:this.start,end:this.end,labelName:t,id:c.uniqueId()}),this.start=0,this.end=0,this.hasErrors=!1,this.chunks())}makeChunks(t){const e=[],n=t.split("\n");for(const i of n.slice(0,-1))e.push({label:null,color:null,text:i+"\n",newline:!1}),e.push({label:null,color:null,text:"",newline:!0});return e.push({label:null,color:null,text:n.slice(-1)[0],newline:!1}),e}chunks(t){let e=[];this.chunksData=[];let n=0;const i=c.get(this.task,"content",""),o=this.sortedEntities();for(const s of o){e=e.concat(this.makeChunks(i.slice(n,s.start))),n=s.end;const t=this.labels.find(t=>c.get(t,"name")===s.labelName);e.push({id:s.id,label:c.get(t,"name"),color:c.get(t,"color"),background:c.get(t,"background"),text:i.slice(s.start,s.end),hasDelete:!!t})}e=[...e,...this.makeChunks(i.slice(n,i.length))],this.chunksData=c.cloneDeep(e),t||this.save(),this.changeRef.markForCheck()}labelObject(){const t={};for(const e of this.job.labels)t[e.id]=e;return t}convertLabels(t){if(c.size(t)<=0)return;const e=[];return t.forEach((t,n)=>{const i={};i.id=c.uniqueId(),i.background=this.lstColors[n]?this.lstColors[n]:this.getRandomColor(),i.color="#FFFFFF",i.name=c.get(t,"name"),e.push(i)}),e}getRandomColor(){for(var t="#",e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t}sortedEntities(){return this.list.slice().sort((t,e)=>t.start-e.start)}save(){if(c.size(this.list)<=0)return;const t=c.get(this.task,"id");if(!t)return;const e={payload:[]};this.list.forEach(t=>{const n={};n.start=String(c.get(t,"start")),n.end=String(c.get(t,"end")),n.label=c.get(t,"labelName"),e.payload.push(n)}),this.jobService.saveSubmissionTaskResult(t,e).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{this.taskSummary=this.jobService.updateProgressTask(this.task),this.stagingService.updateJobListState(!0)})}taskChange(t){this.stagingService.setTaskChange({task:this.task,next:t})}delete(t){c.remove(this.list,e=>e.id===c.get(t,"id")),this.chunks()}submitResultJob(t){if(!this.jobDetail.tasks.every(t=>c.get(t,"edited")))return void this.toastService.error("Please complete all task","Errors",{positionClass:"toast-bottom-right"});this.isSubmit=t;const e=c.get(this.job,"assignment_id",null);e&&this.jobService.submitJobResult(e,t).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{this.getTaskList(this.job),this._snackBar.open("Update successful !!!","Close",{duration:2e3,horizontalPosition:"end",verticalPosition:"bottom"})})}getTaskList(t){this.subscription&&this.subscription.unsubscribe(),this.subscription=this.jobService.getTaskList(c.get(t,"assignment_id")).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{t&&(this.jobDetail=t,this.isDone=this.jobDetail.tasks.every(t=>c.get(t,"edited")),this.changeRef.markForCheck())},()=>{this.jobDetail=null})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}openChartAnalysis(){this.dialogService.openDialogRanking(c.get(this.job,"id"),this.job).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{})}chunkValidator(){const t=c.get(this.task,"content",""),e=t.slice(0===this.start?0:this.start-1,this.end===t.length-1?this.end:this.end+1);return" "===c.first(e)&&" "===c.last(e)||0===this.start&&" "===c.last(e)||this.end===c.size(t)&&" "===c.first(e)}}return t.\u0275fac=function(e){return new(e||t)(g.xc(h.a),g.xc(u.a),g.xc(g.j),g.xc(o.h),g.xc(E),g.xc(l.a),g.xc(L.b))},t.\u0275cmp=g.rc({type:t,selectors:[["app-text-annotator"]],viewQuery:function(t,e){if(1&t&&g.xd(ce,!0),2&t){let t;g.fd(t=g.Oc())&&(e.text=t.first)}},features:[g.jc([l.a])],decls:62,vars:27,consts:[[1,"card-header","p-4",2,"background-color","#fff !important"],[1,"card-title","py-2","mb-0"],[1,"card-label"],[4,"ngIf"],[1,"ranking-icon",3,"click"],[1,"card-action","ml-auto","d-flex","align-items-center"],["mat-icon-button","","matBadgeColor","warn","matTooltipClass","tooltip-comment",1,"button","mr-6",3,"matBadge","matTooltip"],["mat-stroked-button","","color","primary",3,"click",4,"ngIf"],["mat-stroked-button","","color","warn",3,"disabled","click",4,"ngIf"],["id","message-pane",1,"column","col-10","col-sm-11","col-xs-11","m-auto","is-7","is-offset-1","message","hero","is-fullheight"],[1,"modal"],[1,"modal-background"],[1,"modal-card"],[1,"modal-card-head"],[1,"modal-card-title"],["aria-label","close",1,"delete"],[1,"modal-card-body","modal-card-body-footer","content",2,"line-height","150%"],[1,"columns","d-flex","algin-items-center","w-100","mb-3"],[1,"column","mr-4","col-3","m","p-0","d-flex","align-items-center"],[1,"progress","w-100"],["role","progressbar","aria-valuenow","0","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",3,"ngStyle"],[1,"column","font-size-16"],[1,"ml10"],[1,"card"],[1,"card-header"],[1,"card-header-title","has-background-royalblue"],[1,"field","is-grouped","is-grouped-multiline"],[4,"ngFor","ngForOf"],[1,"card-content","position-relative"],[1,"content"],["text",""],["timer","500","autoHidden","3000",3,"errorMessage",4,"ngIf"],[1,"level","mt30"],[1,"button","level-left",3,"click"],[1,"icon"],[1,"fas","fa-chevron-left"],[1,"button","level-right",3,"click"],[1,"fas","fa-chevron-right"],["spanTemplate",""],["mat-stroked-button","","color","primary",3,"click"],["mat-stroked-button","","color","warn",3,"click"],[1,"control",3,"click"],[1,"tags","has-addons"],[1,"tag","is-medium","mr-0",3,"ngStyle"],[1,"tag","is-medium"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["timer","500","autoHidden","3000",3,"errorMessage"],[3,"ngStyle"],[1,"delete","is-small",3,"click"]],template:function(t,e){1&t&&(g.Dc(0,"div",0),g.Dc(1,"div",1),g.Dc(2,"h3",2),g.td(3),g.rd(4,le,3,5,"ng-container",3),g.Dc(5,"mat-icon",4),g.Nc("click",function(){return e.openChartAnalysis()}),g.td(6,"analytics"),g.Cc(),g.Cc(),g.Dc(7,"span"),g.td(8),g.Cc(),g.Cc(),g.Dc(9,"div",5),g.Dc(10,"button",6),g.Dc(11,"mat-icon"),g.td(12,"chat_bubble_outline"),g.Cc(),g.Cc(),g.rd(13,de,2,0,"button",7),g.rd(14,ge,2,2,"button",8),g.Cc(),g.Cc(),g.Dc(15,"div",9),g.Dc(16,"div",10),g.yc(17,"div",11),g.Dc(18,"div",12),g.Dc(19,"header",13),g.Dc(20,"p",14),g.td(21,"Annotation Guideline"),g.Cc(),g.yc(22,"button",15),g.Cc(),g.Dc(23,"section",16),g.Dc(24,"p"),g.td(25,"You can see annotation guideline here."),g.Cc(),g.Cc(),g.Cc(),g.Cc(),g.Dc(26,"div",17),g.Dc(27,"div",18),g.Dc(28,"div",19),g.yc(29,"div",20),g.Cc(),g.Cc(),g.Dc(30,"div",21),g.Dc(31,"span",22),g.Dc(32,"strong"),g.td(33),g.Cc(),g.Cc(),g.td(34,"/"),g.Dc(35,"span"),g.td(36),g.Cc(),g.Cc(),g.Cc(),g.Dc(37,"div",23),g.Dc(38,"header",24),g.Dc(39,"div",25),g.Dc(40,"div",26),g.rd(41,ue,7,5,"ng-container",27),g.Cc(),g.Cc(),g.Cc(),g.Dc(42,"div",28),g.Dc(43,"div",29,30),g.rd(45,be,2,4,"ng-container",27),g.Cc(),g.rd(46,fe,1,1,"app-errors-message",31),g.Cc(),g.Cc(),g.Dc(47,"div",32),g.Dc(48,"a",33),g.Nc("click",function(){return e.taskChange(!1)}),g.Dc(49,"span",34),g.yc(50,"i",35),g.Cc(),g.Dc(51,"span"),g.td(52),g.Sc(53,"translate"),g.Cc(),g.Cc(),g.Dc(54,"a",36),g.Nc("click",function(){return e.taskChange(!0)}),g.Dc(55,"span"),g.td(56),g.Sc(57,"translate"),g.Cc(),g.Dc(58,"span",34),g.yc(59,"i",37),g.Cc(),g.Cc(),g.Cc(),g.Cc(),g.rd(60,xe,3,8,"ng-template",null,38,g.sd)),2&t&&(g.kc(3),g.vd("",null==e.job?null:e.job.name," "),g.kc(1),g.Yc("ngIf","Accepted"===(null==e.jobDetail?null:e.jobDetail.status)||"Rejected"===(null==e.jobDetail?null:e.jobDetail.status)),g.kc(4),g.ud(null==e.job?null:e.job.description),g.kc(2),g.Yc("matBadge",null!=e.jobDetail&&e.jobDetail.comment?1:0)("matTooltip",null==e.jobDetail?null:e.jobDetail.comment),g.kc(3),g.Yc("ngIf","Doing"===(null==e.jobDetail?null:e.jobDetail.status)),g.kc(1),g.Yc("ngIf","Reviewing"===(null==e.jobDetail?null:e.jobDetail.status)||"Accepted"===(null==e.jobDetail?null:e.jobDetail.status)),g.kc(15),g.Yc("ngStyle",g.cd(25,Oe,null==e.taskSummary?null:e.taskSummary.percent)),g.kc(4),g.ud(null==e.taskSummary?null:e.taskSummary.lstTaskEdited),g.kc(3),g.ud(null==e.taskSummary?null:e.taskSummary.total),g.kc(1),g.pc("is-done","Reviewing"===(null==e.jobDetail?null:e.jobDetail.status)||"Accepted"===(null==e.jobDetail?null:e.jobDetail.status)||e.isSubmit),g.kc(4),g.Yc("ngForOf",e.labels),g.kc(4),g.Yc("ngForOf",e.chunksData),g.kc(1),g.Yc("ngIf",e.hasErrors),g.kc(2),g.pc("disabled",0===e.currentIndex||e.isLoad),g.kc(4),g.ud(g.Tc(53,21,"common.prev")),g.kc(2),g.pc("disabled",e.currentIndex===(null==e.taskSummary?null:e.taskSummary.total)-1||e.isLoad),g.kc(2),g.ud(g.Tc(57,23,"common.next")))},directives:[i.n,z.a,f.a,A.a,N.a,i.o,i.m,i.s,Q],pipes:[tt.d],styles:['[_nghost-%COMP%]   .is-done[_ngcontent-%COMP%]{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;position:relative}[_nghost-%COMP%]   .is-done[_ngcontent-%COMP%]:before{content:"";position:absolute;background:transparent;top:0;left:0;right:0;bottom:0;z-index:1}.field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%]:last-child{margin-bottom:-.75rem}.field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%]{flex-wrap:wrap}.field.is-grouped[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:last-child, .field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.75rem}.field.is-grouped[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:not(:last-child){margin-bottom:0;margin-right:.75rem}.field.is-grouped[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]{flex-shrink:0}.control[_ngcontent-%COMP%]{font-size:16px;position:relative;text-align:left}.tags[_ngcontent-%COMP%]:last-child{margin-bottom:-.5rem}.tags[_ngcontent-%COMP%]{align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-start}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{margin-right:0}.tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.tag[_ngcontent-%COMP%]:not(body).is-medium{font-size:16px}.tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{margin-bottom:.5rem}.tag[_ngcontent-%COMP%]:not(body){align-items:center;background-color:#f5f5f5;border-radius:4px;color:#4a4a4a;display:inline-flex;font-size:.75rem;height:2em;justify-content:center;line-height:1.5;padding-left:.75em;padding-right:.75em;white-space:nowrap}a[_ngcontent-%COMP%]{color:#3273dc;cursor:pointer;text-decoration:none}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0}.card-content[_ngcontent-%COMP%]{background-color:none;padding:2rem 2.25rem}.mt30[_ngcontent-%COMP%]{margin-top:30px!important}.tag[_ngcontent-%COMP%]:not(body)   .delete[_ngcontent-%COMP%]{margin-left:.25rem;margin-right:-.375rem}.is-small.delete[_ngcontent-%COMP%], .is-small.modal-close[_ngcontent-%COMP%]{height:16px;max-height:16px;max-width:16px;min-height:16px;min-width:16px;width:16px}.delete[_ngcontent-%COMP%], .modal-close[_ngcontent-%COMP%]{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(10,10,10,.2);border:none;border-radius:290486px;cursor:pointer;display:inline-block;flex-grow:0;flex-shrink:0;font-size:0;height:20px;max-height:20px;max-width:20px;min-height:20px;min-width:20px;outline:0;position:relative;vertical-align:top;width:20px}.delete[_ngcontent-%COMP%]:before, .modal-close[_ngcontent-%COMP%]:before{height:2px;width:50%}.delete[_ngcontent-%COMP%]:after, .modal-close[_ngcontent-%COMP%]:after{height:50%;width:2px}.delete[_ngcontent-%COMP%]:after, .delete[_ngcontent-%COMP%]:before, .modal-close[_ngcontent-%COMP%]:after, .modal-close[_ngcontent-%COMP%]:before{background-color:#fff;content:"";display:block;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%) rotate(45deg);transform-origin:center center}.content[_ngcontent-%COMP%]{font-size:16pt;line-height:250%}.level[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.level-left[_ngcontent-%COMP%]{align-items:center;justify-content:flex-start}.button[_ngcontent-%COMP%]{background-color:#fff;border-color:#dbdbdb;border-width:1px;color:#363636;cursor:pointer;justify-content:center;padding:calc(.375em - 1px) .75em;text-align:center;white-space:nowrap}.level-right[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end}.level-left[_ngcontent-%COMP%], .level-right[_ngcontent-%COMP%]{flex-basis:auto;flex-grow:0;flex-shrink:0}.button[_ngcontent-%COMP%], .file-cta[_ngcontent-%COMP%], .file-name[_ngcontent-%COMP%], .input[_ngcontent-%COMP%], .pagination-ellipsis[_ngcontent-%COMP%], .pagination-link[_ngcontent-%COMP%], .pagination-next[_ngcontent-%COMP%], .pagination-previous[_ngcontent-%COMP%], .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .textarea[_ngcontent-%COMP%]{-moz-appearance:none;-webkit-appearance:none;align-items:center;border:1px solid transparent;border-radius:4px;box-shadow:none;display:inline-flex;font-size:16px;height:2.25em;justify-content:flex-start;line-height:1.5;padding:calc(.375em - 1px) calc(.625em - 1px);position:relative;vertical-align:top}.button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:first-child:not(:last-child){margin-left:calc(-.375em - 1px);margin-right:.1875em}.button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-large[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-medium[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-small[_ngcontent-%COMP%]{height:1.5em;width:1.5em}.icon[_ngcontent-%COMP%]{align-items:center;display:inline-flex;justify-content:center;height:1.5rem;width:1.5rem}span[_ngcontent-%COMP%]{font-style:inherit;font-weight:inherit}button.control[_ngcontent-%COMP%]{outline:none}.delete-small[_ngcontent-%COMP%], button.control[_ngcontent-%COMP%]{border:none;background:transparent}.delete-small[_ngcontent-%COMP%]{height:20px;width:20px;display:inline-flex;justify-content:center;align-items:center}.delete-small[_ngcontent-%COMP%]:after{content:"x";color:inherit}.content[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{font-size:16pt;height:1.5em;padding-left:.5em;padding-right:.5em}.card-header[_ngcontent-%COMP%]{background:#4169e1!important}','.message[_ngcontent-%COMP%], .messages[_ngcontent-%COMP%]{padding:40px 20px}.pg[_ngcontent-%COMP%]{display:inline-block;top:10px}.card-header[_ngcontent-%COMP%]{background-color:none;align-items:stretch;box-shadow:0 1px 2px rgba(10,10,10,.1);display:flex}.card-header-title[_ngcontent-%COMP%]{align-items:center;color:#363636;display:flex;flex-grow:1;font-weight:700}img[_ngcontent-%COMP%]{height:500px;width:auto;-o-object-fit:contain;object-fit:contain}.level[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.level-left[_ngcontent-%COMP%]{align-items:center;justify-content:flex-start}.button[_ngcontent-%COMP%]{background-color:#fff;border-color:#dbdbdb;border-width:1px;color:#363636;cursor:pointer;justify-content:center;padding:calc(.375em - 1px) .75em;text-align:center;white-space:nowrap}.level-right[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end}.level-left[_ngcontent-%COMP%], .level-right[_ngcontent-%COMP%]{flex-basis:auto;flex-grow:0;flex-shrink:0}.button[_ngcontent-%COMP%], .file-cta[_ngcontent-%COMP%], .file-name[_ngcontent-%COMP%], .input[_ngcontent-%COMP%], .pagination-ellipsis[_ngcontent-%COMP%], .pagination-link[_ngcontent-%COMP%], .pagination-next[_ngcontent-%COMP%], .pagination-previous[_ngcontent-%COMP%], .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .textarea[_ngcontent-%COMP%]{-moz-appearance:none;-webkit-appearance:none;align-items:center;border:1px solid transparent;border-radius:4px;box-shadow:none;display:inline-flex;font-size:16px;height:2.25em;justify-content:flex-start;line-height:1.5;padding:calc(.375em - 1px) calc(.625em - 1px);position:relative;vertical-align:top}.textarea[_ngcontent-%COMP%]{padding:2rem 2.25rem}.button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:first-child:not(:last-child){margin-left:calc(-.375em - 1px);margin-right:.1875em}.button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-large[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-medium[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-small[_ngcontent-%COMP%]{height:1.5em;width:1.5em}.icon[_ngcontent-%COMP%]{align-items:center;display:inline-flex;justify-content:center;height:1.5rem;width:1.5rem}span[_ngcontent-%COMP%]{font-style:inherit;font-weight:inherit}.tag[_ngcontent-%COMP%]:not(body)   .delete[_ngcontent-%COMP%]{margin-left:.25rem;margin-right:-.375rem}.is-small.delete[_ngcontent-%COMP%], .is-small.modal-close[_ngcontent-%COMP%]{height:16px;max-height:16px;max-width:16px;min-height:16px;min-width:16px;width:16px}.delete[_ngcontent-%COMP%], .modal-close[_ngcontent-%COMP%]{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(10,10,10,.2);border:none;border-radius:290486px;cursor:pointer;display:inline-block;flex-grow:0;flex-shrink:0;font-size:0;height:20px;max-height:20px;max-width:20px;min-height:20px;min-width:20px;outline:0;position:relative;vertical-align:top;width:20px}.delete[_ngcontent-%COMP%]:before, .modal-close[_ngcontent-%COMP%]:before{height:2px;width:50%}.delete[_ngcontent-%COMP%]:after, .modal-close[_ngcontent-%COMP%]:after{height:50%;width:2px}.delete[_ngcontent-%COMP%]:after, .delete[_ngcontent-%COMP%]:before, .modal-close[_ngcontent-%COMP%]:after, .modal-close[_ngcontent-%COMP%]:before{background-color:#fff;content:"";display:block;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%) rotate(45deg);transform-origin:center center}.mt30[_ngcontent-%COMP%]{margin-top:30px!important}field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%]:last-child{margin-bottom:-.75rem}.field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%]{flex-wrap:wrap}.field.is-grouped[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:last-child, .field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.75rem}.field.is-grouped[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:not(:last-child){margin-bottom:0;margin-right:.75rem}.field.is-grouped[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]{flex-shrink:0}.control[_ngcontent-%COMP%]{font-size:16px;position:relative;text-align:left}.tags[_ngcontent-%COMP%]:last-child{margin-bottom:-.5rem}.tags[_ngcontent-%COMP%]{align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-start}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{margin-right:0}.tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.tag[_ngcontent-%COMP%]:not(body).is-medium{font-size:16px}.tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{margin-bottom:.5rem}.tag[_ngcontent-%COMP%]:not(body){align-items:center;background-color:#f5f5f5;border-radius:4px;color:#4a4a4a;display:inline-flex;font-size:.75rem;justify-content:center;line-height:1.5;padding-left:.75em;padding-right:.75em;white-space:normal;height:auto}a[_ngcontent-%COMP%]{color:#3273dc;cursor:pointer;text-decoration:none}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0}.card-content[_ngcontent-%COMP%]{background-color:none;padding:2rem 2.25rem}  .tooltip-comment{font-size:16px;background-color:#fff;color:#000!important;min-width:200px;padding:16px;box-shadow:0 2px 3px rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.1)}[_nghost-%COMP%]   .has-errors[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .has-errors[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid #f64e60}@media screen and (max-width:1024px){#message-pane[_ngcontent-%COMP%]{padding:16px 0;max-width:90%}[_nghost-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 50px);overflow:auto}}']}),t})();function Me(t,e){if(1&t&&(g.Bc(0),g.Dc(1,"span"),g.td(2),g.Cc(),g.Ac()),2&t){const t=g.Rc();g.kc(1),g.pc("text-danger","Rejected"===(null==t.jobDetail?null:t.jobDetail.status))("text-success","Accepted"===(null==t.jobDetail?null:t.jobDetail.status)),g.kc(1),g.vd("[",null==t.jobDetail?null:t.jobDetail.status,"]")}}function ke(t,e){if(1&t){const t=g.Ec();g.Dc(0,"button",37),g.Nc("click",function(){return g.id(t),g.Rc().submitResultJob(!0)}),g.td(1," Submit "),g.Cc()}}function ve(t,e){if(1&t){const t=g.Ec();g.Dc(0,"button",38),g.Nc("click",function(){return g.id(t),g.Rc().submitResultJob(!1)}),g.td(1," Cancel submit "),g.Cc()}if(2&t){const t=g.Rc();g.pc("disabled","Accepted"===(null==t.jobDetail?null:t.jobDetail.status))}}function ye(t,e){1&t&&g.yc(0,"app-errors-message",39),2&t&&g.Yc("errorMessage","Must not be less than 10 words.")}const De=function(t){return{"width.%":t}};let we=(()=>{class t{constructor(t,e,n,i,o,r,c){this.stagingService=t,this.jobService=e,this.changeRef=n,this.router=i,this._snackBar=o,this.dialogService=r,this.toastService=c,this.destroy$=new a.a,this.text=new s.g("",[s.x.required,d(10)]),this.taskSummary=null,this.isSubmit=!1,this.jobDetail=null,this.initialed=!1,this.currentTask=null,this.isDone=!1,this.isLoad=!1}ngOnInit(){this.taskSummary=this.jobService.getProgressTask;const t=this.jobService.getLstTask;this.stagingService.getTranslation().pipe(Object(r.a)(this.destroy$)).subscribe(e=>{if(this.isLoad=!0,this.timeOut&&clearTimeout(this.timeOut),this.timeOut=setTimeout(()=>{this.isLoad=!1,this.changeRef.markForCheck()},2e3),!e)return;if(this.task=c.get(e,"task"),!this.task)return void this.router.navigate(["./annotator"]);this.job=c.get(e,"job"),this.initialed||(this.initialed=!0,this.jobDetail=c.get(e,"jobDetail"),this.isDone=this.jobDetail.tasks.every(t=>c.get(t,"edited"))),this.text.reset("");const n=c.get(this.jobDetail,"status");"Reviewing"===n||"Accepted"===n?(this.isSubmit=!0,this.text.disable()):(this.isSubmit=!1,this.text.enable()),this.currentIndex=t.findIndex(t=>c.get(t,"id")===c.get(this.task,"id")),this.getTaskList(this.job),this.getMissionTaskResult(),this.changeRef.markForCheck()})}getMissionTaskResult(){const t=c.get(this.task,"id");(t||0===t)&&this.jobService.getSubmissionTaskResult(t).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{t&&(this.currentTask=t[0],this.text.setValue(c.get(t[0],"text")),this.changeRef.markForCheck())})}save(){const t=this.text.value;t&&(this.text.disabled||this.jobService.saveSubmissionTaskResult(c.get(this.task,"id"),{payload:[{text:t}]}).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{this.taskSummary=this.jobService.updateProgressTask(this.task),this.stagingService.updateJobListState(!0),this.getTaskList(this.job)}))}taskChange(t){this.stagingService.setTaskChange({task:this.task,next:t})}submitResultJob(t){if(!this.jobDetail.tasks.every(t=>c.get(t,"edited")))return void this.toastService.error("Please complete all task","Errors",{positionClass:"toast-bottom-right"});this.isSubmit=t;const e=c.get(this.job,"assignment_id",null);e&&this.jobService.submitJobResult(e,t).pipe(Object(r.a)(this.destroy$)).subscribe(e=>{t?this.text.disable():this.text.enable(),this._snackBar.open("Update successful !!!","Close",{duration:2e3,horizontalPosition:"end",verticalPosition:"bottom"}),this.getTaskList(this.job)})}getTaskList(t){this.subscription&&this.subscription.unsubscribe(),this.subscription=this.jobService.getTaskList(c.get(t,"assignment_id")).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{t&&(this.jobDetail=t,this.isDone=this.jobDetail.tasks.every(t=>c.get(t,"edited")),this.changeRef.markForCheck())},()=>{this.jobDetail=null})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}openChartAnalysis(){this.dialogService.openDialogRanking(c.get(this.job,"id")).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{})}}return t.\u0275fac=function(e){return new(e||t)(g.xc(h.a),g.xc(u.a),g.xc(g.j),g.xc(o.h),g.xc(E),g.xc(l.a),g.xc(L.b))},t.\u0275cmp=g.rc({type:t,selectors:[["app-translation"]],features:[g.jc([l.a])],decls:62,vars:26,consts:[[1,"card-header","p-4",2,"background-color","#fff !important"],[1,"card-title","py-2","mb-0"],[1,"card-label"],[4,"ngIf"],[1,"ranking-icon",3,"click"],[1,"card-action","ml-auto","d-flex","align-items-center"],["mat-icon-button","","matBadgeColor","warn","matTooltipClass","tooltip-comment",1,"button","mr-6",3,"matBadge","matTooltip"],["mat-stroked-button","","color","primary",3,"click",4,"ngIf"],["mat-stroked-button","","color","warn",3,"disabled","click",4,"ngIf"],["id","message-pane",1,"column","col-10","col-sm-11","col-xs-11","m-auto","is-7","is-offset-1","message","hero","is-fullheight"],[1,"modal"],[1,"modal-background"],[1,"modal-card"],[1,"modal-card-head"],[1,"modal-card-title"],["aria-label","close",1,"delete"],[1,"modal-card-body","modal-card-body-footer","content",2,"line-height","150%"],[1,"columns","d-flex","algin-items-center","w-100","mb-3"],[1,"column","mr-4","col-3","m","p-0","d-flex","align-items-center"],[1,"progress","w-100"],["role","progressbar","aria-valuenow","0","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",3,"ngStyle"],[1,"column","font-size-16"],[1,"ml10"],[1,"card","has-text-weight-bold","has-text-white","has-background-royalblue"],[1,"card-content"],[1,"content"],[1,"suggestion"],[1,"todoapp"],[1,"header-card"],["type","text","placeholder","Typing here...",1,"textarea","new-todo",3,"formControl","blur"],[3,"errorMessage",4,"ngIf"],[1,"level","mt30"],[1,"button","level-left",3,"click"],[1,"icon"],[1,"fas","fa-chevron-left"],[1,"button","level-right",3,"click"],[1,"fas","fa-chevron-right"],["mat-stroked-button","","color","primary",3,"click"],["mat-stroked-button","","color","warn",3,"click"],[3,"errorMessage"]],template:function(t,e){1&t&&(g.Dc(0,"div",0),g.Dc(1,"div",1),g.Dc(2,"h3",2),g.td(3),g.rd(4,Me,3,5,"ng-container",3),g.Dc(5,"mat-icon",4),g.Nc("click",function(){return e.openChartAnalysis()}),g.td(6,"analytics"),g.Cc(),g.Cc(),g.Dc(7,"span"),g.td(8),g.Cc(),g.Cc(),g.Dc(9,"div",5),g.Dc(10,"button",6),g.Dc(11,"mat-icon"),g.td(12,"chat_bubble_outline"),g.Cc(),g.Cc(),g.rd(13,ke,2,0,"button",7),g.rd(14,ve,2,2,"button",8),g.Cc(),g.Cc(),g.Dc(15,"div",9),g.Dc(16,"div",10),g.yc(17,"div",11),g.Dc(18,"div",12),g.Dc(19,"header",13),g.Dc(20,"p",14),g.td(21,"Annotation Guideline"),g.Cc(),g.yc(22,"button",15),g.Cc(),g.Dc(23,"section",16),g.Dc(24,"p"),g.td(25,"You can see annotation guideline here."),g.Cc(),g.Cc(),g.Cc(),g.Cc(),g.Dc(26,"div",17),g.Dc(27,"div",18),g.Dc(28,"div",19),g.yc(29,"div",20),g.Cc(),g.Cc(),g.Dc(30,"div",21),g.Dc(31,"span",22),g.Dc(32,"strong"),g.td(33),g.Cc(),g.Cc(),g.td(34,"/"),g.Dc(35,"span"),g.td(36),g.Cc(),g.Cc(),g.Cc(),g.Dc(37,"div",23),g.Dc(38,"div",24),g.Dc(39,"div",25),g.td(40),g.Cc(),g.Cc(),g.Cc(),g.Dc(41,"div",26),g.Dc(42,"strong"),g.td(43,"Suggestion:"),g.Cc(),g.td(44),g.Cc(),g.Dc(45,"section",27),g.Dc(46,"div",28),g.Dc(47,"textarea",29),g.Nc("blur",function(){return e.save()}),g.Cc(),g.Cc(),g.rd(48,ye,1,1,"app-errors-message",30),g.Cc(),g.Dc(49,"div",31),g.Dc(50,"a",32),g.Nc("click",function(){return e.taskChange(!1)}),g.Dc(51,"span",33),g.yc(52,"i",34),g.Cc(),g.Dc(53,"span"),g.td(54),g.Sc(55,"translate"),g.Cc(),g.Cc(),g.Dc(56,"a",35),g.Nc("click",function(){return e.taskChange(!0)}),g.Dc(57,"span"),g.td(58),g.Sc(59,"translate"),g.Cc(),g.Dc(60,"span",33),g.yc(61,"i",36),g.Cc(),g.Cc(),g.Cc(),g.Cc()),2&t&&(g.kc(3),g.vd("",null==e.job?null:e.job.name," "),g.kc(1),g.Yc("ngIf","Accepted"===(null==e.jobDetail?null:e.jobDetail.status)||"Rejected"===(null==e.jobDetail?null:e.jobDetail.status)),g.kc(4),g.ud(null==e.job?null:e.job.description),g.kc(2),g.Yc("matBadge",null!=e.jobDetail&&e.jobDetail.comment?1:0)("matTooltip",null==e.jobDetail?null:e.jobDetail.comment),g.kc(3),g.Yc("ngIf","Reviewing"!==(null==e.jobDetail?null:e.jobDetail.status)&&"Accepted"!==(null==e.jobDetail?null:e.jobDetail.status)&&!e.isSubmit),g.kc(1),g.Yc("ngIf","Reviewing"===(null==e.jobDetail?null:e.jobDetail.status)||"Accepted"===(null==e.jobDetail?null:e.jobDetail.status)||e.isSubmit),g.kc(15),g.Yc("ngStyle",g.cd(24,De,null==e.taskSummary?null:e.taskSummary.percent)),g.kc(4),g.ud(null==e.taskSummary?null:e.taskSummary.lstTaskEdited),g.kc(3),g.ud(null==e.taskSummary?null:e.taskSummary.total),g.kc(4),g.vd(" ",null==e.task?null:e.task.content," "),g.kc(4),g.vd(" ",null==e.currentTask?null:e.currentTask.meta_data," "),g.kc(3),g.Yc("formControl",e.text),g.kc(1),g.Yc("ngIf",null==e.text?null:e.text.errors),g.kc(2),g.pc("disabled",0===e.currentIndex||e.isLoad),g.kc(4),g.ud(g.Tc(55,20,"common.prev")),g.kc(2),g.pc("disabled",e.currentIndex===(null==e.taskSummary?null:e.taskSummary.total)-1||e.isLoad),g.kc(2),g.ud(g.Tc(59,22,"common.next")))},directives:[i.n,z.a,f.a,A.a,N.a,i.o,s.c,s.q,s.h,Q],pipes:[tt.d],styles:[".card-content[_ngcontent-%COMP%]{background-color:none;padding:2rem 2.25rem}.card[_ngcontent-%COMP%]{border-bottom-right-radius:0;border-bottom-left-radius:0;border:none}.content[_ngcontent-%COMP%]{font-size:16pt;line-height:250%}span[_ngcontent-%COMP%]{font-style:inherit;font-weight:inherit}.input.is-hovered[_ngcontent-%COMP%], .input[_ngcontent-%COMP%]:hover, .textarea.is-hovered[_ngcontent-%COMP%], .textarea[_ngcontent-%COMP%]:hover{border-color:#b5b5b5}.input[_ngcontent-%COMP%], .textarea[_ngcontent-%COMP%]{background-color:#fff;border-color:#dbdbdb;color:#363636;box-shadow:inset 0 1px 2px rgba(10,10,10,.1);max-width:100%;width:100%}.todoapp[_ngcontent-%COMP%]{background:#fff;margin:30px 0 0;position:relative;box-shadow:0 2px 3px rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.1)}article[_ngcontent-%COMP%], aside[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], footer[_ngcontent-%COMP%], header[_ngcontent-%COMP%], hgroup[_ngcontent-%COMP%], section[_ngcontent-%COMP%]{display:block}.todo-list[_ngcontent-%COMP%]{margin:0;padding:0}.todo-list[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}blockquote[_ngcontent-%COMP%], body[_ngcontent-%COMP%], dd[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], dt[_ngcontent-%COMP%], fieldset[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], hr[_ngcontent-%COMP%], html[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], legend[_ngcontent-%COMP%], li[_ngcontent-%COMP%], ol[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;padding:0}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;font-size:16pt;border-top:1px solid #ededed}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{display:none}.textarea[_ngcontent-%COMP%]:not([rows]){max-height:600px;min-height:120px}.edit[_ngcontent-%COMP%], .new-todo[_ngcontent-%COMP%]{position:relative;margin:0;width:100%;font-size:16pt;font-family:inherit;font-weight:inherit;line-height:1.4em;color:inherit;padding:6px;border:1px solid #999;box-shadow:inset 0 -1px 5px 0 rgba(0,0,0,.2);box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.textarea[_ngcontent-%COMP%]{display:block;max-width:100%;min-width:100%;padding:.625em;resize:vertical}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{word-break:break-all;padding:1.5rem 60px 1.5rem 1.5rem;display:block;line-height:1.2;transition:color .4s}.todo-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .destroy[_ngcontent-%COMP%]{display:none;position:absolute;top:0;right:10px;bottom:0;margin:auto 0}.new-todo[_ngcontent-%COMP%]{padding:1.5rem;border:none;background:rgba(0,0,0,.003);box-shadow:inset 0 -2px 1px rgba(0,0,0,.03)}.has-background-royalblue[_ngcontent-%COMP%]{background-color:#4169e1!important;color:#fff}.suggestion[_ngcontent-%COMP%]{width:100%;border-bottom:1px solid #d6d8df;border-left:1px solid #d6d8df;border-right:1px solid #d6d8df;padding:2rem 2.25rem;font-style:italic;font-size:16px}",'.message[_ngcontent-%COMP%], .messages[_ngcontent-%COMP%]{padding:40px 20px}.pg[_ngcontent-%COMP%]{display:inline-block;top:10px}.card-header[_ngcontent-%COMP%]{background-color:none;align-items:stretch;box-shadow:0 1px 2px rgba(10,10,10,.1);display:flex}.card-header-title[_ngcontent-%COMP%]{align-items:center;color:#363636;display:flex;flex-grow:1;font-weight:700}img[_ngcontent-%COMP%]{height:500px;width:auto;-o-object-fit:contain;object-fit:contain}.level[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.level-left[_ngcontent-%COMP%]{align-items:center;justify-content:flex-start}.button[_ngcontent-%COMP%]{background-color:#fff;border-color:#dbdbdb;border-width:1px;color:#363636;cursor:pointer;justify-content:center;padding:calc(.375em - 1px) .75em;text-align:center;white-space:nowrap}.level-right[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end}.level-left[_ngcontent-%COMP%], .level-right[_ngcontent-%COMP%]{flex-basis:auto;flex-grow:0;flex-shrink:0}.button[_ngcontent-%COMP%], .file-cta[_ngcontent-%COMP%], .file-name[_ngcontent-%COMP%], .input[_ngcontent-%COMP%], .pagination-ellipsis[_ngcontent-%COMP%], .pagination-link[_ngcontent-%COMP%], .pagination-next[_ngcontent-%COMP%], .pagination-previous[_ngcontent-%COMP%], .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .textarea[_ngcontent-%COMP%]{-moz-appearance:none;-webkit-appearance:none;align-items:center;border:1px solid transparent;border-radius:4px;box-shadow:none;display:inline-flex;font-size:16px;height:2.25em;justify-content:flex-start;line-height:1.5;padding:calc(.375em - 1px) calc(.625em - 1px);position:relative;vertical-align:top}.textarea[_ngcontent-%COMP%]{padding:2rem 2.25rem}.button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:first-child:not(:last-child){margin-left:calc(-.375em - 1px);margin-right:.1875em}.button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-large[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-medium[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-small[_ngcontent-%COMP%]{height:1.5em;width:1.5em}.icon[_ngcontent-%COMP%]{align-items:center;display:inline-flex;justify-content:center;height:1.5rem;width:1.5rem}span[_ngcontent-%COMP%]{font-style:inherit;font-weight:inherit}.tag[_ngcontent-%COMP%]:not(body)   .delete[_ngcontent-%COMP%]{margin-left:.25rem;margin-right:-.375rem}.is-small.delete[_ngcontent-%COMP%], .is-small.modal-close[_ngcontent-%COMP%]{height:16px;max-height:16px;max-width:16px;min-height:16px;min-width:16px;width:16px}.delete[_ngcontent-%COMP%], .modal-close[_ngcontent-%COMP%]{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(10,10,10,.2);border:none;border-radius:290486px;cursor:pointer;display:inline-block;flex-grow:0;flex-shrink:0;font-size:0;height:20px;max-height:20px;max-width:20px;min-height:20px;min-width:20px;outline:0;position:relative;vertical-align:top;width:20px}.delete[_ngcontent-%COMP%]:before, .modal-close[_ngcontent-%COMP%]:before{height:2px;width:50%}.delete[_ngcontent-%COMP%]:after, .modal-close[_ngcontent-%COMP%]:after{height:50%;width:2px}.delete[_ngcontent-%COMP%]:after, .delete[_ngcontent-%COMP%]:before, .modal-close[_ngcontent-%COMP%]:after, .modal-close[_ngcontent-%COMP%]:before{background-color:#fff;content:"";display:block;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%) rotate(45deg);transform-origin:center center}.mt30[_ngcontent-%COMP%]{margin-top:30px!important}field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%]:last-child{margin-bottom:-.75rem}.field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%]{flex-wrap:wrap}.field.is-grouped[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:last-child, .field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.75rem}.field.is-grouped[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:not(:last-child){margin-bottom:0;margin-right:.75rem}.field.is-grouped[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]{flex-shrink:0}.control[_ngcontent-%COMP%]{font-size:16px;position:relative;text-align:left}.tags[_ngcontent-%COMP%]:last-child{margin-bottom:-.5rem}.tags[_ngcontent-%COMP%]{align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-start}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{margin-right:0}.tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.tag[_ngcontent-%COMP%]:not(body).is-medium{font-size:16px}.tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{margin-bottom:.5rem}.tag[_ngcontent-%COMP%]:not(body){align-items:center;background-color:#f5f5f5;border-radius:4px;color:#4a4a4a;display:inline-flex;font-size:.75rem;justify-content:center;line-height:1.5;padding-left:.75em;padding-right:.75em;white-space:normal;height:auto}a[_ngcontent-%COMP%]{color:#3273dc;cursor:pointer;text-decoration:none}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0}.card-content[_ngcontent-%COMP%]{background-color:none;padding:2rem 2.25rem}  .tooltip-comment{font-size:16px;background-color:#fff;color:#000!important;min-width:200px;padding:16px;box-shadow:0 2px 3px rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.1)}[_nghost-%COMP%]   .has-errors[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .has-errors[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid #f64e60}@media screen and (max-width:1024px){#message-pane[_ngcontent-%COMP%]{padding:16px 0;max-width:90%}[_nghost-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 50px);overflow:auto}}']}),t})();var je=n("vxfF"),Se=n("quSY"),Re=n("HDdC"),Te=n("D0XW"),Ie=n("Y7HM");function Ee(t){const{subscriber:e,counter:n,period:i}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:i},i)}var Le=n("eNwd"),ze=n("VRyK"),Ae=n("JX91"),Ne=n("lJxs"),Be=n("vkgz"),Ye=n("eIep"),Fe=n("cH1L");function $e(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Ge(t,e){const n=e?"":"none";$e(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function Je(t,e){const n=t.style;n.position=e?"":"fixed",n.top=n.opacity=e?"":"0",n.left=e?"":"-999em"}function Ve(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function qe(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}function He(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function Ue(t,e,n){const{top:i,bottom:o,left:s,right:a}=t;return n>=i&&n<=o&&e>=s&&e<=a}function Ke(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function We(t,e,n,i){const{top:o,right:s,bottom:a,left:r,width:c,height:l}=t,d=c*e,g=l*e;return i>o-g&&i<a+g&&n>r-d&&n<s+d}class Ze{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:He(t)})})}handleScroll(t){const e=t.target,n=this.positions.get(e);if(!n)return null;const i=e===this._document?e.documentElement:e,o=n.scrollPosition;let s,a;if(e===this._document){const t=this._viewportRuler.getViewportScrollPosition();s=t.top,a=t.left}else s=e.scrollTop,a=e.scrollLeft;const r=o.top-s,c=o.left-a;return this.positions.forEach((t,n)=>{t.clientRect&&e!==n&&i.contains(n)&&Ke(t.clientRect,r,c)}),o.top=s,o.left=a,{top:r,left:c}}}function Xe(t){const e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),i=t.nodeName.toLowerCase();e.removeAttribute("id");for(let o=0;o<n.length;o++)n[o].removeAttribute("id");return"canvas"===i?nn(t,e):"input"!==i&&"select"!==i&&"textarea"!==i||en(t,e),Qe("canvas",t,e,nn),Qe("input, textarea, select",t,e,en),e}function Qe(t,e,n,i){const o=e.querySelectorAll(t);if(o.length){const e=n.querySelectorAll(t);for(let t=0;t<o.length;t++)i(o[t],e[t])}}let tn=0;function en(t,e){"file"!==e.type&&(e.value=t.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${tn++}`)}function nn(t,e){const n=e.getContext("2d");if(n)try{n.drawImage(t,0,0)}catch(i){}}const on=Object(P.e)({passive:!0}),sn=Object(P.e)({passive:!1});class an{constructor(t,e,n,i,o,s){this._config=e,this._document=n,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new a.a,this._pointerMoveSubscription=Se.a.EMPTY,this._pointerUpSubscription=Se.a.EMPTY,this._scrollSubscription=Se.a.EMPTY,this._resizeSubscription=Se.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new a.a,this.started=new a.a,this.released=new a.a,this.ended=new a.a,this.entered=new a.a,this.exited=new a.a,this.dropped=new a.a,this.moved=this._moveEvents,this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const n=t.target;return!!n&&(n===e||e.contains(n))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{t.preventDefault();const e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const e=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),n=this._dropContainer;if(!e)return void this._endDragSequence(t);n&&(n.isDragging()||n.isReceiving())||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const n=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n,e);else{const t=this._activeTransform;t.x=n.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=n.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:t,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t),this._parentPositions=new Ze(n,o),s.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Object(Ct.c)(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>Ge(t,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(t=>Object(Ct.e)(t)),this._handles.forEach(t=>Ge(t,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(t=>{this._handles.indexOf(t)>-1&&e.add(t)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Object(Ct.e)(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,sn),e.addEventListener("touchstart",this._pointerDown,on)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Object(Ct.e)(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&ln(this._rootElement),ln(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Ge(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Ge(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&ln(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&ln(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){dn(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,i=t.parentNode,o=this._preview=this._createPreviewElement(),s=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");i.insertBefore(a,t),Je(t,!1),this._document.body.appendChild(i.replaceChild(s,t)),(n=this._document,n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body).appendChild(o),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;var n;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){e.stopPropagation();const n=this.isDragging(),i=dn(e),o=!i&&0!==e.button,s=this._rootElement,a=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),n||o||a)return;this._handles.length&&(this._rootElementTapHighlight=s.style.webkitTapHighlightColor||"",s.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{this._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=He(this._boundaryElement));const r=this._previewTemplate;this._pickupPositionInElement=r&&r.template&&!r.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const c=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:c.x,y:c.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){Je(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),i=this._getPointerPositionOnPage(t),o=this._getDragDistance(this._getPointerPositionOnPage(t)),s=e._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:o}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o}),e.drop(this,n,this._initialIndex,this._initialContainer,s,o),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:n,y:i}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,t,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(n,i),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=rn(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,n=t?t.template:null;let i;if(n&&t){const e=t.matchSize?this._rootElement.getBoundingClientRect():null,o=t.viewContainer.createEmbeddedView(n,t.context);o.detectChanges(),i=gn(o,this._document),this._previewRef=o,t.matchSize?hn(i,e):i.style.transform=rn(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement;i=Xe(t),hn(i,t.getBoundingClientRect())}return $e(i.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),Ge(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(t=>i.classList.add(t)):i.classList.add(e)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=rn(t.left,t.top);const e=function(t){const e=getComputedStyle(t),n=qe(e,"transition-property"),i=n.find(t=>"transform"===t||"all"===t);if(!i)return 0;const o=n.indexOf(i),s=qe(e,"transition-duration"),a=qe(e,"transition-delay");return Ve(s[o])+Ve(a[o])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const n=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",n),t(),clearTimeout(i))},i=setTimeout(n,1.5*e);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=gn(this._placeholderRef,this._document)):n=Xe(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e){const n=this._rootElement.getBoundingClientRect(),i=t===this._rootElement?null:t,o=i?i.getBoundingClientRect():n,s=dn(e)?e.targetTouches[0]:e,a=this._getViewportScrollPosition();return{x:o.left-n.left+(s.pageX-o.left-a.left),y:o.top-n.top+(s.pageY-o.top-a.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),n=dn(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,i=n.pageX-e.left,o=n.pageY-e.top;if(this._ownerSVGElement){const t=this._ownerSVGElement.getScreenCTM();if(t){const e=this._ownerSVGElement.createSVGPoint();return e.x=i,e.y=o,e.matrixTransform(t.inverse())}}return{x:i,y:o}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:i}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?i=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==e||(n=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:e}=this._pickupPositionInElement,o=this._boundaryRect,s=this._previewRect,a=o.top+e,r=o.bottom-(s.height-e);n=cn(n,o.left+t,o.right-(s.width-t)),i=cn(i,a,r)}return{x:n,y:i}}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,i=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-o.x),a=Math.abs(n-o.y);return s>this._config.pointerDirectionChangeThreshold&&(i.x=e>o.x?1:-1,o.x=e),a>this._config.pointerDirectionChangeThreshold&&(i.y=n>o.y?1:-1,o.y=n),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Ge(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,sn),t.removeEventListener("touchstart",this._pointerDown,on)}_applyRootElementTransform(t,e){const n=rn(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===i.width&&0===i.height)return;const o=n.left-i.left,s=i.right-n.right,a=n.top-i.top,r=i.bottom-n.bottom;n.width>i.width?(o>0&&(t+=o),s>0&&(t-=s)):t=0,n.height>i.height?(a>0&&(e+=a),r>0&&(e-=r)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:dn(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const n=t.target;this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&Ke(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}}function rn(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function cn(t,e,n){return Math.max(e,Math.min(n,t))}function ln(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function dn(t){return"t"===t.type[0]}function gn(t,e){const n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];const i=e.createElement("div");return n.forEach(t=>i.appendChild(t)),i}function hn(t,e){t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.transform=rn(e.left,e.top)}function un(t,e,n){const i=pn(e,t.length-1),o=pn(n,t.length-1);if(i===o)return;const s=t[i],a=o<i?-1:1;for(let r=i;r!==o;r+=a)t[r]=t[r+a];t[o]=s}function pn(t,e){return Math.max(0,Math.min(e,t))}class mn{constructor(t,e,n,i,o){this._dragDropRegistry=e,this._ngZone=i,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new a.a,this.entered=new a.a,this.exited=new a.a,this.dropped=new a.a,this.sorted=new a.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Se.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new a.a,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=Te.a){return(!Object(Ie.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=Te.a),new Re.a(n=>(n.add(e.schedule(Ee,t,{subscriber:n,counter:0,period:t})),n))}(0,Le.a).pipe(Object(r.a)(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode;1===this._verticalScrollDirection?fn(t,-2):2===this._verticalScrollDirection&&fn(t,2),1===this._horizontalScrollDirection?_n(t,-2):2===this._horizontalScrollDirection&&_n(t,2)})},this.element=Object(Ct.e)(t),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new Ze(n,o)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const t=Object(Ct.e)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach(t=>t._startReceiving(this)),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}enter(t,e,n,i){let o;this.start(),null==i?(o=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===o&&(o=this._getItemIndexFromPointerPosition(t,e,n))):o=i;const s=this._activeDraggables,a=s.indexOf(t),r=t.getPlaceholderElement();let c=s[o];if(c===t&&(c=s[o+1]),a>-1&&s.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){const e=c.getRootElement();e.parentElement.insertBefore(r,e),s.splice(o,0,t)}else if(this._shouldEnterAsFirstChild(e,n)){const e=s[0].getRootElement();e.parentNode.insertBefore(r,e),s.unshift(t)}else Object(Ct.e)(this.element).appendChild(r),s.push(t);r.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,i,o,s){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:n,container:this,previousContainer:i,isPointerOverContainer:o,distance:s})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(t=>t.isDragging()).every(e=>-1===t.indexOf(e))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=Object(Ct.e)(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?bn("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,i){if(this.sortingDisabled||!We(this._clientRect,.05,e,n))return;const o=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,e,n,i);if(-1===s&&o.length>0)return;const a="horizontal"===this._orientation,r=bn(o,e=>e.drag===t),c=o[s],l=c.clientRect,d=r>s?1:-1,g=this._getItemOffsetPx(o[r].clientRect,l,d),h=this._getSiblingOffsetPx(r,o,d),u=o.slice();un(o,r,s),this.sorted.next({previousIndex:r,currentIndex:s,container:this,item:t}),o.forEach((e,n)=>{if(u[n]===e)return;const i=e.drag===t,o=i?g:h,s=i?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=o,a?(s.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,Ke(e.clientRect,0,o)):(s.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,Ke(e.clientRect,o,0))}),this._previousSwap.overlaps=Ue(l,e,n),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?i.x:i.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,i=0,o=0;if(this._parentPositions.positions.forEach((s,a)=>{a!==this._document&&s.clientRect&&!n&&We(s.clientRect,.05,t,e)&&([i,o]=function(t,e,n,i){const o=Cn(e,i),s=xn(e,n);let a=0,r=0;if(o){const e=t.scrollTop;1===o?e>0&&(a=1):t.scrollHeight-e>t.clientHeight&&(a=2)}if(s){const e=t.scrollLeft;1===s?e>0&&(r=1):t.scrollWidth-e>t.clientWidth&&(r=2)}return[a,r]}(a,s.clientRect,t,e),(i||o)&&(n=a))}),!i&&!o){const{width:s,height:a}=this._viewportRuler.getViewportSize(),r={width:s,height:a,top:0,right:s,bottom:a,left:0};i=Cn(r,e),o=xn(r,t),n=window}!n||i===this._verticalScrollDirection&&o===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=i,this._horizontalScrollDirection=o,this._scrollNode=n,(i||o)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheParentPositions(){const t=Object(Ct.e)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,clientRect:He(e)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const t=Object(Ct.e)(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{const e=t.getRootElement();e&&(e.style.transform="")}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,n){const i="horizontal"===this._orientation,o=e[t].clientRect,s=e[t+-1*n];let a=o[i?"width":"height"]*n;if(s){const t=i?"left":"top",e=i?"right":"bottom";-1===n?a-=s.clientRect[t]-o[e]:a+=o[t]-s.clientRect[e]}return a}_getItemOffsetPx(t,e,n){const i="horizontal"===this._orientation;let o=i?e.left-t.left:e.top-t.top;return-1===n&&(o+=i?e.width-t.width:e.height-t.height),o}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,i="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const o=n[n.length-1].clientRect;return i?t>=o.right:e>=o.bottom}{const o=n[0].clientRect;return i?t<=o.left:e<=o.top}}_getItemIndexFromPointerPosition(t,e,n,i){const o="horizontal"===this._orientation,s=bn(this._itemPositions,({drag:s,clientRect:a},r,c)=>{if(s===t)return c.length<2;if(i){const t=o?i.x:i.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&t===this._previousSwap.delta)return!1}return o?e>=Math.floor(a.left)&&e<Math.floor(a.right):n>=Math.floor(a.top)&&n<Math.floor(a.bottom)});return-1!==s&&this.sortPredicate(s,t,this)?s:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return Ue(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(i=>i._canReceive(t,e,n))}_canReceive(t,e,n){if(!Ue(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;const i=this._getShadowRoot().elementFromPoint(e,n);if(!i)return!1;const o=Object(Ct.e)(this.element);return i===o||o.contains(i)}_startReceiving(t){const e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:t})=>{Ke(t,e.top,e.left)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=Object(P.c)(Object(Ct.e)(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}}function bn(t,e){for(let n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function fn(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function _n(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function Cn(t,e){const{top:n,bottom:i,height:o}=t,s=.05*o;return e>=n-s&&e<=n+s?1:e>=i-s&&e<=i+s?2:0}function xn(t,e){const{left:n,right:i,width:o}=t,s=.05*o;return e>=n-s&&e<=n+s?1:e>=i-s&&e<=i+s?2:0}const On=Object(P.e)({passive:!1,capture:!0});let Pn=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new a.a,this.pointerUp=new a.a,this.scroll=new a.a,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.size&&t.preventDefault()},this._persistentTouchmoveListener=t=>{this._activeDragInstances.size&&(t.preventDefault(),this.pointerMove.next(t))},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,On)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,On)}startDragging(t,e){if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){const t=e.type.startsWith("touch");this._globalListeners.set(t?"touchend":"mouseup",{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:On}),t||this._globalListeners.set("mousemove",{handler:t=>this.pointerMove.next(t),options:On}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances.has(t)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(g.Kc(g.G),g.Kc(i.d))},t.\u0275prov=Object(g.tc)({factory:function(){return new t(Object(g.Kc)(g.G),Object(g.Kc)(i.d))},token:t,providedIn:"root"}),t})();const Mn={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let kn=(()=>{class t{constructor(t,e,n,i){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=i}createDrag(t,e=Mn){return new an(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new mn(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(g.Kc(i.d),g.Kc(g.G),g.Kc(je.d),g.Kc(Pn))},t.\u0275prov=Object(g.tc)({factory:function(){return new t(Object(g.Kc)(i.d),Object(g.Kc)(g.G),Object(g.Kc)(je.d),Object(g.Kc)(Pn))},token:t,providedIn:"root"}),t})();const vn=new g.w("CDK_DRAG_PARENT"),yn=new g.w("CdkDropListGroup");let Dn=(()=>{class t{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(Ct.c)(t)}ngOnDestroy(){this._items.clear()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=g.sc({type:t,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[g.jc([{provide:yn,useExisting:t}])]}),t})();const wn=new g.w("CDK_DRAG_CONFIG");let jn=0;const Sn=new g.w("CdkDropList");let Rn=(()=>{class t{constructor(e,n,i,o,s,r,c){this.element=e,this._changeDetectorRef=i,this._scrollDispatcher=o,this._dir=s,this._group=r,this._destroyed=new a.a,this.connectedTo=[],this.id="cdk-drop-list-"+jn++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new g.t,this.entered=new g.t,this.exited=new g.t,this.sorted=new g.t,this._unsortedItems=new Set,this._dropListRef=n.createDropList(e),this._dropListRef.data=this,c&&this._assignDefaults(c),this._dropListRef.enterPredicate=(t,e)=>this.enterPredicate(t.data,e.data),this._dropListRef.sortPredicate=(t,e,n)=>this.sortPredicate(t,e.data,n.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),r&&r._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=Object(Ct.c)(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,e)=>t._dragRef.getVisibleElement().compareDocumentPosition(e._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Object(Ae.a)(this._dir.value),Object(r.a)(this._destroyed)).subscribe(t=>e.withDirection(t)),e.beforeStarted.subscribe(()=>{const n=Object(Ct.b)(this.connectedTo).map(e=>"string"==typeof e?t._dropLists.find(t=>t.id===e):e);if(this._group&&this._group._items.forEach(t=>{-1===n.indexOf(t)&&n.push(t)}),!this._scrollableParentsResolved){const t=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(t=>t.getElementRef().nativeElement);this._dropListRef.withScrollableParents(t),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=Object(Ct.c)(this.sortingDisabled),e.autoScrollDisabled=Object(Ct.c)(this.autoScrollDisabled),e.connectedTo(n.filter(t=>t&&t!==this).map(t=>t._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:this,item:t.item.data,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:this,item:t.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(t=>{this.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:this,item:t.item.data})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:e,draggingDisabled:n,sortingDisabled:i,listAutoScrollDisabled:o,listOrientation:s}=t;this.disabled=null!=n&&n,this.sortingDisabled=null!=i&&i,this.autoScrollDisabled=null!=o&&o,this.orientation=s||"vertical",e&&(this.lockAxis=e)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return t.\u0275fac=function(e){return new(e||t)(g.xc(g.q),g.xc(kn),g.xc(g.j),g.xc(je.b),g.xc(Fe.b,8),g.xc(yn,12),g.xc(wn,8))},t.\u0275dir=g.sc({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,e){2&t&&(g.lc("id",e.id),g.pc("cdk-drop-list-disabled",e.disabled)("cdk-drop-list-dragging",e._dropListRef.isDragging())("cdk-drop-list-receiving",e._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[g.jc([{provide:yn,useValue:void 0},{provide:Sn,useExisting:t}])]}),t._dropLists=[],t})();const Tn=new g.w("CdkDragHandle"),In=new g.w("CdkDragPlaceholder"),En=new g.w("CdkDragPreview");let Ln=(()=>{class t{constructor(t,e,n,i,o,s,r,c,l,d){this.element=t,this.dropContainer=e,this._ngZone=i,this._viewContainerRef=o,this._dir=r,this._changeDetectorRef=l,this._selfHandle=d,this._destroyed=new a.a,this.started=new g.t,this.released=new g.t,this.ended=new g.t,this.entered=new g.t,this.exited=new g.t,this.dropped=new g.t,this.moved=new Re.a(t=>{const e=this._dragRef.moved.pipe(Object(Ne.a)(t=>({source:this,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}))).subscribe(t);return()=>{e.unsubscribe()}}),this._dragRef=c.createDrag(t,{dragStartThreshold:s&&null!=s.dragStartThreshold?s.dragStartThreshold:5,pointerDirectionChangeThreshold:s&&null!=s.pointerDirectionChangeThreshold?s.pointerDirectionChangeThreshold:5,zIndex:null==s?void 0:s.zIndex}),this._dragRef.data=this,s&&this._assignDefaults(s),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Object(Ct.c)(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.pipe(Object(_.a)(1),Object(r.a)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(Object(Ae.a)(this._handles),Object(Be.a)(t=>{const e=t.filter(t=>t._parentDrag===this).map(t=>t.element);this._selfHandle&&this.rootElementSelector&&e.push(this.element),this._dragRef.withHandles(e)}),Object(Ye.a)(t=>Object(ze.a)(...t.map(t=>t._stateChanges.pipe(Object(Ae.a)(t))))),Object(r.a)(this._destroyed)).subscribe(t=>{const e=this._dragRef,n=t.element.nativeElement;t.disabled?e.disableHandle(n):e.enableHandle(n)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(t){const e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const t=this.element.nativeElement,e=this.rootElementSelector?zn(t,this.rootElementSelector):t;this._dragRef.withRootElement(e||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?zn(this.element.nativeElement,t):Object(Ct.e)(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const e=this._dir,n=this.dragStartDelay,i=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,o=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof n&&n?n:Object(Ct.f)(n),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(i).withPreviewTemplate(o),e&&t.withDirection(e.value)}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance})})}_assignDefaults(t){const{lockAxis:e,dragStartDelay:n,constrainPosition:i,previewClass:o,boundaryElement:s,draggingDisabled:a,rootElementSelector:r}=t;this.disabled=null!=a&&a,this.dragStartDelay=n||0,e&&(this.lockAxis=e),i&&(this.constrainPosition=i),o&&(this.previewClass=o),s&&(this.boundaryElement=s),r&&(this.rootElementSelector=r)}}return t.\u0275fac=function(e){return new(e||t)(g.xc(g.q),g.xc(Sn,12),g.xc(i.d),g.xc(g.G),g.xc(g.Z),g.xc(wn,8),g.xc(Fe.b,8),g.xc(kn),g.xc(g.j),g.xc(Tn,10))},t.\u0275dir=g.sc({type:t,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,n){if(1&t&&(g.qc(n,En,!0),g.qc(n,In,!0),g.qc(n,Tn,!0)),2&t){let t;g.fd(t=g.Oc())&&(e._previewTemplate=t.first),g.fd(t=g.Oc())&&(e._placeholderTemplate=t.first),g.fd(t=g.Oc())&&(e._handles=t)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&g.pc("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[g.jc([{provide:vn,useExisting:t}]),g.ic]}),t})();function zn(t,e){let n=t.parentElement;for(;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}let An=(()=>{class t{}return t.\u0275mod=g.vc({type:t}),t.\u0275inj=g.uc({factory:function(e){return new(e||t)},providers:[kn],imports:[je.a]}),t})();const Nn=["text"];function Bn(t,e){if(1&t&&(g.Bc(0),g.Dc(1,"span"),g.td(2),g.Cc(),g.Ac()),2&t){const t=g.Rc();g.kc(1),g.pc("text-danger","Rejected"===(null==t.jobDetail?null:t.jobDetail.status))("text-success","Accepted"===(null==t.jobDetail?null:t.jobDetail.status)),g.kc(1),g.vd("[",null==t.jobDetail?null:t.jobDetail.status,"]")}}function Yn(t,e){if(1&t){const t=g.Ec();g.Dc(0,"button",54),g.Nc("click",function(){return g.id(t),g.Rc().submitResultJob(!0)}),g.td(1," Submit "),g.Cc()}if(2&t){const t=g.Rc();g.pc("disabled",(null==t.taskSummary?null:t.taskSummary.lstTaskEdited)!==(null==t.taskSummary?null:t.taskSummary.total))}}function Fn(t,e){if(1&t){const t=g.Ec();g.Dc(0,"button",55),g.Nc("click",function(){return g.id(t),g.Rc().submitResultJob(!1)}),g.td(1," Cancel submit "),g.Cc()}if(2&t){const t=g.Rc();g.pc("disabled","Accepted"===(null==t.jobDetail?null:t.jobDetail.status))}}const $n=function(t){return{color:"rgb(255, 255, 255)","background-color":t}};function Gn(t,e){if(1&t){const t=g.Ec();g.Bc(0),g.Dc(1,"button",56),g.Nc("click",function(n){g.id(t);const i=e.$implicit,o=g.Rc();return n.stopPropagation(),o.assignLabel(null==i?null:i.name)}),g.Dc(2,"div",57),g.Dc(3,"a",58),g.td(4),g.Cc(),g.Dc(5,"span",59),g.td(6),g.Cc(),g.Cc(),g.Cc(),g.Ac()}if(2&t){const t=e.$implicit;g.kc(3),g.Yc("ngStyle",g.cd(3,$n,null==t?null:t.background)),g.kc(1),g.vd(" ",null==t?null:t.name," "),g.kc(2),g.ud(null==t?null:t.name[0])}}function Jn(t,e){1&t&&g.zc(0)}const Vn=function(t){return{data:t}};function qn(t,e){if(1&t&&(g.Bc(0),g.rd(1,Jn,1,0,"ng-container",60),g.Ac()),2&t){const t=e.$implicit;g.Rc();const n=g.gd(87);g.kc(1),g.Yc("ngTemplateOutlet",n)("ngTemplateOutletContext",g.cd(2,Vn,t))}}function Hn(t,e){1&t&&g.yc(0,"app-errors-message",61),2&t&&g.Yc("errorMessage","Selection invalid")}const Un=function(t,e){return{color:t,"background-color":e}};function Kn(t,e){if(1&t&&(g.Dc(0,"div",62),g.Dc(1,"span",63),g.td(2),g.Cc(),g.Cc()),2&t){const t=e.$implicit,n=g.Rc();g.Yc("cdkDragDisabled",2===(null==n.universalDependenciesList?null:n.universalDependenciesList.length)),g.kc(1),g.Yc("ngStyle",g.dd(3,Un,null==t?null:t.color,null==t?null:t.background)),g.kc(1),g.ud(null==t?null:t.text)}}function Wn(t,e){if(1&t&&(g.Bc(0),g.Dc(1,"option",64),g.td(2),g.Cc(),g.Ac()),2&t){const t=e.$implicit;g.kc(1),g.Yc("value",t),g.kc(1),g.ud(t)}}function Zn(t,e){if(1&t&&(g.Dc(0,"div",65),g.Dc(1,"span",63),g.td(2),g.Cc(),g.Cc()),2&t){const t=e.$implicit;g.kc(1),g.Yc("ngStyle",g.dd(2,Un,null==t?null:t.color,null==t?null:t.background)),g.kc(1),g.ud(null==t?null:t.text)}}function Xn(t,e){if(1&t&&(g.Dc(0,"span",70),g.td(1),g.Cc()),2&t){const t=g.Rc().index,e=g.Rc(2).$implicit;g.kc(1),g.ud(t===(null==e||null==e.list?null:e.list.length)-1?"":",")}}const Qn=function(t,e){return{color:t,background:e}};function ti(t,e){if(1&t&&(g.Bc(0),g.Dc(1,"span",68),g.td(2),g.Cc(),g.rd(3,Xn,2,1,"span",69),g.Ac()),2&t){const t=e.$implicit,n=e.index,i=g.Rc(2).$implicit;g.kc(1),g.Yc("ngStyle",g.dd(3,Qn,null==t?null:t.color,null==t?null:t.background)),g.kc(1),g.ud(null==t?null:t.text),g.kc(1),g.Yc("ngIf",n!==(null==i||null==i.list?null:i.list.length)-1)}}function ei(t,e){if(1&t){const t=g.Ec();g.Bc(0),g.td(1),g.rd(2,ti,4,6,"ng-container",27),g.td(3,") "),g.Dc(4,"button",67),g.Nc("click",function(){g.id(t);const e=g.Rc().index;return g.Rc().removeItemUniversalDependenciesSaved(e)}),g.Cc(),g.Ac()}if(2&t){const t=g.Rc().$implicit;g.kc(1),g.vd(" ",null==t?null:t.name," ("),g.kc(1),g.Yc("ngForOf",null==t?null:t.list)}}function ni(t,e){if(1&t&&(g.Dc(0,"div",66),g.rd(1,ei,5,2,"ng-container",3),g.Cc()),2&t){const t=e.$implicit;g.kc(1),g.Yc("ngIf",t)}}function ii(t,e){if(1&t){const t=g.Ec();g.Bc(0),g.Dc(1,"button",71),g.Nc("click",function(){g.id(t);const e=g.Rc().data;return g.Rc().delete(e)}),g.Cc(),g.Ac()}}const oi=function(t,e){return{background:t,color:e}};function si(t,e){if(1&t&&(g.Dc(0,"span",63),g.td(1),g.rd(2,ii,2,0,"ng-container",3),g.Cc()),2&t){const t=e.data;g.pc("tag",null==t?null:t.hasDelete),g.Yc("ngStyle",g.dd(5,oi,null==t?null:t.background,null==t?null:t.color)),g.kc(1),g.ud(null==t?null:t.text),g.kc(1),g.Yc("ngIf",(null==t?null:t.text)&&(null==t?null:t.hasDelete))}}const ai=function(t){return{"width.%":t}};let ri=(()=>{class t{constructor(t,e,n,i,o,s){this.stagingService=t,this.jobService=e,this.changeRef=n,this.router=i,this._snackBar=o,this.dialogService=s,this.destroy$=new a.a,this.start=0,this.end=0,this.init=!1,this.list=[],this.labels=[],this.chunksData=[],this.lstColors=["#209cee","#fc0","#333","#3c9","#f33","#93f"],this.taskSummary=null,this.isSubmit=!1,this.jobDetail=null,this.initialed=!1,this.isDone=!1,this.isLoad=!1,this.universalDependenciesList=[],this.chunksValues=[],this.universalDependenciesSaved=[],this.universalDependenciesName="",this.pairs=[],this.hasErrors=!1}ngOnInit(){this.taskSummary=this.jobService.getProgressTask;const t=this.jobService.getLstTask;this.stagingService.getUniversalDependencies().pipe(Object(r.a)(this.destroy$)).subscribe(e=>{if(this.isLoad=!0,this.timeOut&&clearTimeout(this.timeOut),this.timeOut=setTimeout(()=>{this.isLoad=!1,this.changeRef.markForCheck()},2e3),!e)return;if(this.list=[],this.universalDependenciesSaved=[],this.universalDependenciesName=null,this.universalDependenciesList=[],this.start=0,this.end=0,this.chunksData=[],this.task=c.get(e,"task"),!this.task)return void this.router.navigate(["./annotator"]);this.job=c.get(e,"job");const n=c.get(this.job,"labels"),i=n.filter(t=>-1===t.name.indexOf("@r")).map(t=>t);this.pairs=n.filter(t=>-1!==t.name.indexOf("@r")).map(t=>t.name.replace("@r","")),c.size(this.pairs)&&(this.universalDependenciesName=this.pairs[0]),this.labels=this.convertLabels(i),this.jobDetail=c.get(e,"jobDetail"),this.isDone=this.jobDetail.tasks.every(t=>c.get(t,"edited"));const o=c.get(this.jobDetail,"status");this.isSubmit="Reviewing"===o||"Accepted"===o,this.currentIndex=t.findIndex(t=>c.get(t,"id")===c.get(this.task,"id")),this.getMissionTaskResult()}),document.onselectionchange=()=>{let t;if(window.getSelection?t=window.getSelection():document.getSelection&&(t=document.getSelection()),t.rangeCount<=0)return;const e=t.getRangeAt(0),n=e.cloneRange();n.selectNodeContents(this.text.nativeElement),n.setEnd(e.startContainer,e.startOffset),this.start=[...n.toString()].length,this.end=this.start+[...e.toString()].length}}drop(t){t.previousContainer===t.container?un(t.container.data,t.previousIndex,t.currentIndex):function(t,e,n,i){const o=pn(n,t.length-1),s=pn(i,e.length);t.length&&e.splice(s,0,t.splice(o,1)[0])}(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex)}getSpanInfor(){let t;if(window.getSelection?t=window.getSelection():document.getSelection&&(t=document.getSelection()),t.rangeCount<=0)return;const e=t.getRangeAt(0),n=e.cloneRange();n.selectNodeContents(this.text.nativeElement),n.setEnd(e.startContainer,e.startOffset),this.start=[...n.toString()].length,this.end=this.start+[...e.toString()].length}getMissionTaskResult(){const t=c.get(this.task,"id");(t||0===t)&&this.jobService.getSubmissionTaskResult(t).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{if(!t)return void this.chunks(!0);console.log(t);let e=[],n=null;try{e=JSON.parse(c.get(t,"[0].relationships")),n=JSON.parse(c.get(t,"[1].entities"))}catch(i){1===c.size(t)&&(n=JSON.parse(c.get(t,"[0].entities"))),c.size(t)>1&&(n=JSON.parse(c.get(t,"[1].entities"))),e=[]}c.size(n)&&(n.forEach(t=>{const e={};e.start=Number(c.get(t,"start")),e.end=Number(c.get(t,"end")),e.labelName=c.get(t,"label"),e.id=c.uniqueId(),this.list.push(e)}),this.list=this.sortedEntities(),this.chunks(!0),this.universalDependenciesSaved=e.map(t=>{const e={list:[]};e.name=c.get(t,"rel");const n=c.get(t,"item1"),i=c.get(t,"item2");return c.get(this.chunksValues,`[${n}]`)&&e.list.push(this.chunksValues[n]),c.get(this.chunksValues,`[${i}]`)&&e.list.push(this.chunksValues[i]),e.nameInList=this.universalDependenciesList.map(t=>null==t?void 0:t.text),e.entities=[t],e}))},()=>{this.chunks(!0)})}validateSpan(){if(void 0===this.start||void 0===this.end)return!1;if(this.start===this.end)return!1;for(const t of this.list){if(t.start<=this.start&&this.start<t.end)return!1;if(t.start<this.end&&this.end<=t.end)return!1;if(this.start<t.start&&t.end<this.end)return!1}return this.chunkValidator()}assignLabel(t){this.hasErrors=!this.validateSpan(),this.validateSpan()&&(this.list.push({start:this.start,end:this.end,labelName:t,id:c.uniqueId()}),this.start=0,this.end=0,this.chunks())}makeChunks(t){const e=[],n=t.split("\n");for(const i of n.slice(0,-1))e.push({label:null,color:null,text:i+"\n",newline:!1}),e.push({label:null,color:null,text:"",newline:!0});return e.push({label:null,color:null,text:n.slice(-1)[0],newline:!1}),e}chunks(t){let e=[];this.chunksData=[];let n=0;const i=c.get(this.task,"content",""),o=this.sortedEntities();for(const s of o){e=e.concat(this.makeChunks(i.slice(n,s.start))),n=s.end;const t=this.labels.find(t=>c.get(t,"name")===s.labelName);e.push({id:s.id,label:c.get(t,"name"),color:c.get(t,"color"),background:c.get(t,"background"),text:i.slice(s.start,s.end),hasDelete:!!t,start:s.start,end:s.end})}e=[...e,...this.makeChunks(i.slice(n,i.length))],this.chunksData=c.cloneDeep(e),this.getChunksText(),t||this.save(),this.changeRef.markForCheck()}labelObject(){const t={};for(const e of this.job.labels)t[e.id]=e;return t}convertLabels(t){if(c.size(t)<=0)return;const e=[];return t.forEach((t,n)=>{const i={};i.id=c.uniqueId(),i.background=this.lstColors[n]?this.lstColors[n]:this.getRandomColor(),i.color="#FFFFFF",i.name=c.get(t,"name"),e.push(i)}),e}getRandomColor(){for(var t="#",e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t}sortedEntities(){return this.list.slice().sort((t,e)=>t.start-e.start)}save(){if(c.size(this.list)<=0)return;const t=c.get(this.task,"id");if(!t)return;const e={payload:[]},n=[],i=[];this.list.forEach(t=>{const e={};e.start=String(c.get(t,"start")),e.end=String(c.get(t,"end")),e.label=c.get(t,"labelName"),i.push(e)}),c.size(this.universalDependenciesSaved)||(this.universalDependenciesSaved=new Array(1)),this.universalDependenciesSaved.forEach(t=>{const e=c.get(t,"entities");e&&n.push(...e)}),c.size(n)&&e.payload.push({relationships:JSON.stringify(n)}),c.size(i)&&e.payload.push({entities:JSON.stringify(i)}),console.log("payload",e),this.jobService.saveSubmissionTaskResult(t,e).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{this.taskSummary=this.jobService.updateProgressTask(this.task),this.stagingService.updateJobListState(!0)},null,()=>{this.changeRef.detectChanges()})}taskChange(t){this.stagingService.setTaskChange({task:this.task,next:t})}delete(t){c.remove(this.list,e=>e.id===c.get(t,"id")),this.chunks()}submitResultJob(t){this.isSubmit=t;const e=c.get(this.job,"assignment_id",null);e&&this.jobService.submitJobResult(e,t).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{this.getTaskList(this.job),this._snackBar.open("Update successful !!!","Close",{duration:2e3,horizontalPosition:"end",verticalPosition:"bottom"})})}getTaskList(t){this.subscription&&this.subscription.unsubscribe(),this.subscription=this.jobService.getTaskList(c.get(t,"assignment_id")).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{t&&(this.jobDetail=t,console.log("this.jobDetail",this.jobDetail),this.isDone=this.jobDetail.tasks.every(t=>c.get(t,"edited")),this.changeRef.markForCheck())},()=>{this.jobDetail=null})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}openChartAnalysis(){this.dialogService.openDialogRanking(c.get(this.job,"id"),this.job).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{})}getChunksText(){this.chunksValues=this.chunksData.filter(t=>t.text&&t.label),this.universalDependenciesList=[]}mapDependencies(){if(2!==c.size(this.universalDependenciesList))return;const t={};t.name=this.universalDependenciesName,t.list=this.universalDependenciesList,t.entities=[];let e={};t.nameInList=this.universalDependenciesList.map(t=>null==t?void 0:t.text),this.universalDependenciesList.forEach((n,i)=>{e["item"+(i+1)]=this.list.findIndex(t=>c.get(n,"id")===c.get(t,"id")),e.rel=this.universalDependenciesName,!e.item1&&0!==e.item1||!e.item2&&0!==e.item2||(t.entities.push(e),e={})}),this.universalDependenciesSaved.push(t),console.log("body",t),this.save(),this.restart()}restart(){this.getChunksText(),this.universalDependenciesList=[],this.universalDependenciesName=this.pairs[0]}removeItemUniversalDependenciesSaved(t){this.universalDependenciesSaved.splice(t,1),this.save()}chunkValidator(){const t=c.get(this.task,"content",""),e=t.slice(0===this.start?0:this.start-1,this.end===t.length-1?this.end:this.end+1);return" "===c.first(e)&&" "===c.last(e)||0===this.start&&" "===c.last(e)||this.end===c.size(t)&&" "===c.first(e)}}return t.\u0275fac=function(e){return new(e||t)(g.xc(h.a),g.xc(u.a),g.xc(g.j),g.xc(o.h),g.xc(E),g.xc(l.a))},t.\u0275cmp=g.rc({type:t,selectors:[["app-universal-dependencies"]],viewQuery:function(t,e){if(1&t&&g.xd(Nn,!0),2&t){let t;g.fd(t=g.Oc())&&(e.text=t.first)}},features:[g.jc([l.a])],decls:88,vars:38,consts:[[1,"card-header","p-4",2,"background-color","#fff !important"],[1,"card-title","py-2","mb-0"],[1,"card-label"],[4,"ngIf"],[1,"ranking-icon",3,"click"],[1,"card-action","ml-auto","d-flex","align-items-center"],["mat-icon-button","","matBadgeColor","warn","matTooltipClass","tooltip-comment",1,"button","mr-6",3,"matBadge","matTooltip"],["mat-stroked-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-stroked-button","","color","warn",3,"disabled","click",4,"ngIf"],["id","message-pane",1,"column","col-10","col-sm-11","col-xs-11","m-auto","is-7","is-offset-1","message","hero","is-fullheight"],[1,"modal"],[1,"modal-background"],[1,"modal-card"],[1,"modal-card-head"],[1,"modal-card-title"],["aria-label","close",1,"delete"],[1,"modal-card-body","modal-card-body-footer","content",2,"line-height","150%"],[1,"columns","d-flex","algin-items-center","w-100","mb-3"],[1,"column","mr-4","col-3","m","p-0","d-flex","align-items-center"],[1,"progress","w-100"],["role","progressbar","aria-valuenow","0","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",3,"ngStyle"],[1,"column","font-size-16"],[1,"ml10"],[1,"card"],[1,"card-header"],[1,"card-header-title","has-background-royalblue"],[1,"field","is-grouped","is-grouped-multiline"],[4,"ngFor","ngForOf"],[1,"card-content","position-relative"],[1,"content"],["text",""],["timer","500","autoHidden","3000",3,"errorMessage",4,"ngIf"],["cdkDropListGroup","",1,"d-flex","justify-content-center","mt-3","relationships"],[1,"card","card-group","mr-2"],[1,"card-title"],["cdkDropList","","cdkDropListSortingDisabled","",1,"list-group","list-group-flush",3,"cdkDropListData","cdkDropListDropped"],["class","box","cdkDrag","",3,"cdkDragDisabled",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","btn-group"],[1,"btn","btn-primary","opacity-none"],[1,"d-flex","align-items-center"],["name","pair","id","pair",1,"w-100","mx-3",3,"ngModel","ngModelChange"],["cdkDropList","",1,"example-list","list-group","list-group-flush",3,"cdkDropListData","cdkDropListDropped"],["class","box","cdkDrag","",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],[1,"card","card-group"],[1,"example-list","list-group","list-group-flush"],["class","box box-pair position-relative",4,"ngFor","ngForOf"],[1,"level","mt30"],[1,"button","level-left",3,"click"],[1,"icon"],[1,"fas","fa-chevron-left"],[1,"button","level-right",3,"click"],[1,"fas","fa-chevron-right"],["spanTemplate",""],["mat-stroked-button","","color","primary",3,"click"],["mat-stroked-button","","color","warn",3,"click"],[1,"control",3,"click"],[1,"tags","has-addons"],[1,"tag","is-medium","mr-0",3,"ngStyle"],[1,"tag","is-medium"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["timer","500","autoHidden","3000",3,"errorMessage"],["cdkDrag","",1,"box",3,"cdkDragDisabled"],[3,"ngStyle"],[3,"value"],["cdkDrag","",1,"box"],[1,"box","box-pair","position-relative"],["aria-label","close",1,"delete","close",3,"click"],[1,"mb-1",3,"ngStyle"],["class","mr-1 mb-1 p-0",4,"ngIf"],[1,"mr-1","mb-1","p-0"],[1,"delete","is-small",3,"click"]],template:function(t,e){1&t&&(g.Dc(0,"div",0),g.Dc(1,"div",1),g.Dc(2,"h3",2),g.td(3),g.rd(4,Bn,3,5,"ng-container",3),g.Dc(5,"mat-icon",4),g.Nc("click",function(){return e.openChartAnalysis()}),g.td(6,"analytics"),g.Cc(),g.Cc(),g.Dc(7,"span"),g.td(8),g.Cc(),g.Cc(),g.Dc(9,"div",5),g.Dc(10,"button",6),g.Dc(11,"mat-icon"),g.td(12,"chat_bubble_outline"),g.Cc(),g.Cc(),g.rd(13,Yn,2,2,"button",7),g.rd(14,Fn,2,2,"button",8),g.Cc(),g.Cc(),g.Dc(15,"div",9),g.Dc(16,"div",10),g.yc(17,"div",11),g.Dc(18,"div",12),g.Dc(19,"header",13),g.Dc(20,"p",14),g.td(21,"Annotation Guideline"),g.Cc(),g.yc(22,"button",15),g.Cc(),g.Dc(23,"section",16),g.Dc(24,"p"),g.td(25,"You can see annotation guideline here."),g.Cc(),g.Cc(),g.Cc(),g.Cc(),g.Dc(26,"div",17),g.Dc(27,"div",18),g.Dc(28,"div",19),g.yc(29,"div",20),g.Cc(),g.Cc(),g.Dc(30,"div",21),g.Dc(31,"span",22),g.Dc(32,"strong"),g.td(33),g.Cc(),g.Cc(),g.td(34,"/"),g.Dc(35,"span"),g.td(36),g.Cc(),g.Cc(),g.Cc(),g.Dc(37,"div",23),g.Dc(38,"header",24),g.Dc(39,"div",25),g.Dc(40,"div",26),g.rd(41,Gn,7,5,"ng-container",27),g.Cc(),g.Cc(),g.Cc(),g.Dc(42,"div",28),g.Dc(43,"div",29,30),g.rd(45,qn,2,4,"ng-container",27),g.Cc(),g.rd(46,Hn,1,1,"app-errors-message",31),g.Cc(),g.Cc(),g.Dc(47,"div",32),g.Dc(48,"div",33),g.Dc(49,"h5",34),g.td(50,"Entities"),g.Cc(),g.Dc(51,"ul",35),g.Nc("cdkDropListDropped",function(t){return e.drop(t)}),g.rd(52,Kn,3,6,"div",36),g.Cc(),g.Dc(53,"div",37),g.Dc(54,"button",38),g.td(55,"Save"),g.Cc(),g.Cc(),g.Cc(),g.Dc(56,"div",33),g.Dc(57,"div",39),g.Dc(58,"h5",34),g.td(59,"Pair: "),g.Cc(),g.Dc(60,"select",40),g.Nc("ngModelChange",function(t){return e.universalDependenciesName=t}),g.rd(61,Wn,3,2,"ng-container",27),g.Cc(),g.Cc(),g.Dc(62,"ul",41),g.Nc("cdkDropListDropped",function(t){return e.drop(t)}),g.rd(63,Zn,3,5,"div",42),g.Cc(),g.Dc(64,"div",37),g.Dc(65,"button",43),g.Nc("click",function(){return e.mapDependencies()}),g.td(66,"Save"),g.Cc(),g.Cc(),g.Cc(),g.Dc(67,"div",44),g.Dc(68,"h5",34),g.td(69,"Relationships"),g.Cc(),g.Dc(70,"ul",45),g.rd(71,ni,2,1,"div",46),g.Cc(),g.yc(72,"div",37),g.Cc(),g.Cc(),g.Dc(73,"div",47),g.Dc(74,"a",48),g.Nc("click",function(){return e.taskChange(!1)}),g.Dc(75,"span",49),g.yc(76,"i",50),g.Cc(),g.Dc(77,"span"),g.td(78),g.Sc(79,"translate"),g.Cc(),g.Cc(),g.Dc(80,"a",51),g.Nc("click",function(){return e.taskChange(!0)}),g.Dc(81,"span"),g.td(82),g.Sc(83,"translate"),g.Cc(),g.Dc(84,"span",49),g.yc(85,"i",52),g.Cc(),g.Cc(),g.Cc(),g.Cc(),g.rd(86,si,3,8,"ng-template",null,53,g.sd)),2&t&&(g.kc(3),g.vd("",null==e.job?null:e.job.name," "),g.kc(1),g.Yc("ngIf","Accepted"===(null==e.jobDetail?null:e.jobDetail.status)||"Rejected"===(null==e.jobDetail?null:e.jobDetail.status)),g.kc(4),g.ud(null==e.job?null:e.job.description),g.kc(2),g.Yc("matBadge",null!=e.jobDetail&&e.jobDetail.comment?1:0)("matTooltip",null==e.jobDetail?null:e.jobDetail.comment),g.kc(3),g.Yc("ngIf","Reviewing"!==(null==e.jobDetail?null:e.jobDetail.status)&&"Accepted"!==(null==e.jobDetail?null:e.jobDetail.status)&&!e.isSubmit),g.kc(1),g.Yc("ngIf","Reviewing"===(null==e.jobDetail?null:e.jobDetail.status)||"Accepted"===(null==e.jobDetail?null:e.jobDetail.status)||e.isSubmit),g.kc(15),g.Yc("ngStyle",g.cd(36,ai,null==e.taskSummary?null:e.taskSummary.percent)),g.kc(4),g.ud(null==e.taskSummary?null:e.taskSummary.lstTaskEdited),g.kc(3),g.ud(null==e.taskSummary?null:e.taskSummary.total),g.kc(1),g.pc("is-done","Reviewing"===(null==e.jobDetail?null:e.jobDetail.status)||"Accepted"===(null==e.jobDetail?null:e.jobDetail.status)||e.isSubmit),g.kc(4),g.Yc("ngForOf",e.labels),g.kc(4),g.Yc("ngForOf",e.chunksData),g.kc(1),g.Yc("ngIf",e.hasErrors),g.kc(1),g.pc("is-done","Reviewing"===(null==e.jobDetail?null:e.jobDetail.status)||"Accepted"===(null==e.jobDetail?null:e.jobDetail.status)||e.isSubmit),g.kc(4),g.Yc("cdkDropListData",e.chunksValues),g.kc(1),g.Yc("ngForOf",e.chunksValues),g.kc(8),g.Yc("ngModel",e.universalDependenciesName),g.kc(1),g.Yc("ngForOf",e.pairs),g.kc(1),g.Yc("cdkDropListData",e.universalDependenciesList),g.kc(1),g.Yc("ngForOf",e.universalDependenciesList),g.kc(2),g.pc("disabled",2!==(null==e.universalDependenciesList?null:e.universalDependenciesList.length)),g.kc(6),g.Yc("ngForOf",e.universalDependenciesSaved),g.kc(3),g.pc("disabled",0===e.currentIndex||e.isLoad),g.kc(4),g.ud(g.Tc(79,32,"common.prev")),g.kc(2),g.pc("disabled",e.currentIndex===(null==e.taskSummary?null:e.taskSummary.total)-1||e.isLoad),g.kc(2),g.ud(g.Tc(83,34,"common.next")))},directives:[i.n,z.a,f.a,A.a,N.a,i.o,i.m,Dn,Rn,s.w,s.q,s.t,i.s,Q,Ln,s.u,s.y],pipes:[tt.d],styles:['[_nghost-%COMP%]   .is-done[_ngcontent-%COMP%]{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;position:relative}[_nghost-%COMP%]   .is-done[_ngcontent-%COMP%]:before{content:"";position:absolute;background:transparent;top:0;left:0;right:0;bottom:0;z-index:1}.card-content[_ngcontent-%COMP%]{background-color:none;padding:2rem 2.25rem}.mt30[_ngcontent-%COMP%]{margin-top:30px!important}.tag[_ngcontent-%COMP%]:not(body)   .delete[_ngcontent-%COMP%]{margin-left:.25rem;margin-right:-.375rem}.is-small.delete[_ngcontent-%COMP%], .is-small.modal-close[_ngcontent-%COMP%]{height:16px;max-height:16px;max-width:16px;min-height:16px;min-width:16px;width:16px}.delete[_ngcontent-%COMP%], .modal-close[_ngcontent-%COMP%]{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(10,10,10,.2);border:none;border-radius:290486px;cursor:pointer;display:inline-block;flex-grow:0;flex-shrink:0;font-size:0;height:20px;max-height:20px;max-width:20px;min-height:20px;min-width:20px;outline:0;position:relative;vertical-align:top;width:20px}.delete[_ngcontent-%COMP%]:before, .modal-close[_ngcontent-%COMP%]:before{height:2px;width:50%}.delete[_ngcontent-%COMP%]:after, .modal-close[_ngcontent-%COMP%]:after{height:50%;width:2px}.delete[_ngcontent-%COMP%]:after, .delete[_ngcontent-%COMP%]:before, .modal-close[_ngcontent-%COMP%]:after, .modal-close[_ngcontent-%COMP%]:before{background-color:#fff;content:"";display:block;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%) rotate(45deg);transform-origin:center center}.content[_ngcontent-%COMP%]{font-size:16pt;line-height:250%}.level[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.level-left[_ngcontent-%COMP%]{align-items:center;justify-content:flex-start}.button[_ngcontent-%COMP%]{background-color:#fff;border-color:#dbdbdb;border-width:1px;color:#363636;cursor:pointer;justify-content:center;padding:calc(.375em - 1px) .75em;text-align:center;white-space:nowrap}.level-right[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end}.level-left[_ngcontent-%COMP%], .level-right[_ngcontent-%COMP%]{flex-basis:auto;flex-grow:0;flex-shrink:0}.button[_ngcontent-%COMP%], .file-cta[_ngcontent-%COMP%], .file-name[_ngcontent-%COMP%], .input[_ngcontent-%COMP%], .pagination-ellipsis[_ngcontent-%COMP%], .pagination-link[_ngcontent-%COMP%], .pagination-next[_ngcontent-%COMP%], .pagination-previous[_ngcontent-%COMP%], .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .textarea[_ngcontent-%COMP%]{-moz-appearance:none;-webkit-appearance:none;align-items:center;border:1px solid transparent;border-radius:4px;box-shadow:none;display:inline-flex;font-size:16px;height:2.25em;justify-content:flex-start;line-height:1.5;padding:calc(.375em - 1px) calc(.625em - 1px);position:relative;vertical-align:top}.button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:first-child:not(:last-child){margin-left:calc(-.375em - 1px);margin-right:.1875em}.button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-large[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-medium[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-small[_ngcontent-%COMP%]{height:1.5em;width:1.5em}.icon[_ngcontent-%COMP%]{align-items:center;display:inline-flex;justify-content:center;height:1.5rem;width:1.5rem}span[_ngcontent-%COMP%]{font-style:inherit;font-weight:inherit}button.control[_ngcontent-%COMP%]{outline:none}.delete-small[_ngcontent-%COMP%], button.control[_ngcontent-%COMP%]{border:none;background:transparent}.delete-small[_ngcontent-%COMP%]{height:20px;width:20px;display:inline-flex;justify-content:center;align-items:center}.delete-small[_ngcontent-%COMP%]:after{content:"x";color:inherit}.content[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{font-size:16pt;padding-left:.5em;padding-right:.5em}.card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{width:unset}.card-header[_ngcontent-%COMP%]{background:#4169e1!important}.card-group[_ngcontent-%COMP%]{width:30%;height:300px;display:flex;flex-direction:column;font-size:16px}.card-group[_ngcontent-%COMP%]:last-child{width:40%}.card-group[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:0;font-size:22px;width:100%;padding:8px}.card-group[_ngcontent-%COMP%]   .card-control-input[_ngcontent-%COMP%]{height:32px;border:none;border-bottom:1px solid #ebedf3;outline:none}.card-group[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;height:200px}.card-group[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   div.box[_ngcontent-%COMP%]{cursor:pointer;padding:8px}.card-group[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   div.box[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.card-group[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   div.box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-radius:4px;padding:4px 8px}.card-group[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   div.box[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{margin-left:12px;position:absolute;background-color:red!important;bottom:14px}.card-group[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   div.box-pair[_ngcontent-%COMP%]{line-height:32px}.card-group[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]{border:none}.card-group[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{padding:8px}.card-group[_ngcontent-%COMP%]   .opacity-none[_ngcontent-%COMP%]{opacity:0}  .cdk-drag-disabled{filter:grayscale(100%);cursor:default}@media screen and (max-width:600px){.relationships[_ngcontent-%COMP%]{flex-direction:column}.relationships[_ngcontent-%COMP%]   .card-group[_ngcontent-%COMP%]{width:100%!important;margin-bottom:8px!important}}','.message[_ngcontent-%COMP%], .messages[_ngcontent-%COMP%]{padding:40px 20px}.pg[_ngcontent-%COMP%]{display:inline-block;top:10px}.card-header[_ngcontent-%COMP%]{background-color:none;align-items:stretch;box-shadow:0 1px 2px rgba(10,10,10,.1);display:flex}.card-header-title[_ngcontent-%COMP%]{align-items:center;color:#363636;display:flex;flex-grow:1;font-weight:700}img[_ngcontent-%COMP%]{height:500px;width:auto;-o-object-fit:contain;object-fit:contain}.level[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.level-left[_ngcontent-%COMP%]{align-items:center;justify-content:flex-start}.button[_ngcontent-%COMP%]{background-color:#fff;border-color:#dbdbdb;border-width:1px;color:#363636;cursor:pointer;justify-content:center;padding:calc(.375em - 1px) .75em;text-align:center;white-space:nowrap}.level-right[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end}.level-left[_ngcontent-%COMP%], .level-right[_ngcontent-%COMP%]{flex-basis:auto;flex-grow:0;flex-shrink:0}.button[_ngcontent-%COMP%], .file-cta[_ngcontent-%COMP%], .file-name[_ngcontent-%COMP%], .input[_ngcontent-%COMP%], .pagination-ellipsis[_ngcontent-%COMP%], .pagination-link[_ngcontent-%COMP%], .pagination-next[_ngcontent-%COMP%], .pagination-previous[_ngcontent-%COMP%], .select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .textarea[_ngcontent-%COMP%]{-moz-appearance:none;-webkit-appearance:none;align-items:center;border:1px solid transparent;border-radius:4px;box-shadow:none;display:inline-flex;font-size:16px;height:2.25em;justify-content:flex-start;line-height:1.5;padding:calc(.375em - 1px) calc(.625em - 1px);position:relative;vertical-align:top}.textarea[_ngcontent-%COMP%]{padding:2rem 2.25rem}.button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:first-child:not(:last-child){margin-left:calc(-.375em - 1px);margin-right:.1875em}.button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-large[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-medium[_ngcontent-%COMP%], .button[_ngcontent-%COMP%]   .icon.is-small[_ngcontent-%COMP%]{height:1.5em;width:1.5em}.icon[_ngcontent-%COMP%]{align-items:center;display:inline-flex;justify-content:center;height:1.5rem;width:1.5rem}span[_ngcontent-%COMP%]{font-style:inherit;font-weight:inherit}.tag[_ngcontent-%COMP%]:not(body)   .delete[_ngcontent-%COMP%]{margin-left:.25rem;margin-right:-.375rem}.is-small.delete[_ngcontent-%COMP%], .is-small.modal-close[_ngcontent-%COMP%]{height:16px;max-height:16px;max-width:16px;min-height:16px;min-width:16px;width:16px}.delete[_ngcontent-%COMP%], .modal-close[_ngcontent-%COMP%]{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(10,10,10,.2);border:none;border-radius:290486px;cursor:pointer;display:inline-block;flex-grow:0;flex-shrink:0;font-size:0;height:20px;max-height:20px;max-width:20px;min-height:20px;min-width:20px;outline:0;position:relative;vertical-align:top;width:20px}.delete[_ngcontent-%COMP%]:before, .modal-close[_ngcontent-%COMP%]:before{height:2px;width:50%}.delete[_ngcontent-%COMP%]:after, .modal-close[_ngcontent-%COMP%]:after{height:50%;width:2px}.delete[_ngcontent-%COMP%]:after, .delete[_ngcontent-%COMP%]:before, .modal-close[_ngcontent-%COMP%]:after, .modal-close[_ngcontent-%COMP%]:before{background-color:#fff;content:"";display:block;left:50%;position:absolute;top:50%;transform:translateX(-50%) translateY(-50%) rotate(45deg);transform-origin:center center}.mt30[_ngcontent-%COMP%]{margin-top:30px!important}field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%]:last-child{margin-bottom:-.75rem}.field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%]{flex-wrap:wrap}.field.is-grouped[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:last-child, .field.is-grouped.is-grouped-multiline[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:not(:last-child){margin-bottom:.75rem}.field.is-grouped[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]:not(:last-child){margin-bottom:0;margin-right:.75rem}.field.is-grouped[_ngcontent-%COMP%] > .control[_ngcontent-%COMP%]{flex-shrink:0}.control[_ngcontent-%COMP%]{font-size:16px;position:relative;text-align:left}.tags[_ngcontent-%COMP%]:last-child{margin-bottom:-.5rem}.tags[_ngcontent-%COMP%]{align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-start}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{margin-right:0}.tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.tag[_ngcontent-%COMP%]:not(body).is-medium{font-size:16px}.tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{margin-bottom:.5rem}.tag[_ngcontent-%COMP%]:not(body){align-items:center;background-color:#f5f5f5;border-radius:4px;color:#4a4a4a;display:inline-flex;font-size:.75rem;justify-content:center;line-height:1.5;padding-left:.75em;padding-right:.75em;white-space:normal;height:auto}a[_ngcontent-%COMP%]{color:#3273dc;cursor:pointer;text-decoration:none}.tags.has-addons[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0}.card-content[_ngcontent-%COMP%]{background-color:none;padding:2rem 2.25rem}  .tooltip-comment{font-size:16px;background-color:#fff;color:#000!important;min-width:200px;padding:16px;box-shadow:0 2px 3px rgba(10,10,10,.1),0 0 0 1px rgba(10,10,10,.1)}[_nghost-%COMP%]   .has-errors[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], [_nghost-%COMP%]   .has-errors[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid #f64e60}@media screen and (max-width:1024px){#message-pane[_ngcontent-%COMP%]{padding:16px 0;max-width:90%}[_nghost-%COMP%]{display:flex;flex-direction:column;height:calc(100% - 50px);overflow:auto}}']}),t})();var ci=n("CwDh"),li=n("jhN1"),di=n("tmEo"),gi=n("CTVx"),hi=n("1jcm");function ui(t,e){if(1&t){const t=g.Ec();g.Dc(0,"div",4),g.Dc(1,"mat-slide-toggle",10),g.Nc("change",function(){return g.id(t),g.Rc(2).switchToAdmin()}),g.td(2,"Switch to admin"),g.Cc(),g.Cc()}}function pi(t,e){if(1&t&&(g.Bc(0),g.rd(1,ui,3,0,"div",9),g.Ac()),2&t){const t=e.ngIf;g.kc(1),g.Yc("ngIf","Annotator"!==(null==t?null:t.role))}}function mi(t,e){if(1&t&&(g.Dc(0,"div",11),g.td(1),g.Cc()),2&t){const t=e.ngIf;g.kc(1),g.vd("Hi, ",t.username,"")}}function bi(t,e){1&t&&(g.Dc(0,"div",12),g.td(1),g.Sc(2,"translate"),g.Cc()),2&t&&(g.kc(1),g.ud(g.Tc(2,1,"common.login")))}let fi=(()=>{class t{constructor(t,e,n){this.authService=t,this.router=e,this.stagingService=n,this.user$=this.authService.currentUserSubject.asObservable()}ngOnInit(){}logout(){this.authService.logout()}goToHomePage(){this.stagingService.setResetStateAside(!0),this.router.navigate(["/annotator"])}switchToAdmin(){this.router.navigate(["/dashboard"])}}return t.\u0275fac=function(e){return new(e||t)(g.xc(di.a),g.xc(o.h),g.xc(h.a))},t.\u0275cmp=g.rc({type:t,selectors:[["app-header"]],decls:18,vars:14,consts:[[1,"header-container","desktop"],[3,"click"],[1,"menu-group"],[4,"ngIf"],[1,"menu-item"],["routerLinkActive","active",1,"menu-item","resgister-item",3,"routerLink"],["class","menu-item profile",4,"ngIf","ngIfElse"],["login",""],[1,"menu-item","profile",3,"click"],["class","menu-item",4,"ngIf"],[3,"change"],[1,"menu-item","profile"],["routerLink","/",1,"menu-item","login"]],template:function(t,e){if(1&t&&(g.Dc(0,"div",0),g.Dc(1,"h1",1),g.Nc("click",function(){return e.goToHomePage()}),g.td(2,"Hannotate"),g.Cc(),g.Dc(3,"div",2),g.rd(4,pi,2,1,"ng-container",3),g.Sc(5,"async"),g.Dc(6,"div",4),g.yc(7,"app-language-selector"),g.Cc(),g.Dc(8,"div",5),g.td(9),g.Sc(10,"translate"),g.Cc(),g.rd(11,mi,2,1,"div",6),g.Sc(12,"async"),g.rd(13,bi,3,3,"ng-template",null,7,g.sd),g.Dc(15,"div",8),g.Nc("click",function(){return e.logout()}),g.td(16),g.Sc(17,"translate"),g.Cc(),g.Cc(),g.Cc()),2&t){const t=g.gd(14);g.kc(4),g.Yc("ngIf",g.Tc(5,6,e.user$)),g.kc(4),g.Yc("routerLink","register-job"),g.kc(1),g.vd(" ",g.Tc(10,8,"common.registerJob")," "),g.kc(2),g.Yc("ngIf",g.Tc(12,10,e.user$))("ngIfElse",t),g.kc(5),g.ud(g.Tc(17,12,"common.logout"))}},directives:[i.n,gi.a,o.j,o.i,hi.a],pipes:[i.b,tt.d],styles:[".header-container.desktop[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.header-container.desktop[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:18px;cursor:pointer}.header-container.desktop[_ngcontent-%COMP%]   .menu-group[_ngcontent-%COMP%]{display:flex;align-items:center}.header-container.desktop[_ngcontent-%COMP%]   .menu-group[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{margin-right:16px;cursor:pointer;outline:none}.header-container.desktop[_ngcontent-%COMP%]   .menu-group[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:last-child{margin-right:0}.dropdown[_ngcontent-%COMP%]   .dropbtn[_ngcontent-%COMP%]{border:none;outline:none;background:transparent;color:#fff}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#f9f9f9;min-width:160px;box-shadow:0 8px 8px 0 rgba(0,0,0,.2);z-index:1}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{float:none;color:#000;padding:8px 14px;text-decoration:none;display:block;text-align:left}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ddd}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}@media screen and (max-width:1024px){.header-container.desktop[_ngcontent-%COMP%]{display:none}}[_nghost-%COMP%]   app-language-selector[_ngcontent-%COMP%]     .btn{width:auto!important;height:auto!important}[_nghost-%COMP%]   app-language-selector[_ngcontent-%COMP%]     .btn:hover{background:transparent}"]}),t})();var _i=n("+0xr"),Ci=n("eq3z"),xi=n("AytR"),Oi=n("M9IT");function Pi(t,e){if(1&t&&(g.Bc(0),g.td(1),g.Ac()),2&t){const t=g.Rc();g.kc(1),g.vd(" ",null==t.dataAssign?null:t.dataAssign.length," ")}}function Mi(t,e){if(1&t&&g.td(0),2&t){const t=g.Rc();g.vd(" ",null==t.dataTaskList?null:t.dataTaskList.length," ")}}const ki=function(){return[10]};function vi(t,e){if(1&t){const t=g.Ec();g.Dc(0,"mat-paginator",19),g.Nc("page",function(e){return g.id(t),g.Rc().handlePageEvent(e)}),g.Cc()}if(2&t){const t=g.Rc();g.Yc("length",t.length)("pageSize",t.pageSize)("pageSizeOptions",g.bd(4,ki))("hidePageSize",!0)}}function yi(t,e){if(1&t){const t=g.Ec();g.Bc(0),g.Dc(1,"div",21),g.Nc("click",function(){g.id(t);const n=e.$implicit;return g.Rc(2).getTaskList(n)}),g.yc(2,"div",22),g.Dc(3,"div",23),g.Dc(4,"p",24),g.td(5),g.Cc(),g.Dc(6,"p",25),g.Dc(7,"small"),g.td(8),g.Cc(),g.Cc(),g.Cc(),g.Cc(),g.Ac()}if(2&t){const t=e.$implicit;g.kc(3),g.Yc("matBadge",(null==t?null:t.edited_tasks)+"/"+(null==t?null:t.total_tasks)),g.kc(2),g.ud(null==t?null:t.name),g.kc(3),g.ud(null==t?null:t.description)}}function Di(t,e){if(1&t&&(g.Bc(0),g.rd(1,yi,9,3,"ng-container",20),g.Ac()),2&t){const t=g.Rc();g.kc(1),g.Yc("ngForOf",t.dataAssign)}}function wi(t,e){1&t&&g.yc(0,"i",30)}function ji(t,e){if(1&t&&g.yc(0,"i",31),2&t){const t=g.Rc().$implicit;g.pc("text-danger",(null==t?null:t.edited)&&(null==t?null:t.rejected))}}function Si(t,e){if(1&t&&(g.Dc(0,"p"),g.td(1),g.Cc()),2&t){const t=g.Rc().$implicit;g.kc(1),g.ud(null==t?null:t.content)}}function Ri(t,e){if(1&t&&(g.Dc(0,"div",32),g.yc(1,"img",33),g.Cc()),2&t){const t=g.Rc().$implicit;g.kc(1),g.Yc("src",null==t?null:t.content,g.kd)("alt",null==t?null:t.content)}}function Ti(t,e){if(1&t){const t=g.Ec();g.Bc(0),g.Dc(1,"div",26),g.Nc("click",function(){g.id(t);const n=e.$implicit;return g.Rc(2).setTask(n)}),g.Dc(2,"div",22),g.rd(3,wi,1,0,"i",27),g.rd(4,ji,1,2,"i",28),g.Cc(),g.rd(5,Si,2,1,"p",12),g.rd(6,Ri,2,2,"ng-template",null,29,g.sd),g.Cc(),g.Ac()}if(2&t){const t=e.$implicit,n=g.gd(7),i=g.Rc(2);g.kc(1),g.pc("active",(null==i.currentTask?null:i.currentTask.id)===(null==t?null:t.id))("rejected",(null==t?null:t.edited)&&(null==t?null:t.rejected))("text-danger",(null==t?null:t.edited)&&(null==t?null:t.rejected))("job-image",(null==i.currentJob?null:i.currentJob.category)===i.Categories.ImageCaptioning),g.kc(2),g.Yc("ngIf",(null==t?null:t.edited)&&!(null!=t&&t.rejected)),g.kc(1),g.Yc("ngIf",(null==t?null:t.edited)&&(null==t?null:t.rejected)),g.kc(1),g.Yc("ngIf",i.Categories.ImageCaptioning!==(null==i.currentJob?null:i.currentJob.category))("ngIfElse",n)}}function Ii(t,e){if(1&t&&g.rd(0,Ti,8,12,"ng-container",20),2&t){const t=g.Rc();g.Yc("ngForOf",t.dataTaskList)}}let Ei=(()=>{class t{constructor(t,e,n,i){this.jobService=t,this.changeRef=e,this.route=n,this.stagingService=i,this.isLoading=!1,this.dataSource=new _i.k,this.dataAssign=[],this.isTaskState=!1,this.destroy$=new a.a,this.dataTaskList=[],this.currentTask=null,this.Categories=Ci.a,this.jobDetail=null,this.searchParams={filter:"all",page:0,per_page:10}}ngOnInit(){this.initData(),this.stagingService.getTaskChange().pipe(Object(r.a)(this.destroy$)).subscribe(t=>{let e=this.dataTaskList.findIndex(e=>c.get(e,"id")===c.get(t.task,"id"));c.size(this.dataTaskList);try{let n=null;n=t.next?this.dataTaskList[++e]:this.dataTaskList[--e],this.setTask(n)}catch(n){}}),this.stagingService.getJobListState().pipe(Object(r.a)(this.destroy$)).subscribe(t=>{t&&(this.isTaskState||this.getAssignJob())}),this.stagingService.getResetStateAside().pipe(Object(r.a)(this.destroy$)).subscribe(t=>{t&&(this.isTaskState=!1)})}initData(){this.isLoading=!0,this.getAssignJob()}getAssignJob(){this.subscription&&this.subscription.unsubscribe(),this.subscription=this.jobService.assginJob(this.searchParams).pipe(Object(r.a)(this.destroy$)).subscribe(t=>{if(!t)return this.dataAssign=[],void this.changeRef.markForCheck();this.dataAssign=c.get(t,"items"),console.log("assgin job",t),this.length=c.get(t,"total"),this.pageSize=c.get(t,"per_page"),this.changeRef.markForCheck()},()=>{},()=>{this.isLoading=!1})}backToJobList(){this.isTaskState=!1,this.isTaskState||(this.subscription&&this.subscription.unsubscribe(),this.getAssignJob())}getTaskList(t){this.currentJob=t,this.subscription&&this.subscription.unsubscribe(),this.subscription=this.jobService.getTaskList(c.get(t,"assignment_id")).pipe(Object(r.a)(this.destroy$)).subscribe(e=>{e&&(this.dataTaskList=c.get(e,"tasks"),this.jobService.setLstTask(this.dataTaskList),this.isTaskState=!0,this.jobDetail=e,this.navigateToMission(t,e),this.changeRef.markForCheck())},()=>{this.backToJobList(),this.jobDetail=null})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}navigateToMission(t,e){const n=c.get(t,"category");switch(this.currentTask=this.dataTaskList[0],n){case Ci.a.NamedEntity:this.route.navigate(["annotator/text-annotate"]).then(t=>{this.stagingService.setNameEntityTask({task:this.dataTaskList[0],job:this.currentJob,jobDetail:e})});break;case Ci.a.Translation:this.route.navigate(["annotator/translation"]).then(t=>{this.stagingService.setTranslation({task:this.dataTaskList[0],job:this.currentJob,jobDetail:e})});break;case Ci.a.SentenceRewriting:this.route.navigate(["annotator/sentence-rewriting"]).then(t=>{this.stagingService.setSentenceRewriting({task:this.dataTaskList[0],job:this.currentJob,jobDetail:e})});break;case Ci.a.NaturalLanguageInference:this.route.navigate(["annotator/natural-language-inference"]).then(t=>{this.stagingService.setNaturalLanguageInference({task:this.dataTaskList[0],job:this.currentJob,jobDetail:e})});break;case Ci.a.ImageCaptioning:this.route.navigate(["annotator/image-annotate"]).then(t=>{this.stagingService.setImageTask({task:this.dataTaskList[0],job:this.currentJob,jobDetail:e})});break;case Ci.a.SentimentAnalysis:this.route.navigate(["annotator/sentiment-analysis"]).then(t=>{this.stagingService.setSentimentAnalysis({task:this.dataTaskList[0],job:this.currentJob,jobDetail:e})});break;case Ci.a.RichNaturalLanguageInference:this.route.navigate(["annotator/rich-natural-language-inference"]).then(t=>{this.stagingService.setRichNaturalLanguageInference({task:this.dataTaskList[0],job:this.currentJob,jobDetail:e})});break;case Ci.a.UniversalDependencies:if(xi.a.developMode)return void this.route.navigate(["annotator/name-entity"]).then(t=>{this.stagingService.setUniversalDependencies({task:this.dataTaskList[0],job:this.currentJob,jobDetail:e})});this.route.navigate(["annotator/universal-dependencies"]).then(t=>{this.stagingService.setUniversalDependencies({task:this.dataTaskList[0],job:this.currentJob,jobDetail:e})})}}setTask(t){switch(this.currentTask=t,c.get(this.currentJob,"category")){case Ci.a.NamedEntity:this.stagingService.setNameEntityTask({task:t,job:this.currentJob,jobDetail:this.jobDetail});break;case Ci.a.Translation:this.stagingService.setTranslation({task:t,job:this.currentJob,jobDetail:this.jobDetail});break;case Ci.a.SentenceRewriting:this.stagingService.setSentenceRewriting({task:t,job:this.currentJob,jobDetail:this.jobDetail});break;case Ci.a.NaturalLanguageInference:this.stagingService.setNaturalLanguageInference({task:t,job:this.currentJob,jobDetail:this.jobDetail});break;case Ci.a.ImageCaptioning:this.stagingService.setImageTask({task:t,job:this.currentJob,jobDetail:this.jobDetail});break;case Ci.a.SentimentAnalysis:this.stagingService.setSentimentAnalysis({task:t,job:this.currentJob,jobDetail:this.jobDetail});break;case Ci.a.RichNaturalLanguageInference:this.stagingService.setRichNaturalLanguageInference({task:t,job:this.currentJob,jobDetail:this.jobDetail});break;case Ci.a.UniversalDependencies:this.stagingService.setUniversalDependencies({task:t,job:this.currentJob,jobDetail:this.jobDetail})}this.closeLeftMenu()}closeLeftMenu(){this.stagingService.setShowMenu(!1)}search(){this.getAssignJob()}handlePageEvent(t){this.length=t.length,this.pageSize=t.pageSize;const e=t.pageIndex;this.pageIndex=e||0===e?e+1:e,this.searchParams.page=this.pageIndex,this.searchParams.per_page=this.pageSize,this.getAssignJob()}}return t.\u0275fac=function(e){return new(e||t)(g.xc(u.a),g.xc(g.j),g.xc(o.h),g.xc(h.a))},t.\u0275cmp=g.rc({type:t,selectors:[["app-aside"]],decls:39,vars:24,consts:[[1,"aside-container"],[1,"form-group","d-flex"],["name","search",1,"form-control","col-6"],["name","filter",1,"form-control","flex-grow-1","mx-2",3,"ngModel","ngModelChange"],["value","all"],["value","accepted"],["value","rejected"],["value","doing"],["mat-icon-button","",1,"btn-search",3,"click"],[1,"d-flex","align-items-center","mb-2","aside-header"],["mat-icon-button","","role","button",1,"reset","mr-3",3,"click"],[1,"search-result","mb-0"],[4,"ngIf","ngIfElse"],["totalTask",""],[3,"length","pageSize","pageSizeOptions","hidePageSize","page",4,"ngIf"],[1,"jobs"],["task",""],[1,"close"],[3,"click"],[3,"length","pageSize","pageSizeOptions","hidePageSize","page"],[4,"ngFor","ngForOf"],[1,"job",3,"click"],[1,"job-status"],[1,"text",3,"matBadge"],[1,"mb-2"],[1,"w-100","text-muted"],[1,"job","job-task",3,"click"],["class","fa fa-check",4,"ngIf"],["class","fa fa-times",3,"text-danger",4,"ngIf"],["image",""],[1,"fa","fa-check"],[1,"fa","fa-times"],[1,"image"],[3,"src","alt"]],template:function(t,e){if(1&t&&(g.Dc(0,"div",0),g.Dc(1,"div",1),g.yc(2,"input",2),g.Dc(3,"select",3),g.Nc("ngModelChange",function(t){return e.searchParams.filter=t}),g.Dc(4,"option",4),g.td(5),g.Sc(6,"translate"),g.Cc(),g.Dc(7,"option",5),g.td(8),g.Sc(9,"translate"),g.Cc(),g.Dc(10,"option",6),g.td(11),g.Sc(12,"translate"),g.Cc(),g.Dc(13,"option",7),g.td(14),g.Sc(15,"translate"),g.Cc(),g.Cc(),g.Dc(16,"button",8),g.Nc("click",function(){return e.search()}),g.Dc(17,"mat-icon"),g.td(18,"search"),g.Cc(),g.Cc(),g.Cc(),g.Dc(19,"div",9),g.Dc(20,"button",10),g.Nc("click",function(){return e.backToJobList()}),g.Dc(21,"mat-icon"),g.td(22,"keyboard_backspace"),g.Cc(),g.Cc(),g.Dc(23,"h3",11),g.td(24),g.Sc(25,"translate"),g.rd(26,Pi,2,1,"ng-container",12),g.rd(27,Mi,1,1,"ng-template",null,13,g.sd),g.td(29),g.Sc(30,"translate"),g.Cc(),g.rd(31,vi,1,5,"mat-paginator",14),g.Cc(),g.Dc(32,"div",15),g.rd(33,Di,2,1,"ng-container",12),g.rd(34,Ii,1,1,"ng-template",null,16,g.sd),g.Cc(),g.Dc(36,"div",17),g.Dc(37,"mat-icon",18),g.Nc("click",function(){return e.closeLeftMenu()}),g.td(38,"close"),g.Cc(),g.Cc(),g.Cc()),2&t){const t=g.gd(28),n=g.gd(35);g.kc(3),g.Yc("ngModel",e.searchParams.filter),g.kc(2),g.ud(g.Tc(6,12,"common.all")),g.kc(3),g.ud(g.Tc(9,14,"common.accepted")),g.kc(3),g.ud(g.Tc(12,16,"common.rejected")),g.kc(3),g.ud(g.Tc(15,18,"common.done")),g.kc(10),g.vd("",g.Tc(25,20,"common.aboutResult")," "),g.kc(2),g.Yc("ngIf",!e.isTaskState)("ngIfElse",t),g.kc(3),g.vd(" ",g.Tc(30,22,"common.result"),""),g.kc(2),g.Yc("ngIf",!e.isTaskState),g.kc(2),g.Yc("ngIf",!e.isTaskState)("ngIfElse",n)}},directives:[s.w,s.q,s.t,s.u,s.y,f.a,z.a,i.n,Oi.a,i.m,A.a],pipes:[tt.d],styles:["[_nghost-%COMP%]{height:100%;overflow:auto}[_nghost-%COMP%]   .aside-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}[_nghost-%COMP%]   .aside-container[_ngcontent-%COMP%]   .aside-header[_ngcontent-%COMP%]{margin:0 -16px}[_nghost-%COMP%]   .aside-container[_ngcontent-%COMP%]   .search-result[_ngcontent-%COMP%]{color:#fff;font-weight:400;font-size:14px;color:#6f7b7e}[_nghost-%COMP%]   .aside-container[_ngcontent-%COMP%]   .jobs[_ngcontent-%COMP%]{color:#fff;flex-grow:1;overflow:auto;margin:0 -16px;height:200px}[_nghost-%COMP%]   .aside-container[_ngcontent-%COMP%]   .jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:flex-start;font-size:14px;height:50px;text-overflow:ellipsis;overflow:hidden;border-radius:4px;box-sizing:content-box;padding:8px 0}[_nghost-%COMP%]   .aside-container[_ngcontent-%COMP%]   .jobs[_ngcontent-%COMP%]   .job.active[_ngcontent-%COMP%]{background:#5a5e5f}[_nghost-%COMP%]   .aside-container[_ngcontent-%COMP%]   .jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]:hover{background-color:#5a5e5f}[_nghost-%COMP%]   .aside-container[_ngcontent-%COMP%]   .jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;-webkit-line-clamp:2;-webkit-box-orient:vertical;text-overflow:ellipsis;display:-webkit-box;overflow:hidden;padding-right:16px}[_nghost-%COMP%]   .aside-container[_ngcontent-%COMP%]   .jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .job-status[_ngcontent-%COMP%]{padding:0 16px;font-size:20px;min-width:48px}[_nghost-%COMP%]   .aside-container[_ngcontent-%COMP%]   .jobs[_ngcontent-%COMP%]   .job[_ngcontent-%COMP%]   .job-status[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-top:4px;font-size:16px}[_nghost-%COMP%]   .aside-container[_ngcontent-%COMP%]   .jobs[_ngcontent-%COMP%]   .job-image[_ngcontent-%COMP%]{min-height:100px}[_nghost-%COMP%]   .aside-container[_ngcontent-%COMP%]   .jobs[_ngcontent-%COMP%]   .job-image[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:100%;padding-right:12px}[_nghost-%COMP%]   .aside-container[_ngcontent-%COMP%]   .jobs[_ngcontent-%COMP%]   .job-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;-o-object-fit:cover;object-fit:cover}[_nghost-%COMP%]   .aside-container[_ngcontent-%COMP%]   .btn-search[_ngcontent-%COMP%]{background:#3699ff;border-radius:.42rem}[_nghost-%COMP%]   .mat-badge[_ngcontent-%COMP%]{width:calc(100% - 70px)}[_nghost-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{min-width:50px;border-radius:5px;top:-6px!important}[_nghost-%COMP%]   .rejected[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}[_nghost-%COMP%]   mat-paginator[_ngcontent-%COMP%]{background:transparent;color:#fff;margin-left:auto}[_nghost-%COMP%]   mat-paginator[_ngcontent-%COMP%]     .mat-paginator-range-label{margin:0;color:#6f7b7e}[_nghost-%COMP%]   mat-paginator[_ngcontent-%COMP%]     .mat-button-disabled .mat-button-wrapper{color:#6f7b7e}[_nghost-%COMP%]   .close[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid #fff;margin:0 auto;display:none}[_nghost-%COMP%]   .close[_ngcontent-%COMP%], [_nghost-%COMP%]   .close[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{align-items:center;justify-content:center}[_nghost-%COMP%]   .close[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;display:flex}[_nghost-%COMP%]   .close[_ngcontent-%COMP%]:hover{background:#fff}[_nghost-%COMP%]   .close[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{color:#000}@media screen and (max-width:1024px){[_nghost-%COMP%]   .aside-container[_ngcontent-%COMP%]{padding:16px}[_nghost-%COMP%]   .aside-container[_ngcontent-%COMP%]   .job-task[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:normal}[_nghost-%COMP%]   .close[_ngcontent-%COMP%]{display:flex}}"]}),t})();function Li(t,e){if(1&t&&(g.Dc(0,"div",17),g.td(1),g.Cc()),2&t){const t=e.ngIf;g.kc(1),g.vd("Hi, ",t.username,"")}}let zi=(()=>{class t{constructor(t,e,n){this.stagingService=t,this.router=e,this.authService=n,this.transparent="transparent",this.showLeftSideNav=!1,this.showRightSideNav=!1,this.destroy$=new a.a,this.user$=this.authService.currentUserSubject.asObservable()}ngOnInit(){this.stagingService.getShowMenu().pipe(Object(r.a)(this.destroy$)).subscribe(t=>{this.showLeftSideNav=!1,this.showRightSideNav=!1})}goToHome(){this.router.navigate(["/annotator"]),this.stagingService.setResetStateAside(!0)}logout(){this.authService.logout()}close(){this.showLeftSideNav=!1,this.showRightSideNav=!1}}return t.\u0275fac=function(e){return new(e||t)(g.xc(h.a),g.xc(o.h),g.xc(di.a))},t.\u0275cmp=g.rc({type:t,selectors:[["app-footer"]],decls:35,vars:7,consts:[[1,"footer-container"],["matRipple","",1,"footer-tab","col-2",3,"click"],["mat-icon-button","","attr.matRippleColor","transparent",1,"btn"],["matRipple","",1,"footer-tab","col-2"],["mat-icon-button","","attr.matRippleColor","transparent",3,"click"],[1,"footer-tab","col-2"],["mat-icon-button","","attr.matRippleColor","transparent","disabled",""],[1,"sidenav","sidenav-left"],[1,"sidenav","sidenav-right"],[1,"action-close","mb-3",3,"click"],["mat-icon-button",""],[1,"profile-nav"],[1,"d-flex","algin-items-center","justify-content-center","mb-3"],[1,"avatar"],["class","profile",4,"ngIf"],[1,"logout","d-flex","algin-items-center","jusify-content-center"],["mat-stroked-button","",1,"btn",3,"click"],[1,"profile"]],template:function(t,e){1&t&&(g.Dc(0,"div",0),g.Dc(1,"div",1),g.Nc("click",function(){return e.showLeftSideNav=!e.showLeftSideNav}),g.Dc(2,"button",2),g.Dc(3,"mat-icon"),g.td(4,"format_list_bulleted"),g.Cc(),g.Cc(),g.Cc(),g.Dc(5,"div",3),g.Dc(6,"button",4),g.Nc("click",function(){return e.goToHome()}),g.Dc(7,"mat-icon"),g.td(8,"home"),g.Cc(),g.Cc(),g.Cc(),g.yc(9,"div",5),g.Dc(10,"div",3),g.Dc(11,"button",6),g.Dc(12,"mat-icon"),g.td(13,"find_replace"),g.Cc(),g.Cc(),g.Cc(),g.Dc(14,"div",3),g.Dc(15,"button",4),g.Nc("click",function(){return e.showRightSideNav=!e.showRightSideNav}),g.Dc(16,"mat-icon"),g.td(17,"account_circle"),g.Cc(),g.Cc(),g.Cc(),g.Cc(),g.Bc(18),g.Dc(19,"div",7),g.yc(20,"app-aside"),g.Cc(),g.Ac(),g.Bc(21),g.Dc(22,"div",8),g.Dc(23,"div",9),g.Nc("click",function(){return e.close()}),g.Dc(24,"button",10),g.Dc(25,"mat-icon"),g.td(26,"close"),g.Cc(),g.Cc(),g.Cc(),g.Dc(27,"div",11),g.Dc(28,"div",12),g.yc(29,"div",13),g.Cc(),g.rd(30,Li,2,1,"div",14),g.Sc(31,"async"),g.Dc(32,"div",15),g.Dc(33,"button",16),g.Nc("click",function(){return e.logout()}),g.td(34,"Logout"),g.Cc(),g.Cc(),g.Cc(),g.Cc(),g.Ac()),2&t&&(g.kc(19),g.pc("show",e.showLeftSideNav),g.kc(3),g.pc("show",e.showRightSideNav),g.kc(8),g.Yc("ngIf",g.Tc(31,5,e.user$)))},directives:[b.k,f.a,z.a,Ei,i.n],pipes:[i.b],styles:["[_nghost-%COMP%]   .footer-container[_ngcontent-%COMP%]{height:100%;background:#fff;z-index:999;display:flex;justify-content:space-between;z-index:1}[_nghost-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-tab[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .footer-container[_ngcontent-%COMP%]   .footer-tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:30px!important;width:30px!important;height:30px!important;line-height:30px!important}.sidenav[_ngcontent-%COMP%]{height:100%;width:0;position:fixed;z-index:1;top:0;left:0;background-color:#111;overflow-x:hidden;transition:.5s}.sidenav-right[_ngcontent-%COMP%]{right:0;left:unset;font-size:16px;height:100%;color:#fff}.sidenav-right[_ngcontent-%COMP%]   .action-close[_ngcontent-%COMP%]{position:absolute;right:5}.sidenav-right[_ngcontent-%COMP%]   .profile-nav[_ngcontent-%COMP%]{padding:24px 16px 16px;display:flex;align-content:center;align-items:center;justify-content:center}.sidenav-right[_ngcontent-%COMP%]   .profile-nav[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]{font-size:24px}.sidenav-right[_ngcontent-%COMP%]   .profile-nav[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]{position:absolute;bottom:40px;transform:translateX(-50%);left:50%}.show[_ngcontent-%COMP%]{width:100%}"]}),t})();const Ai=[{path:"",component:(()=>{class t{constructor(t){this.sanitizer=t,this.url="http://doccano.herokuapp.com/demo/text-classification/"}transform(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(g.xc(li.b))},t.\u0275cmp=g.rc({type:t,selectors:[["app-dashboard"]],decls:10,vars:0,consts:[[1,"customer-page"],[1,"customer-page-content"],[1,"routing"]],template:function(t,e){1&t&&(g.Dc(0,"section",0),g.Dc(1,"header"),g.yc(2,"app-header"),g.Cc(),g.Dc(3,"div",1),g.Dc(4,"aside"),g.yc(5,"app-aside"),g.Cc(),g.Dc(6,"div",2),g.yc(7,"router-outlet"),g.Cc(),g.Cc(),g.Dc(8,"footer"),g.yc(9,"app-footer"),g.Cc(),g.Cc())},directives:[fi,Ei,o.m,zi],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}iframe[_ngcontent-%COMP%]{border:0}.customer-page[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column;overflow:auto}.customer-page[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{height:50px;line-height:50px;background:#2a2e2f;box-shadow:0 1px 4px rgba(0,0,0,.3);position:relative;z-index:1;padding:0 16px;color:#fff}.customer-page-content[_ngcontent-%COMP%]{flex-grow:1;display:flex}.customer-page-content[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]{min-width:25%;background:#2a2e2f;padding:16px;color:#fff;max-width:25%}.customer-page-content[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]     app-aside{color:#fff}.customer-page-content[_ngcontent-%COMP%]   .routing[_ngcontent-%COMP%]{flex-grow:1}footer[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;height:50px;line-height:50px;box-shadow:0 -2px 8px 0 #d9d9d9;z-index:1}@media screen and (max-width:1024px){header[_ngcontent-%COMP%]{display:none}footer[_ngcontent-%COMP%]{display:block}aside[_ngcontent-%COMP%]{display:none}}@media screen and (min-width:1025px){footer[_ngcontent-%COMP%]{display:none}header[_ngcontent-%COMP%]{display:block}}"]}),t})(),children:[{path:"text-annotate",component:Pe},{path:"translation",component:we},{path:"image-annotate",component:rt},{path:"register-job",component:ci.a},{path:"sentence-rewriting",component:Zt},{path:"natural-language-inference",component:_t},{path:"sentiment-analysis",component:re},{path:"rich-natural-language-inference",component:Gt},{path:"name-entity",component:ri},{path:"",redirectTo:"register-job",pathMatch:"full"}]}];let Ni=(()=>{class t{}return t.\u0275mod=g.vc({type:t}),t.\u0275inj=g.uc({factory:function(e){return new(e||t)},imports:[[o.l.forChild(Ai)],o.l]}),t})();var Bi=n("WsYS"),Yi=n("1kSV"),Fi=n("tM0M"),$i=n("YeVr"),Gi=n("/1cH"),Ji=n("bSwM"),Vi=n("A5z7"),qi=n("bv9b"),Hi=n("H+Ub"),Ui=n("STbY"),Ki=n("9Xeq"),Wi=n("kFOB"),Zi=n("CV0D"),Xi=n("e8Ap");let Qi=(()=>{class t{}return t.\u0275mod=g.vc({type:t}),t.\u0275inj=g.uc({factory:function(e){return new(e||t)},imports:[[i.c,U]]}),t})();var to=n("fTyu");let eo=(()=>{class t{}return t.\u0275mod=g.vc({type:t}),t.\u0275inj=g.uc({factory:function(e){return new(e||t)},imports:[[i.c,At,s.v,z.b,A.b,f.b,N.b,T,Xi.b,Zi.b,Yi.e,Wi.a,_i.l,An,s.m,s.v,Qi,to.a,tt.c,Ui.d,Ji.b,Ki.a]]}),t})();var no=n("bkNS");let io=(()=>{class t{}return t.\u0275mod=g.vc({type:t}),t.\u0275inj=g.uc({factory:function(e){return new(e||t)},providers:[{provide:Oi.b,useClass:no.a}],imports:[[i.c,Bi.a,o.l,z.b,Fi.a,$i.a,Yi.e,Yi.j,Bi.a,Ni,s.v,s.m,qi.a,_i.l,Ji.b,f.b,z.b,Oi.c,Hi.a,Vi.e,Gi.b,Ui.d,eo,A.b,b.l,to.a,hi.b]]}),t})()}}]);